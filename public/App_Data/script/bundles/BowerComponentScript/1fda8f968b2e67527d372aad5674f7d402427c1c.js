/*!
 * angular-datatables - v0.4.0
 * https://github.com/l-lin/angular-datatables
 * License: MIT
 */
function match(n){return{require:"?ngModel",restrict:"A",link:function(t,i,r,u){function f(){var n=e(t);return angular.isObject(n)&&n.hasOwnProperty("$viewValue")&&(n=n.$viewValue),n}if(!u){console&&console.warn&&console.warn("Match validation requires ngModel to be on the element");return}var e=n(r.match),o=n(r.matchCaseless);t.$watch(f,function(){u.$$parseAndValidate()});u.$validators.match=function(){var n=f();return o(t)&&angular.isString(n)&&angular.isString(u.$viewValue)?u.$viewValue.toLowerCase()===n.toLowerCase():u.$viewValue===n}}}}var Skycons,angularSkycons;!function(n,t,i,r){"use strict";function u(n,t,i,u,f){function e(n){var t=n[0].innerHTML;return function(n,i,f,e){function o(n,r){n!==r&&e.render(i,e.buildOptionsPromise(),t)}var s=f.dtDisableDeepWatchers?"$watchCollection":"$watch";r.forEach(["dtColumns","dtColumnDefs","dtOptions"],function(t){n[s].call(n,t,o,!0)});u.showLoading(i);e.render(i,e.buildOptionsPromise(),t)}}function o(e){function h(){var i=n.defer();return n.all([n.when(e.dtOptions),n.when(e.dtColumns),n.when(e.dtColumnDefs)]).then(function(i){var e=i[0],o=i[1],s=i[2],u,h;return f.deleteProperty(e,"$promise"),f.deleteProperty(o,"$promise"),f.deleteProperty(s,"$promise"),r.isDefined(e)&&(u={},r.extend(u,e),r.isArray(o)&&(u.aoColumns=o),r.isArray(s)&&(u.aoColumnDefs=s),u.language&&u.language.url)&&(h=n.defer(),t.get(u.language.url).success(function(n){h.resolve(n)}),u.language=h.promise),f.resolveObjectPromises(u,["data","aaData","fnPromise"])}).then(function(n){i.resolve(n)}),i.promise}function c(n,t,r){t.then(function(t){u.preRender(t);var f=e.datatable&&"ng"===e.datatable;o&&o._renderer?o._renderer.withOptions(t).render(n,e,r).then(function(n){o=n}):i.fromOptions(t,f).render(n,e,r).then(function(n){o=n})})}var o,s=this;s.buildOptionsPromise=h;s.render=c}return e.$inject=["tElm"],o.$inject=["$scope"],{restrict:"A",scope:{dtOptions:"=",dtColumns:"=",dtColumnDefs:"=",datatable:"@"},compile:e,controller:o}}function p(){var n={hasOverrideDom:!1,withOption:function(n,t){return r.isString(n)&&(this[n]=t),this},withSource:function(n){return this.ajax=n,this},withDataProp:function(n){return this.sAjaxDataProp=n,this},withFnServerData:function(n){if(!r.isFunction(n))throw new Error("The parameter must be a function");return this.fnServerData=n,this},withPaginationType:function(n){if(!r.isString(n))throw new Error("The pagination type must be provided");return this.sPaginationType=n,this},withLanguage:function(n){return this.language=n,this},withLanguageSource:function(n){return this.withLanguage({url:n})},withDisplayLength:function(n){return this.iDisplayLength=n,this},withFnPromise:function(n){return this.fnPromise=n,this},withDOM:function(n){return this.dom=n,this}};return{newOptions:function(){return Object.create(n)},fromSource:function(t){var i=Object.create(n);return i.ajax=t,i},fromFnPromise:function(t){var i=Object.create(n);return i.fnPromise=t,i}}}function w(){var n={withOption:function(n,t){return r.isString(n)&&(this[n]=t),this},withTitle:function(n){return this.sTitle=n,this},withClass:function(n){return this.sClass=n,this},notVisible:function(){return this.bVisible=!1,this},notSortable:function(){return this.bSortable=!1,this},renderWith:function(n){return this.mRender=n,this}};return{newColumn:function(t,i){if(r.isUndefined(t))throw new Error('The parameter "mData" is not defined!');var u=Object.create(n);return u.mData=t,u.sTitle=i||"",u},DTColumn:n}}function f(n){return{newColumnDef:function(t){if(r.isUndefined(t))throw new Error('The parameter "targets" must be defined! See https://datatables.net/reference/option/columnDefs.targets');var i=Object.create(n.DTColumn);return i.aTargets=r.isArray(t)?t:[t],i}}}function b(){return{html:'<h3 class="dt-loading">Loading...<\/h3>'}}function e(n){function e(n,i){return n.id=i.id,n.DataTable=i.DataTable,n.dataTable=i.dataTable,u[n.id]=n,t&&t.resolve(n),r&&r.resolve(u),n}function o(){var r=n.defer();return i||(t=n.defer(),i=t.promise),i.then(function(n){r.resolve(n);t=null;i=null}),r.promise}function s(){var t=n.defer();return f.then(function(n){t.resolve(n);r=null;f=null}),t.promise}var u={},t=null,i=null,r=null,f=null;return{register:e,getLast:o,getList:s}}function k(){function n(n){var t=Object.create(u);return t._renderer=n,t}function t(){this._renderer.reloadData()}function i(n){this._renderer.changeData(n)}function r(){this._renderer.rerender()}var u={reloadData:t,changeData:i,rerender:r};return{newDTInstance:n}}function o(t){i.fn.DataTable.Api&&i.fn.DataTable.Api.register("ngDestroy()",function(r){return r=r||!1,this.iterator("table",function(u){var h,c=u.nTableWrapper.parentNode,f=u.oClasses,o=u.nTable,y=u.nTBody,s=u.nTHead,l=u.nTFoot,e=i(o),p=i(y),v=i(u.nTableWrapper),w=i.map(u.aoData,function(n){return n.nTr}),a;if(u.bDestroying=!0,i.fn.DataTable.ext.internal._fnCallbackFire(u,"aoDestroyCallback","destroy",[u]),r||new i.fn.DataTable.Api(u).columns().visible(!0),v.unbind(".DT").find(":not(tbody *)").unbind(".DT"),i(n).unbind(".DT-"+u.sInstance),o!==s.parentNode&&(e.children("thead").detach(),e.append(s)),l&&o!==l.parentNode&&(e.children("tfoot").detach(),e.append(l)),e.detach(),v.detach(),u.aaSorting=[],u.aaSortingFixed=[],i.fn.DataTable.ext.internal._fnSortingClasses(u),i(w).removeClass(u.asStripeClasses.join(" ")),i("th, td",s).removeClass(f.sSortable+" "+f.sSortableAsc+" "+f.sSortableDesc+" "+f.sSortableNone),u.bJUI&&(i("th span."+f.sSortIcon+", td span."+f.sSortIcon,s).detach(),i("th, td",s).each(function(){var n=i("div."+f.sSortJUIWrapper,this);i(this).append(n.contents());n.detach()})),!r&&c)try{c.insertBefore(o,u.nTableReinsertBefore)}catch(b){t.warn(b);c.appendChild(o)}e.css("width",u.sDestroyWidth).removeClass(f.sTable);h=u.asDestroyStripes.length;h&&p.children().each(function(n){i(this).addClass(u.asDestroyStripes[n%h])});a=i.inArray(u,i.fn.DataTable.settings);-1!==a&&i.fn.DataTable.settings.splice(a,1)})})}function d(){function t(t){return i.extend(i.fn.dataTable.defaults,{oLanguage:{sUrl:t}}),n}function r(t){return i.extend(!0,i.fn.dataTable.defaults,{oLanguage:t}),n}function u(t){return i.extend(i.fn.dataTable.defaults,{iDisplayLength:t}),n}function f(t){return n.bootstrapOptions=t,n}var n={bootstrapOptions:{},setLanguageSource:t,setLanguage:r,setDisplayLength:u,setBootstrapOptions:f};return n}function s(n){function o(){return t}function s(n){n.after(t);n.hide();t.show()}function h(n){n.show();t.hide()}function c(n,t){var u="#"+n.attr("id");i.fn.dataTable.isDataTable(u)&&(t.destroy=!0);var f=n.DataTable(t),o=n.dataTable(),r={id:n.attr("id"),DataTable:f,dataTable:o};return e(t,r),r}function l(n,t){return f.hideLoading(n),f.renderDataTable(n,t)}function a(n){u.push(n)}function e(n,t){u.forEach(function(i){r.isFunction(i.postRender)&&i.postRender(n,t)})}function v(n){u.forEach(function(t){r.isFunction(t.preRender)&&t.preRender(n)})}var t=r.element(n.html),u=[],f={getLoadingElem:o,showLoading:s,hideLoading:h,renderDataTable:c,hideLoadingAndRenderDataTable:l,registerPlugin:a,postRender:e,preRender:v};return f}function g(){return{withOptions:function(n){return this.options=n,this}}}function h(n,t,i,r,u){function f(f){function s(t){o=t;var s=r.newDTInstance(e),f=i.hideLoadingAndRenderDataTable(t,e.options);return h=f.DataTable,n.when(u.register(s,f))}function c(){}function l(){}function a(){h.destroy();i.showLoading(o);s(o)}var h,o,e=Object.create(t);return e.name="DTDefaultRenderer",e.options=f,e.render=s,e.reloadData=c,e.changeData=l,e.rerender=a,e}return{create:f}}function c(n,t,i,r,u,f,e,o){function s(s){function w(n,i,u){var s;p=u;c=n;v=i.$parent;a=o.newDTInstance(h);var w=t.defer(),b=n.find("tbody").html(),k=b.match(/^\s*.+?\s+in\s+(\S*)\s*/),d=k[1];if(!k)throw new Error('Expected expression in form of "_item_ in _collection_[ track by _id_]" but got "{0}".',b);return s=!1,v.$watchCollection(d,function(){l&&s&&y();r(function(){s=!0;var n=f.hideLoadingAndRenderDataTable(c,h.options);l=n.DataTable;w.resolve(e.register(a,n))},0,!1)},!0),w.promise}function b(){n.warn("The Angular Renderer does not support reloading data. You need to do it directly on your model")}function k(){n.warn("The Angular Renderer does not support changing the data. You need to change your model directly.")}function d(){y();f.showLoading(c);r(function(){var n=f.hideLoadingAndRenderDataTable(c,h.options);l=n.DataTable;a=e.register(a,n)},0,!1)}function y(){l.ngDestroy();c.html(p);i(c.contents())(v)}var p,l,c,v,a,h=Object.create(u);return h.name="DTNGRenderer",h.options=s,h.render=w,h.reloadData=b,h.changeData=k,h.rerender=d,h}return{create:s}}function l(n,t,i,u,f,e,o){function s(s){function p(t){var i=n.defer();return c=o.newDTInstance(h),v=t,y(h.options.fnPromise,f.renderDataTable).then(function(n){a=n.DataTable;i.resolve(e.register(c,n))}),i.promise}function k(){r.isFunction(h.options.fnPromise)?y(h.options.fnPromise,b):i.warn("In order to use the reloadData functionality with a Promise renderer, you need to provide a function that returns a promise.")}function d(n){h.options.fnPromise=n;y(h.options.fnPromise,b)}function g(){a.destroy();f.showLoading(v);p(v)}function y(t,i){var u=n.defer();if(r.isUndefined(t))throw new Error("You must provide a promise or a function that returns a promise!");return l?l.then(function(){u.resolve(w(t,i))}):u.resolve(w(t,i)),u.promise}function w(t,i){var u=n.defer();return l=r.isFunction(t)?t():t,l.then(function(n){var t=n;h.options.sAjaxDataProp&&(t=n[h.options.sAjaxDataProp]);l=null;u.resolve(nt(h.options,v,t,i))}),u.promise}function nt(i,r,u,e){var o=n.defer();return delete u.$promise,i.aaData=u,t(function(){f.hideLoading(r);i.bDestroy=!0;o.resolve(e(r,i))},0,!1),o.promise}function b(){return a.clear(),a.rows.add(s.aaData).draw(),{id:c.id,DataTable:c.DataTable,dataTable:c.dataTable}}var a,v,c,l=null,h=Object.create(u);return h.name="DTPromiseRenderer",h.options=s,h.render=p,h.reloadData=k,h.changeData=d,h.rerender=g,h}return{create:s}}function a(n,t,i,u,f,e,o){function s(s){function a(t){l=t;var i=n.defer(),u=o.newDTInstance(h);return r.isUndefined(h.options.sAjaxDataProp)&&(h.options.sAjaxDataProp=f.sAjaxDataProp),r.isUndefined(h.options.aoColumns)&&(h.options.aoColumns=f.aoColumns),w(h.options,t).then(function(n){c=n.DataTable;i.resolve(e.register(u,n))}),i.promise}function v(){if(c){var n=h.options.ajax.url||h.options.ajax;c.ajax.url(n).load()}}function y(n){h.options.ajax=n;h.reloadData()}function p(){c.destroy();u.showLoading(l);a(l)}function w(i,r){var f=n.defer();return i.bDestroy=!0,u.hideLoading(r),b(i)?t(function(){f.resolve(u.renderDataTable(r,i))},0,!1):f.resolve(u.renderDataTable(r,i)),f.promise}function b(n){return r.isDefined(n)&&r.isDefined(n.dom)?n.dom.indexOf("S")>=0:!1}var c,l,h=Object.create(i);return h.name="DTAjaxRenderer",h.options=s,h.render=a,h.reloadData=v,h.changeData=y,h.rerender=p,h}return{create:s}}function v(n,t,i,u){function f(f,e){return e?t.create(f):r.isDefined(f)?r.isDefined(f.fnPromise)&&null!==f.fnPromise?i.create(f):r.isDefined(f.ajax)&&null!==f.ajax||r.isDefined(f.ajax)&&null!==f.ajax?u.create(f):n.create(f):n.create()}return{fromOptions:f}}function y(n){function t(n,i){var u=r.copy(n),f;if((r.isUndefined(u)||null===u)&&(u={}),r.isUndefined(i)||null===i)return u;if(r.isObject(i))for(f in i)i.hasOwnProperty(f)&&(u[f]=t(u[f],i[f]));else u=r.copy(i);return u}function f(n,t){r.isObject(n)&&delete n[t]}function i(t,i){var o=n.defer(),s=[],f={},h=i||[],e;if(!r.isObject(t)||r.isArray(t))o.resolve(t);else{f=r.extend(f,t);for(e in f)f.hasOwnProperty(e)&&-1===h.indexOf(e)&&s.push(r.isArray(f[e])?u(f[e]):n.when(f[e]));n.all(s).then(function(n){var i=0;for(var t in f)f.hasOwnProperty(t)&&-1===h.indexOf(t)&&(f[t]=n[i++]);o.resolve(f)})}return o.promise}function u(t){var u=n.defer(),f=[],e=[];return r.isArray(t)?(t.forEach(function(t){f.push(r.isObject(t)?i(t):n.when(t))}),n.all(f).then(function(n){n.forEach(function(n){e.push(n)});u.resolve(e)})):u.resolve(t),u.promise}return{overrideProperties:t,deleteProperty:f,resolveObjectPromises:i,resolveArrayPromises:u}}r.module("datatables.directive",["datatables.instances","datatables.renderer","datatables.options","datatables.util"]).directive("datatable",u);u.$inject=["$q","$http","DTRendererFactory","DTRendererService","DTPropertyUtil"];r.module("datatables.factory",[]).factory("DTOptionsBuilder",p).factory("DTColumnBuilder",w).factory("DTColumnDefBuilder",f).factory("DTLoadingTemplate",b);f.$inject=["DTColumnBuilder"];r.module("datatables.instances",[]).factory("DTInstances",e).factory("DTInstanceFactory",k);e.$inject=["$q"];r.module("datatables",["datatables.directive","datatables.factory"]).run(o);o.$inject=["$log"];r.module("datatables.options",[]).constant("DT_DEFAULT_OPTIONS",{dom:"lfrtip",sAjaxDataProp:"",aoColumns:[]}).service("DTDefaultOptions",d);r.module("datatables.renderer",["datatables.instances","datatables.factory","datatables.options","datatables.instances"]).factory("DTRendererService",s).factory("DTRenderer",g).factory("DTDefaultRenderer",h).factory("DTNGRenderer",c).factory("DTPromiseRenderer",l).factory("DTAjaxRenderer",a).factory("DTRendererFactory",v);s.$inject=["DTLoadingTemplate"];h.$inject=["$q","DTRenderer","DTRendererService","DTInstanceFactory","DTInstances"];c.$inject=["$log","$q","$compile","$timeout","DTRenderer","DTRendererService","DTInstances","DTInstanceFactory"];l.$inject=["$q","$timeout","$log","DTRenderer","DTRendererService","DTInstances","DTInstanceFactory"];a.$inject=["$q","$timeout","DTRenderer","DTRendererService","DT_DEFAULT_OPTIONS","DTInstances","DTInstanceFactory"];v.$inject=["DTDefaultRenderer","DTNGRenderer","DTPromiseRenderer","DTAjaxRenderer"];r.module("datatables.util",[]).factory("DTPropertyUtil",y);y.$inject=["$q"]}(window,document,jQuery,angular);
/*!
 * angular-datatables - v0.4.0
 * https://github.com/l-lin/angular-datatables
 * License: MIT
 */
!function(n,t,i,r){"use strict";function u(n,t){function u(u,f){if(!r){var e=n.overrideProperties(t.getOptions().ColVis,f?f.ColVis:null);i.fn.DataTable.ColVis&&u(function(){i(".ColVis_MasterButton").attr("class","ColVis_MasterButton "+e.classes.masterButton);i(".ColVis_Button").removeClass("ColVis_Button")});r=!0}}function f(){r&&i.fn.DataTable.ColVis&&(r=!1)}var r=!1;return{integrate:u,deIntegrate:f}}function f(n){function t(n){function t(n,t){function u(){return i.hasBootstrap=!0,r.isObject(i.oClasses)?i.oClasses.sPageButtonActive="active":i.oClasses={sPageButtonActive:"active"},i}function f(n){return i.bootstrap=n,i}var i=n(t);return i.withBootstrap=u,i.withBootstrapOptions=f,i}var i=n.newOptions,u=n.fromSource,f=n.fromFnPromise;return n.newOptions=function(){return t(i)},n.fromSource=function(n){return t(u,n)},n.fromFnPromise=function(n){return t(f,n)},n}n.decorator("DTOptionsBuilder",t);t.$inject=["$delegate"]}function e(n,t){function i(n){n&&n.hasBootstrap?t.integrate(n):t.deIntegrate()}var r={preRender:i};n.registerPlugin(r)}function o(n,u,f,e,o){function a(){s.oStdClasses=r.copy(i.fn.dataTableExt.oStdClasses);s.fnPagingInfo=i.fn.dataTableExt.oApi.fnPagingInfo;s.renderer=r.copy(i.fn.DataTable.ext.renderer);i.fn.DataTable.TableTools&&(s.TableTools={classes:r.copy(i.fn.DataTable.TableTools.classes),oTags:r.copy(i.fn.DataTable.TableTools.DEFAULTS.oTags)})}function v(){i.extend(i.fn.dataTableExt.oStdClasses,s.oStdClasses);i.fn.dataTableExt.oApi.fnPagingInfo=s.fnPagingInfo;i.extend(!0,i.fn.DataTable.ext.renderer,s.renderer)}function y(){i.extend(i.fn.dataTableExt.oStdClasses,{sWrapper:"dataTables_wrapper form-inline",sFilterInput:"form-control input-sm",sLengthSelect:"form-control input-sm",sFilter:"dataTables_filter",sLength:"dataTables_length"})}function p(){i.fn.dataTableExt.oApi.fnPagingInfo=function(n){return{iStart:n._iDisplayStart,iEnd:n.fnDisplayEnd(),iLength:n._iDisplayLength,iTotal:n.fnRecordsTotal(),iFilteredTotal:n.fnRecordsDisplay(),iPage:-1===n._iDisplayLength?0:Math.ceil(n._iDisplayStart/n._iDisplayLength),iTotalPages:-1===n._iDisplayLength?0:Math.ceil(n.fnRecordsDisplay()/n._iDisplayLength)}}}function w(n){i.extend(!0,i.fn.DataTable.ext.renderer,{pageButton:{_:function(r,u,o,s,h,c){var l,a,v=r.oClasses,y=r.language?r.language.oPaginate:r.oLanguage.oPaginate,k=0,g=e.overrideProperties(f.getOptions().pagination,n?n.pagination:null),p=i("<ul><\/ul>",{"class":g.classes.ul}),d=function(n,t){for(var b,u,nt=function(n){n.preventDefault();i.fn.DataTable.ext.internal._fnPageChange(r,n.data.action,!0)},g,s,f,e=0,w=t.length;w>e;e++)if(u=t[e],i.isArray(u))u.DT_el="li",g=i("<"+(u.DT_el||"div")+"/>").appendTo(p),d(g,u);else{l="";a="";f=i("<li><\/li>");switch(u){case"ellipsis":p.append('<li class="disabled"><a href="#" onClick="event.preventDefault()">&hellip;<\/a><\/li>');break;case"first":l=y.sFirst;a=u;0>=h&&(f.addClass(v.sPageButtonDisabled),s=!0);break;case"previous":l=y.sPrevious;a=u;0>=h&&(f.addClass(v.sPageButtonDisabled),s=!0);break;case"next":l=y.sNext;a=u;h>=c-1&&(f.addClass(v.sPageButtonDisabled),s=!0);break;case"last":l=y.sLast;a=u;h>=c-1&&(f.addClass(v.sPageButtonDisabled),s=!0);break;default:l=u+1;a="";h===u&&f.addClass(v.sPageButtonActive)}l&&(f.appendTo(p),b=i("<a>",{href:"#","class":a,"aria-controls":r.sTableId,"data-dt-idx":k,tabindex:r.iTabIndex,id:0===o&&"string"==typeof u?r.sTableId+"_"+u:null}).html(l).appendTo(f),i.fn.DataTable.ext.internal._fnBindAction(b,{action:u},nt),k++)}},w,b;try{w=i(t.activeElement).data("dt-idx");b=i(u).empty();p.appendTo(b);d(b,s);null!==w&&i(u).find("[data-dt-idx="+w+"]").focus()}catch(nt){}}}})}function l(n){r.isFunction(n)&&c.push(n)}function b(n){h||(a(),y(),p(),w(n),l(function(){i("div.dataTables_filter").find("input").addClass("form-control");i("div.dataTables_length").find("select").addClass("form-control")}),h=!0)}function k(n){return n.dom&&n.dom!==o.dom?n.dom:f.getOptions().dom}function d(t){b(t.bootstrap);n.integrate(t.bootstrap);u.integrate(l,t.bootstrap);t.dom=k(t);r.isUndefined(t.fnDrawCallback)&&(t.fnDrawCallback=function(){for(var n=0;n<c.length;n++)c[n]()})}function g(){h&&(v(),n.deIntegrate(),u.deIntegrate(),h=!1)}var h=!1,c=[],s={};return{integrate:d,deIntegrate:g}}function s(n,t,i){function r(){return t.overrideProperties(i,n.bootstrapOptions)}return{getOptions:r}}function h(n,t){function e(r){if(!u){if(s(),i.fn.DataTable.TableTools){var f=n.overrideProperties(t.getOptions().TableTools,r?r.TableTools:null);i.extend(!0,i.fn.DataTable.TableTools.classes,f.classes);i.extend(!0,i.fn.DataTable.TableTools.DEFAULTS.oTags,f.DEFAULTS.oTags)}u=!0}}function o(){u&&i.fn.DataTable.TableTools&&f.TableTools&&(i.extend(!0,i.fn.DataTable.TableTools.classes,f.TableTools.classes),i.extend(!0,i.fn.DataTable.TableTools.DEFAULTS.oTags,f.TableTools.oTags),u=!1)}function s(){i.fn.DataTable.TableTools&&(f.TableTools={classes:r.copy(i.fn.DataTable.TableTools.classes),oTags:r.copy(i.fn.DataTable.TableTools.DEFAULTS.oTags)})}var u=!1,f={};return{integrate:e,deIntegrate:o}}r.module("datatables.bootstrap.colvis",["datatables.bootstrap.options","datatables.util"]).service("DTBootstrapColVis",u);u.$inject=["DTPropertyUtil","DTBootstrapDefaultOptions"];r.module("datatables.bootstrap",["datatables.bootstrap.options","datatables.bootstrap.tabletools","datatables.bootstrap.colvis"]).config(f).run(e).service("DTBootstrap",o);f.$inject=["$provide"];e.$inject=["DTRendererService","DTBootstrap"];o.$inject=["DTBootstrapTableTools","DTBootstrapColVis","DTBootstrapDefaultOptions","DTPropertyUtil","DT_DEFAULT_OPTIONS"];r.module("datatables.bootstrap.options",["datatables.options","datatables.util"]).constant("DT_BOOTSTRAP_DEFAULT_OPTIONS",{TableTools:{classes:{container:"DTTT btn-group",buttons:{normal:"btn btn-default",disabled:"disabled"},collection:{container:"DTTT_dropdown dropdown-menu",buttons:{normal:"",disabled:"disabled"}},print:{info:"DTTT_print_info modal"},select:{row:"active"}},DEFAULTS:{oTags:{collection:{container:"ul",button:"li",liner:"a"}}}},ColVis:{classes:{masterButton:"btn btn-default"}},pagination:{classes:{ul:"pagination"}},dom:"<'row'<'col-xs-6'l><'col-xs-6'f>r>t<'row'<'col-xs-6'i><'col-xs-6'p>>"}).factory("DTBootstrapDefaultOptions",s);s.$inject=["DTDefaultOptions","DTPropertyUtil","DT_BOOTSTRAP_DEFAULT_OPTIONS"];r.module("datatables.bootstrap.tabletools",["datatables.bootstrap.options","datatables.util"]).service("DTBootstrapTableTools",h);h.$inject=["DTPropertyUtil","DTBootstrapDefaultOptions"]}(window,document,jQuery,angular);!function(n){"undefined"==typeof n.fn.each2&&n.extend(n.fn,{each2:function(t){for(var i=n([0]),r=-1,u=this.length;++r<u&&(i.context=i[0]=this[r])&&t.call(i[0],r,i)!==!1;);return this}})}(jQuery),function(n,t){"use strict";function k(t){var i=n(document.createTextNode(""));t.before(i);i.before(t);i.remove()}function h(n){function t(n){return dt[n]||n}return n.replace(/[^\u0000-\u007E]/g,t)}function e(n,t){for(var i=0,r=t.length;r>i;i+=1)if(f(n,t[i]))return i;return-1}function ct(){var t=n(kt),i;return t.appendTo("body"),i={width:t.width()-t[0].clientWidth,height:t.height()-t[0].clientHeight},t.remove(),i}function f(n,i){return n===i?!0:n===t||i===t?!1:null===n||null===i?!1:n.constructor===String?n+""==i+"":i.constructor===String?i+""==n+"":!1}function v(t,i){var r,u,f;if(null===t||t.length<1)return[];for(r=t.split(i),u=0,f=r.length;f>u;u+=1)r[u]=n.trim(r[u]);return r}function d(n){return n.outerWidth(!1)-n.width()}function g(i){var r="keyup-change-value";i.on("keydown",function(){n.data(i,r)===t&&n.data(i,r,i.val())});i.on("keyup",function(){var u=n.data(i,r);u!==t&&i.val()!==u&&(n.removeData(i,r),i.trigger("keyup-change"))})}function lt(i){i.on("mousemove",function(i){var r=b;(r===t||r.x!==i.pageX||r.y!==i.pageY)&&n(i.target).trigger("mousemove-filtered",i)})}function nt(n,i,r){r=r||t;var u;return function(){var t=arguments;window.clearTimeout(u);u=window.setTimeout(function(){i.apply(r,t)},n)}}function at(n,t){var i=nt(n,function(n){t.trigger("scroll-debounced",n)});t.on("scroll",function(n){e(n.target,t.get())>=0&&i(n)})}function vt(n){n[0]!==document.activeElement&&window.setTimeout(function(){var i,t=n[0],r=n.val().length,u;n.focus();u=t.offsetWidth>0||t.offsetHeight>0;u&&t===document.activeElement&&(t.setSelectionRange?t.setSelectionRange(r,r):t.createTextRange&&(i=t.createTextRange(),i.collapse(!1),i.select()))},0)}function yt(t){var i,r,u;return t=n(t)[0],i=0,r=0,"selectionStart"in t?(i=t.selectionStart,r=t.selectionEnd-i):"selection"in document&&(t.focus(),u=document.selection.createRange(),r=document.selection.createRange().text.length,u.moveStart("character",-t.value.length),i=u.text.length-r),{offset:i,length:r}}function r(n){n.preventDefault();n.stopPropagation()}function pt(n){n.preventDefault();n.stopImmediatePropagation()}function wt(t){if(!s){var i=t[0].currentStyle||window.getComputedStyle(t[0],null);s=n(document.createElement("div")).css({position:"absolute",left:"-10000px",top:"-10000px",display:"none",fontSize:i.fontSize,fontFamily:i.fontFamily,fontStyle:i.fontStyle,fontWeight:i.fontWeight,letterSpacing:i.letterSpacing,textTransform:i.textTransform,whiteSpace:"nowrap"});s.attr("class","select2-sizer");n("body").append(s)}return s.text(t.val()),s.width()}function l(t,i,r){var u,f,e=[];u=t.attr("class");u&&(u=""+u,n(u.split(" ")).each2(function(){0===this.indexOf("select2-")&&e.push(this)}));u=i.attr("class");u&&(u=""+u,n(u.split(" ")).each2(function(){0!==this.indexOf("select2-")&&(f=r(this),f&&e.push(f))}));t.attr("class",e.join(" "))}function tt(n,t,i,r){var u=h(n.toUpperCase()).indexOf(h(t.toUpperCase())),f=t.length;return 0>u?(i.push(r(n)),void 0):(i.push(r(n.substring(0,u))),i.push("<span class='select2-match'>"),i.push(r(n.substring(u,u+f))),i.push("<\/span>"),i.push(r(n.substring(u+f,n.length))),void 0)}function it(n){var t={"\\":"&#92;","&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#47;"};return String(n).replace(/[&<>"'\/\\]/g,function(n){return t[n]})}function rt(i){var f,r=null,e=i.quietMillis||100,o=i.url,u=this;return function(s){window.clearTimeout(f);f=window.setTimeout(function(){var e=i.data,f=o,c=i.transport||n.fn.select2.ajaxDefaults.transport,l={type:i.type||"GET",cache:i.cache||!1,jsonpCallback:i.jsonpCallback||t,dataType:i.dataType||"json"},h=n.extend({},n.fn.select2.ajaxDefaults.params,l);e=e?e.call(u,s.term,s.page,s.context):null;f="function"==typeof f?f.call(u,s.term,s.page,s.context):f;r&&"function"==typeof r.abort&&r.abort();i.params&&(n.isFunction(i.params)?n.extend(h,i.params.call(u)):n.extend(h,i.params));n.extend(h,{url:f,dataType:i.dataType,data:e,success:function(n){var t=i.results(n,s.page);s.callback(t)}});r=c.call(u,h)},e)}}function ut(t){var e,u,i=t,r=function(n){return""+n.text},f;return n.isArray(i)&&(u=i,i={results:u}),n.isFunction(i)===!1&&(u=i,i=function(){return u}),f=i(),f.text&&(r=f.text,n.isFunction(r)||(e=f.text,r=function(n){return n[e]})),function(t){var u,f=t.term,e={results:[]};return""===f?(t.callback(i()),void 0):(u=function(i,e){var o,s;if(i=i[0],i.children){o={};for(s in i)i.hasOwnProperty(s)&&(o[s]=i[s]);o.children=[];n(i.children).each2(function(n,t){u(t,o.children)});(o.children.length||t.matcher(f,r(o),i))&&e.push(o)}else t.matcher(f,r(i),i)&&e.push(i)},n(i().results).each2(function(n,t){u(t,e.results)}),t.callback(e),void 0)}}function ft(i){var r=n.isFunction(i);return function(u){var f=u.term,e={results:[]},o=r?i(u):i;n.isArray(o)&&(n(o).each(function(){var n=this.text!==t,i=n?this.text:this;(""===f||u.matcher(f,i))&&e.results.push(n?this:{id:this,text:this})}),u.callback(e))}}function o(t,i){if(n.isFunction(t))return!0;if(!t)return!1;if("string"==typeof t)return!0;throw new Error(i+" must be a string, function, or falsy value");}function u(t){if(n.isFunction(t)){var i=Array.prototype.slice.call(arguments,1);return t.apply(null,i)}return t}function et(t){var i=0;return n.each(t,function(n,t){t.children?i+=et(t.children):i++}),i}function bt(n,i,r,u){var e,s,o,h,c,a=n,l=!1;if(!u.createSearchChoice||!u.tokenSeparators||u.tokenSeparators.length<1)return t;for(;;){for(s=-1,o=0,h=u.tokenSeparators.length;h>o&&(c=u.tokenSeparators[o],s=n.indexOf(c),!(s>=0));o++);if(0>s)break;if(e=n.substring(0,s),n=n.substring(s+c.length),e.length>0&&(e=u.createSearchChoice.call(this,e,i),e!==t&&null!==e&&u.id(e)!==t&&null!==u.id(e))){for(l=!1,o=0,h=i.length;h>o;o++)if(f(u.id(e),u.id(i[o]))){l=!0;break}l||r(e)}}if(a!==n)return n}function y(){var n=this;Array.prototype.forEach.call(arguments,function(t){n[t].remove();n[t]=null})}function p(t,i){var r=function(){};return r.prototype=new t,r.prototype.constructor=r,r.prototype.parent=t.prototype,r.prototype=n.extend(r.prototype,i),r}if(window.Select2===t){var a,ot,st,c,s,ht,w,b={x:0,y:0},i={TAB:9,ENTER:13,ESC:27,SPACE:32,LEFT:37,UP:38,RIGHT:39,DOWN:40,SHIFT:16,CTRL:17,ALT:18,PAGE_UP:33,PAGE_DOWN:34,HOME:36,END:35,BACKSPACE:8,DELETE:46,isArrow:function(n){switch(n=n.which?n.which:n){case i.LEFT:case i.RIGHT:case i.UP:case i.DOWN:return!0}return!1},isControl:function(n){var t=n.which;switch(t){case i.SHIFT:case i.CTRL:case i.ALT:return!0}return n.metaKey?!0:!1},isFunctionKey:function(n){return n=n.which?n.which:n,n>=112&&123>=n}},kt="<div class='select2-measure-scrollbar'><\/div>",dt={"Ⓐ":"A","Ａ":"A","À":"A","Á":"A","Â":"A","Ầ":"A","Ấ":"A","Ẫ":"A","Ẩ":"A","Ã":"A","Ā":"A","Ă":"A","Ằ":"A","Ắ":"A","Ẵ":"A","Ẳ":"A","Ȧ":"A","Ǡ":"A","Ä":"A","Ǟ":"A","Ả":"A","Å":"A","Ǻ":"A","Ǎ":"A","Ȁ":"A","Ȃ":"A","Ạ":"A","Ậ":"A","Ặ":"A","Ḁ":"A","Ą":"A","Ⱥ":"A","Ɐ":"A","Ꜳ":"AA","Æ":"AE","Ǽ":"AE","Ǣ":"AE","Ꜵ":"AO","Ꜷ":"AU","Ꜹ":"AV","Ꜻ":"AV","Ꜽ":"AY","Ⓑ":"B","Ｂ":"B","Ḃ":"B","Ḅ":"B","Ḇ":"B","Ƀ":"B","Ƃ":"B","Ɓ":"B","Ⓒ":"C","Ｃ":"C","Ć":"C","Ĉ":"C","Ċ":"C","Č":"C","Ç":"C","Ḉ":"C","Ƈ":"C","Ȼ":"C","Ꜿ":"C","Ⓓ":"D","Ｄ":"D","Ḋ":"D","Ď":"D","Ḍ":"D","Ḑ":"D","Ḓ":"D","Ḏ":"D","Đ":"D","Ƌ":"D","Ɗ":"D","Ɖ":"D","Ꝺ":"D","Ǳ":"DZ","Ǆ":"DZ","ǲ":"Dz","ǅ":"Dz","Ⓔ":"E","Ｅ":"E","È":"E","É":"E","Ê":"E","Ề":"E","Ế":"E","Ễ":"E","Ể":"E","Ẽ":"E","Ē":"E","Ḕ":"E","Ḗ":"E","Ĕ":"E","Ė":"E","Ë":"E","Ẻ":"E","Ě":"E","Ȅ":"E","Ȇ":"E","Ẹ":"E","Ệ":"E","Ȩ":"E","Ḝ":"E","Ę":"E","Ḙ":"E","Ḛ":"E","Ɛ":"E","Ǝ":"E","Ⓕ":"F","Ｆ":"F","Ḟ":"F","Ƒ":"F","Ꝼ":"F","Ⓖ":"G","Ｇ":"G","Ǵ":"G","Ĝ":"G","Ḡ":"G","Ğ":"G","Ġ":"G","Ǧ":"G","Ģ":"G","Ǥ":"G","Ɠ":"G","Ꞡ":"G","Ᵹ":"G","Ꝿ":"G","Ⓗ":"H","Ｈ":"H","Ĥ":"H","Ḣ":"H","Ḧ":"H","Ȟ":"H","Ḥ":"H","Ḩ":"H","Ḫ":"H","Ħ":"H","Ⱨ":"H","Ⱶ":"H","Ɥ":"H","Ⓘ":"I","Ｉ":"I","Ì":"I","Í":"I","Î":"I","Ĩ":"I","Ī":"I","Ĭ":"I","İ":"I","Ï":"I","Ḯ":"I","Ỉ":"I","Ǐ":"I","Ȉ":"I","Ȋ":"I","Ị":"I","Į":"I","Ḭ":"I","Ɨ":"I","Ⓙ":"J","Ｊ":"J","Ĵ":"J","Ɉ":"J","Ⓚ":"K","Ｋ":"K","Ḱ":"K","Ǩ":"K","Ḳ":"K","Ķ":"K","Ḵ":"K","Ƙ":"K","Ⱪ":"K","Ꝁ":"K","Ꝃ":"K","Ꝅ":"K","Ꞣ":"K","Ⓛ":"L","Ｌ":"L","Ŀ":"L","Ĺ":"L","Ľ":"L","Ḷ":"L","Ḹ":"L","Ļ":"L","Ḽ":"L","Ḻ":"L","Ł":"L","Ƚ":"L","Ɫ":"L","Ⱡ":"L","Ꝉ":"L","Ꝇ":"L","Ꞁ":"L","Ǉ":"LJ","ǈ":"Lj","Ⓜ":"M","Ｍ":"M","Ḿ":"M","Ṁ":"M","Ṃ":"M","Ɱ":"M","Ɯ":"M","Ⓝ":"N","Ｎ":"N","Ǹ":"N","Ń":"N","Ñ":"N","Ṅ":"N","Ň":"N","Ṇ":"N","Ņ":"N","Ṋ":"N","Ṉ":"N","Ƞ":"N","Ɲ":"N","Ꞑ":"N","Ꞥ":"N","Ǌ":"NJ","ǋ":"Nj","Ⓞ":"O","Ｏ":"O","Ò":"O","Ó":"O","Ô":"O","Ồ":"O","Ố":"O","Ỗ":"O","Ổ":"O","Õ":"O","Ṍ":"O","Ȭ":"O","Ṏ":"O","Ō":"O","Ṑ":"O","Ṓ":"O","Ŏ":"O","Ȯ":"O","Ȱ":"O","Ö":"O","Ȫ":"O","Ỏ":"O","Ő":"O","Ǒ":"O","Ȍ":"O","Ȏ":"O","Ơ":"O","Ờ":"O","Ớ":"O","Ỡ":"O","Ở":"O","Ợ":"O","Ọ":"O","Ộ":"O","Ǫ":"O","Ǭ":"O","Ø":"O","Ǿ":"O","Ɔ":"O","Ɵ":"O","Ꝋ":"O","Ꝍ":"O","Ƣ":"OI","Ꝏ":"OO","Ȣ":"OU","Ⓟ":"P","Ｐ":"P","Ṕ":"P","Ṗ":"P","Ƥ":"P","Ᵽ":"P","Ꝑ":"P","Ꝓ":"P","Ꝕ":"P","Ⓠ":"Q","Ｑ":"Q","Ꝗ":"Q","Ꝙ":"Q","Ɋ":"Q","Ⓡ":"R","Ｒ":"R","Ŕ":"R","Ṙ":"R","Ř":"R","Ȑ":"R","Ȓ":"R","Ṛ":"R","Ṝ":"R","Ŗ":"R","Ṟ":"R","Ɍ":"R","Ɽ":"R","Ꝛ":"R","Ꞧ":"R","Ꞃ":"R","Ⓢ":"S","Ｓ":"S","ẞ":"S","Ś":"S","Ṥ":"S","Ŝ":"S","Ṡ":"S","Š":"S","Ṧ":"S","Ṣ":"S","Ṩ":"S","Ș":"S","Ş":"S","Ȿ":"S","Ꞩ":"S","Ꞅ":"S","Ⓣ":"T","Ｔ":"T","Ṫ":"T","Ť":"T","Ṭ":"T","Ț":"T","Ţ":"T","Ṱ":"T","Ṯ":"T","Ŧ":"T","Ƭ":"T","Ʈ":"T","Ⱦ":"T","Ꞇ":"T","Ꜩ":"TZ","Ⓤ":"U","Ｕ":"U","Ù":"U","Ú":"U","Û":"U","Ũ":"U","Ṹ":"U","Ū":"U","Ṻ":"U","Ŭ":"U","Ü":"U","Ǜ":"U","Ǘ":"U","Ǖ":"U","Ǚ":"U","Ủ":"U","Ů":"U","Ű":"U","Ǔ":"U","Ȕ":"U","Ȗ":"U","Ư":"U","Ừ":"U","Ứ":"U","Ữ":"U","Ử":"U","Ự":"U","Ụ":"U","Ṳ":"U","Ų":"U","Ṷ":"U","Ṵ":"U","Ʉ":"U","Ⓥ":"V","Ｖ":"V","Ṽ":"V","Ṿ":"V","Ʋ":"V","Ꝟ":"V","Ʌ":"V","Ꝡ":"VY","Ⓦ":"W","Ｗ":"W","Ẁ":"W","Ẃ":"W","Ŵ":"W","Ẇ":"W","Ẅ":"W","Ẉ":"W","Ⱳ":"W","Ⓧ":"X","Ｘ":"X","Ẋ":"X","Ẍ":"X","Ⓨ":"Y","Ｙ":"Y","Ỳ":"Y","Ý":"Y","Ŷ":"Y","Ỹ":"Y","Ȳ":"Y","Ẏ":"Y","Ÿ":"Y","Ỷ":"Y","Ỵ":"Y","Ƴ":"Y","Ɏ":"Y","Ỿ":"Y","Ⓩ":"Z","Ｚ":"Z","Ź":"Z","Ẑ":"Z","Ż":"Z","Ž":"Z","Ẓ":"Z","Ẕ":"Z","Ƶ":"Z","Ȥ":"Z","Ɀ":"Z","Ⱬ":"Z","Ꝣ":"Z","ⓐ":"a","ａ":"a","ẚ":"a","à":"a","á":"a","â":"a","ầ":"a","ấ":"a","ẫ":"a","ẩ":"a","ã":"a","ā":"a","ă":"a","ằ":"a","ắ":"a","ẵ":"a","ẳ":"a","ȧ":"a","ǡ":"a","ä":"a","ǟ":"a","ả":"a","å":"a","ǻ":"a","ǎ":"a","ȁ":"a","ȃ":"a","ạ":"a","ậ":"a","ặ":"a","ḁ":"a","ą":"a","ⱥ":"a","ɐ":"a","ꜳ":"aa","æ":"ae","ǽ":"ae","ǣ":"ae","ꜵ":"ao","ꜷ":"au","ꜹ":"av","ꜻ":"av","ꜽ":"ay","ⓑ":"b","ｂ":"b","ḃ":"b","ḅ":"b","ḇ":"b","ƀ":"b","ƃ":"b","ɓ":"b","ⓒ":"c","ｃ":"c","ć":"c","ĉ":"c","ċ":"c","č":"c","ç":"c","ḉ":"c","ƈ":"c","ȼ":"c","ꜿ":"c","ↄ":"c","ⓓ":"d","ｄ":"d","ḋ":"d","ď":"d","ḍ":"d","ḑ":"d","ḓ":"d","ḏ":"d","đ":"d","ƌ":"d","ɖ":"d","ɗ":"d","ꝺ":"d","ǳ":"dz","ǆ":"dz","ⓔ":"e","ｅ":"e","è":"e","é":"e","ê":"e","ề":"e","ế":"e","ễ":"e","ể":"e","ẽ":"e","ē":"e","ḕ":"e","ḗ":"e","ĕ":"e","ė":"e","ë":"e","ẻ":"e","ě":"e","ȅ":"e","ȇ":"e","ẹ":"e","ệ":"e","ȩ":"e","ḝ":"e","ę":"e","ḙ":"e","ḛ":"e","ɇ":"e","ɛ":"e","ǝ":"e","ⓕ":"f","ｆ":"f","ḟ":"f","ƒ":"f","ꝼ":"f","ⓖ":"g","ｇ":"g","ǵ":"g","ĝ":"g","ḡ":"g","ğ":"g","ġ":"g","ǧ":"g","ģ":"g","ǥ":"g","ɠ":"g","ꞡ":"g","ᵹ":"g","ꝿ":"g","ⓗ":"h","ｈ":"h","ĥ":"h","ḣ":"h","ḧ":"h","ȟ":"h","ḥ":"h","ḩ":"h","ḫ":"h","ẖ":"h","ħ":"h","ⱨ":"h","ⱶ":"h","ɥ":"h","ƕ":"hv","ⓘ":"i","ｉ":"i","ì":"i","í":"i","î":"i","ĩ":"i","ī":"i","ĭ":"i","ï":"i","ḯ":"i","ỉ":"i","ǐ":"i","ȉ":"i","ȋ":"i","ị":"i","į":"i","ḭ":"i","ɨ":"i","ı":"i","ⓙ":"j","ｊ":"j","ĵ":"j","ǰ":"j","ɉ":"j","ⓚ":"k","ｋ":"k","ḱ":"k","ǩ":"k","ḳ":"k","ķ":"k","ḵ":"k","ƙ":"k","ⱪ":"k","ꝁ":"k","ꝃ":"k","ꝅ":"k","ꞣ":"k","ⓛ":"l","ｌ":"l","ŀ":"l","ĺ":"l","ľ":"l","ḷ":"l","ḹ":"l","ļ":"l","ḽ":"l","ḻ":"l","ſ":"l","ł":"l","ƚ":"l","ɫ":"l","ⱡ":"l","ꝉ":"l","ꞁ":"l","ꝇ":"l","ǉ":"lj","ⓜ":"m","ｍ":"m","ḿ":"m","ṁ":"m","ṃ":"m","ɱ":"m","ɯ":"m","ⓝ":"n","ｎ":"n","ǹ":"n","ń":"n","ñ":"n","ṅ":"n","ň":"n","ṇ":"n","ņ":"n","ṋ":"n","ṉ":"n","ƞ":"n","ɲ":"n","ŉ":"n","ꞑ":"n","ꞥ":"n","ǌ":"nj","ⓞ":"o","ｏ":"o","ò":"o","ó":"o","ô":"o","ồ":"o","ố":"o","ỗ":"o","ổ":"o","õ":"o","ṍ":"o","ȭ":"o","ṏ":"o","ō":"o","ṑ":"o","ṓ":"o","ŏ":"o","ȯ":"o","ȱ":"o","ö":"o","ȫ":"o","ỏ":"o","ő":"o","ǒ":"o","ȍ":"o","ȏ":"o","ơ":"o","ờ":"o","ớ":"o","ỡ":"o","ở":"o","ợ":"o","ọ":"o","ộ":"o","ǫ":"o","ǭ":"o","ø":"o","ǿ":"o","ɔ":"o","ꝋ":"o","ꝍ":"o","ɵ":"o","ƣ":"oi","ȣ":"ou","ꝏ":"oo","ⓟ":"p","ｐ":"p","ṕ":"p","ṗ":"p","ƥ":"p","ᵽ":"p","ꝑ":"p","ꝓ":"p","ꝕ":"p","ⓠ":"q","ｑ":"q","ɋ":"q","ꝗ":"q","ꝙ":"q","ⓡ":"r","ｒ":"r","ŕ":"r","ṙ":"r","ř":"r","ȑ":"r","ȓ":"r","ṛ":"r","ṝ":"r","ŗ":"r","ṟ":"r","ɍ":"r","ɽ":"r","ꝛ":"r","ꞧ":"r","ꞃ":"r","ⓢ":"s","ｓ":"s","ß":"s","ś":"s","ṥ":"s","ŝ":"s","ṡ":"s","š":"s","ṧ":"s","ṣ":"s","ṩ":"s","ș":"s","ş":"s","ȿ":"s","ꞩ":"s","ꞅ":"s","ẛ":"s","ⓣ":"t","ｔ":"t","ṫ":"t","ẗ":"t","ť":"t","ṭ":"t","ț":"t","ţ":"t","ṱ":"t","ṯ":"t","ŧ":"t","ƭ":"t","ʈ":"t","ⱦ":"t","ꞇ":"t","ꜩ":"tz","ⓤ":"u","ｕ":"u","ù":"u","ú":"u","û":"u","ũ":"u","ṹ":"u","ū":"u","ṻ":"u","ŭ":"u","ü":"u","ǜ":"u","ǘ":"u","ǖ":"u","ǚ":"u","ủ":"u","ů":"u","ű":"u","ǔ":"u","ȕ":"u","ȗ":"u","ư":"u","ừ":"u","ứ":"u","ữ":"u","ử":"u","ự":"u","ụ":"u","ṳ":"u","ų":"u","ṷ":"u","ṵ":"u","ʉ":"u","ⓥ":"v","ｖ":"v","ṽ":"v","ṿ":"v","ʋ":"v","ꝟ":"v","ʌ":"v","ꝡ":"vy","ⓦ":"w","ｗ":"w","ẁ":"w","ẃ":"w","ŵ":"w","ẇ":"w","ẅ":"w","ẘ":"w","ẉ":"w","ⱳ":"w","ⓧ":"x","ｘ":"x","ẋ":"x","ẍ":"x","ⓨ":"y","ｙ":"y","ỳ":"y","ý":"y","ŷ":"y","ỹ":"y","ȳ":"y","ẏ":"y","ÿ":"y","ỷ":"y","ẙ":"y","ỵ":"y","ƴ":"y","ɏ":"y","ỿ":"y","ⓩ":"z","ｚ":"z","ź":"z","ẑ":"z","ż":"z","ž":"z","ẓ":"z","ẕ":"z","ƶ":"z","ȥ":"z","ɀ":"z","ⱬ":"z","ꝣ":"z"};ht=n(document);c=function(){var n=1;return function(){return n++}}();ht.on("mousemove",function(n){b.x=n.pageX;b.y=n.pageY});a=p(Object,{bind:function(n){var t=this;return function(){n.apply(t,arguments)}},init:function(i){var f,e,o=".select2-results",s,h;this.opts=i=this.prepareOpts(i);this.id=i.id;i.element.data("select2")!==t&&null!==i.element.data("select2")&&i.element.data("select2").destroy();this.container=this.createContainer();this.liveRegion=n("<span>",{role:"status","aria-live":"polite"}).addClass("select2-hidden-accessible").appendTo(document.body);this.containerId="s2id_"+(i.element.attr("id")||"autogen"+c());this.containerEventName=this.containerId.replace(/([.])/g,"_").replace(/([;&,\-\.\+\*\~':"\!\^#$%@\[\]\(\)=>\|])/g,"\\$1");this.container.attr("id",this.containerId);this.container.attr("title",i.element.attr("title"));this.body=n("body");l(this.container,this.opts.element,this.opts.adaptContainerCssClass);this.container.attr("style",i.element.attr("style"));this.container.css(u(i.containerCss));this.container.addClass(u(i.containerCssClass));this.elementTabIndex=this.opts.element.attr("tabindex");this.opts.element.data("select2",this).attr("tabindex","-1").before(this.container).on("click.select2",r);this.container.data("select2",this);this.dropdown=this.container.find(".select2-drop");l(this.dropdown,this.opts.element,this.opts.adaptDropdownCssClass);this.dropdown.addClass(u(i.dropdownCssClass));this.dropdown.data("select2",this);this.dropdown.on("click",r);this.results=f=this.container.find(o);this.search=e=this.container.find("input.select2-input");this.queryCount=0;this.resultsPage=0;this.context=null;this.initContainer();this.container.on("click",r);lt(this.results);this.dropdown.on("mousemove-filtered",o,this.bind(this.highlightUnderEvent));this.dropdown.on("touchstart touchmove touchend",o,this.bind(function(n){this._touchEvent=!0;this.highlightUnderEvent(n)}));this.dropdown.on("touchmove",o,this.bind(this.touchMoved));this.dropdown.on("touchstart touchend",o,this.bind(this.clearTouchMoved));this.dropdown.on("click",this.bind(function(){this._touchEvent&&(this._touchEvent=!1,this.selectHighlighted())}));at(80,this.results);this.dropdown.on("scroll-debounced",o,this.bind(this.loadMoreIfNeeded));n(this.container).on("change",".select2-input",function(n){n.stopPropagation()});n(this.dropdown).on("change",".select2-input",function(n){n.stopPropagation()});n.fn.mousewheel&&f.mousewheel(function(n,t,i,u){var e=f.scrollTop();u>0&&0>=e-u?(f.scrollTop(0),r(n)):0>u&&f.get(0).scrollHeight-f.scrollTop()+u<=f.height()&&(f.scrollTop(f.get(0).scrollHeight-f.height()),r(n))});g(e);e.on("keyup-change input paste",this.bind(this.updateResults));e.on("focus",function(){e.addClass("select2-focused")});e.on("blur",function(){e.removeClass("select2-focused")});this.dropdown.on("mouseup",o,this.bind(function(t){n(t.target).closest(".select2-result-selectable").length>0&&(this.highlightUnderEvent(t),this.selectHighlighted(t))}));this.dropdown.on("click mouseup mousedown touchstart touchend focusin",function(n){n.stopPropagation()});this.nextSearchTerm=t;n.isFunction(this.opts.initSelection)&&(this.initSelection(),this.monitorSource());null!==i.maximumInputLength&&this.search.attr("maxlength",i.maximumInputLength);s=i.element.prop("disabled");s===t&&(s=!1);this.enable(!s);h=i.element.prop("readonly");h===t&&(h=!1);this.readonly(h);w=w||ct();this.autofocus=i.element.prop("autofocus");i.element.prop("autofocus",!1);this.autofocus&&this.focus();this.search.attr("placeholder",i.searchInputPlaceholder)},destroy:function(){var n=this.opts.element,i=n.data("select2");this.close();this.propertyObserver&&(this.propertyObserver.disconnect(),this.propertyObserver=null);i!==t&&(i.container.remove(),i.liveRegion.remove(),i.dropdown.remove(),n.removeClass("select2-offscreen").removeData("select2").off(".select2").prop("autofocus",this.autofocus||!1),this.elementTabIndex?n.attr({tabindex:this.elementTabIndex}):n.removeAttr("tabindex"),n.show());y.call(this,"container","liveRegion","dropdown","results","search")},optionToData:function(n){return n.is("option")?{id:n.prop("value"),text:n.text(),element:n.get(),css:n.attr("class"),disabled:n.prop("disabled"),locked:f(n.attr("locked"),"locked")||f(n.data("locked"),!0)}:n.is("optgroup")?{text:n.attr("label"),children:[],element:n.get(),css:n.attr("class")}:void 0},prepareOpts:function(i){var e,o,s,r,u=this;if(e=i.element,"select"===e.get(0).tagName.toLowerCase()&&(this.select=o=i.element),o&&n.each(["id","multiple","ajax","query","createSearchChoice","initSelection","data","tags"],function(){if(this in i)throw new Error("Option '"+this+"' is not allowed for Select2 when attached to a <select> element.");}),i=n.extend({},{populateResults:function(r,f,e){var o,s=this.opts.id,h=this.liveRegion;o=function(r,f,l){var p,g,v,nt,b,k,a,y,w,d;for(r=i.sortResults(r,f,e),p=0,g=r.length;g>p;p+=1)v=r[p],b=v.disabled===!0,nt=!b&&s(v)!==t,k=v.children&&v.children.length>0,a=n("<li><\/li>"),a.addClass("select2-results-dept-"+l),a.addClass("select2-result"),a.addClass(nt?"select2-result-selectable":"select2-result-unselectable"),b&&a.addClass("select2-disabled"),k&&a.addClass("select2-result-with-children"),a.addClass(u.opts.formatResultCssClass(v)),a.attr("role","presentation"),y=n(document.createElement("div")),y.addClass("select2-result-label"),y.attr("id","select2-result-label-"+c()),y.attr("role","option"),d=i.formatResult(v,y,e,u.opts.escapeMarkup),d!==t&&(y.html(d),a.append(y)),k&&(w=n("<ul><\/ul>"),w.addClass("select2-result-sub"),o(v.children,w,l+1),a.append(w)),a.data("select2-data",v),f.append(a);h.text(i.formatMatches(r.length))};o(f,r,0)}},n.fn.select2.defaults,i),"function"!=typeof i.id&&(s=i.id,i.id=function(n){return n[s]}),n.isArray(i.element.data("select2Tags"))){if("tags"in i)throw"tags specified as both an attribute 'data-select2-tags' and in options of Select2 "+i.element.attr("id");i.tags=i.element.data("select2Tags")}if(o?(i.query=this.bind(function(n){var i,r,f,o={results:[],more:!1},s=n.term;f=function(t,i){var r;t.is("option")?n.matcher(s,t.text(),t)&&i.push(u.optionToData(t)):t.is("optgroup")&&(r=u.optionToData(t),t.children().each2(function(n,t){f(t,r.children)}),r.children.length>0&&i.push(r))};i=e.children();this.getPlaceholder()!==t&&i.length>0&&(r=this.getPlaceholderOption(),r&&(i=i.not(r)));i.each2(function(n,t){f(t,o.results)});n.callback(o)}),i.id=function(n){return n.id}):"query"in i||("ajax"in i?(r=i.element.data("ajax-url"),r&&r.length>0&&(i.ajax.url=r),i.query=rt.call(i.element,i.ajax)):"data"in i?i.query=ut(i.data):"tags"in i&&(i.query=ft(i.tags),i.createSearchChoice===t&&(i.createSearchChoice=function(t){return{id:n.trim(t),text:n.trim(t)}}),i.initSelection===t&&(i.initSelection=function(t,r){var u=[];n(v(t.val(),i.separator)).each(function(){var r={id:this,text:this},t=i.tags;n.isFunction(t)&&(t=t());n(t).each(function(){if(f(this.id,r.id))return(r=this,!1)});u.push(r)});r(u)}))),"function"!=typeof i.query)throw"query function not defined for Select2 "+i.element.attr("id");if("top"===i.createSearchChoicePosition)i.createSearchChoicePosition=function(n,t){n.unshift(t)};else if("bottom"===i.createSearchChoicePosition)i.createSearchChoicePosition=function(n,t){n.push(t)};else if("function"!=typeof i.createSearchChoicePosition)throw"invalid createSearchChoicePosition option must be 'top', 'bottom' or a custom function";return i},monitorSource:function(){var i,r,n=this.opts.element;n.on("change.select2",this.bind(function(){this.opts.element.data("select2-change-triggered")!==!0&&this.initSelection()}));i=this.bind(function(){var r=n.prop("disabled"),i;r===t&&(r=!1);this.enable(!r);i=n.prop("readonly");i===t&&(i=!1);this.readonly(i);l(this.container,this.opts.element,this.opts.adaptContainerCssClass);this.container.addClass(u(this.opts.containerCssClass));l(this.dropdown,this.opts.element,this.opts.adaptDropdownCssClass);this.dropdown.addClass(u(this.opts.dropdownCssClass))});n.length&&n[0].attachEvent&&n.each(function(){this.attachEvent("onpropertychange",i)});r=window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver;r!==t&&(this.propertyObserver&&(delete this.propertyObserver,this.propertyObserver=null),this.propertyObserver=new r(function(n){n.forEach(i)}),this.propertyObserver.observe(n.get(0),{attributes:!0,subtree:!1}))},triggerSelect:function(t){var i=n.Event("select2-selecting",{val:this.id(t),object:t});return this.opts.element.trigger(i),!i.isDefaultPrevented()},triggerChange:function(t){t=t||{};t=n.extend({},t,{type:"change",val:this.val()});this.opts.element.data("select2-change-triggered",!0);this.opts.element.trigger(t);this.opts.element.data("select2-change-triggered",!1);this.opts.element.click();this.opts.blurOnChange&&this.opts.element.blur()},isInterfaceEnabled:function(){return this.enabledInterface===!0},enableInterface:function(){var n=this._enabled&&!this._readonly,t=!n;return n===this.enabledInterface?!1:(this.container.toggleClass("select2-container-disabled",t),this.close(),this.enabledInterface=n,!0)},enable:function(n){n===t&&(n=!0);this._enabled!==n&&(this._enabled=n,this.opts.element.prop("disabled",!n),this.enableInterface())},disable:function(){this.enable(!1)},readonly:function(n){n===t&&(n=!1);this._readonly!==n&&(this._readonly=n,this.opts.element.prop("readonly",n),this.enableInterface())},opened:function(){return this.container.hasClass("select2-dropdown-open")},positionDropdown:function(){var v,s,y,r,p,t=this.dropdown,f=this.container.offset(),b=this.container.outerHeight(!1),h=this.container.outerWidth(!1),c=t.outerHeight(!1),e=n(window),d=e.width(),g=e.height(),l=e.scrollLeft()+d,nt=e.scrollTop()+g,a=f.top+b,o=f.left,tt=nt>=a+c,it=f.top-c>=e.scrollTop(),i=t.outerWidth(!1),k=l>=o+i,rt=t.hasClass("select2-drop-above");rt?(s=!0,!it&&tt&&(y=!0,s=!1)):(s=!1,!tt&&it&&(y=!0,s=!0));y&&(t.hide(),f=this.container.offset(),b=this.container.outerHeight(!1),h=this.container.outerWidth(!1),c=t.outerHeight(!1),l=e.scrollLeft()+d,nt=e.scrollTop()+g,a=f.top+b,o=f.left,i=t.outerWidth(!1),k=l>=o+i,t.show(),this.focusSearch());this.opts.dropdownAutoWidth?(p=n(".select2-results",t)[0],t.addClass("select2-drop-auto-width"),t.css("width",""),i=t.outerWidth(!1)+(p.scrollHeight===p.clientHeight?0:w.width),i>h?h=i:i=h,c=t.outerHeight(!1),k=l>=o+i):this.container.removeClass("select2-drop-auto-width");"static"!==this.body.css("position")&&(v=this.body.offset(),a-=v.top,o-=v.left);k||(o=f.left+this.container.outerWidth(!1)-i);r={left:o,width:h};s?(r.top=f.top-c,r.bottom="auto",this.container.addClass("select2-drop-above"),t.addClass("select2-drop-above")):(r.top=a,r.bottom="auto",this.container.removeClass("select2-drop-above"),t.removeClass("select2-drop-above"));r=n.extend(r,u(this.opts.dropdownCss));t.css(r)},shouldOpen:function(){var t;return this.opened()?!1:this._enabled===!1||this._readonly===!0?!1:(t=n.Event("select2-opening"),this.opts.element.trigger(t),!t.isDefaultPrevented())},clearDropdownAlignmentPreference:function(){this.container.removeClass("select2-drop-above");this.dropdown.removeClass("select2-drop-above")},open:function(){return this.shouldOpen()?(this.opening(),!0):!1},opening:function(){var t,i=this.containerEventName,u="scroll."+i,f="resize."+i,e="orientationchange."+i,r;this.container.addClass("select2-dropdown-open").addClass("select2-container-active");this.clearDropdownAlignmentPreference();this.dropdown[0]!==this.body.children().last()[0]&&this.dropdown.detach().appendTo(this.body);t=n("#select2-drop-mask");0==t.length&&(t=n(document.createElement("div")),t.attr("id","select2-drop-mask").attr("class","select2-drop-mask"),t.hide(),t.appendTo(this.body),t.on("mousedown touchstart click",function(i){k(t);var r,u=n("#select2-drop");u.length>0&&(r=u.data("select2"),r.opts.selectOnBlur&&r.selectHighlighted({noFocus:!0}),r.close(),i.preventDefault(),i.stopPropagation())}));this.dropdown.prev()[0]!==t[0]&&this.dropdown.before(t);n("#select2-drop").removeAttr("id");this.dropdown.attr("id","select2-drop");t.show();this.positionDropdown();this.dropdown.show();this.positionDropdown();this.dropdown.addClass("select2-drop-active");r=this;this.container.parents().add(window).each(function(){n(this).on(f+" "+u+" "+e,function(){r.opened()&&r.positionDropdown()})})},close:function(){if(this.opened()){var t=this.containerEventName,i="scroll."+t,r="resize."+t,u="orientationchange."+t;this.container.parents().add(window).each(function(){n(this).off(i).off(r).off(u)});this.clearDropdownAlignmentPreference();n("#select2-drop-mask").hide();this.dropdown.removeAttr("id");this.dropdown.hide();this.container.removeClass("select2-dropdown-open").removeClass("select2-container-active");this.results.empty();this.clearSearch();this.search.removeClass("select2-active");this.opts.element.trigger(n.Event("select2-close"))}},externalSearch:function(n){this.open();this.search.val(n);this.updateResults(!1)},clearSearch:function(){},getMaximumSelectionSize:function(){return u(this.opts.maximumSelectionSize)},ensureHighlightVisible:function(){var e,i,r,u,o,s,f,t=this.results;if(i=this.highlight(),!(0>i)){if(0==i)return t.scrollTop(0),void 0;e=this.findHighlightableChoices().find(".select2-result-label");r=n(e[i]);u=r.offset().top+r.outerHeight(!0);i===e.length-1&&(f=t.find("li.select2-more-results"),f.length>0&&(u=f.offset().top+f.outerHeight(!0)));o=t.offset().top+t.outerHeight(!0);u>o&&t.scrollTop(t.scrollTop()+(u-o));s=r.offset().top-t.offset().top;0>s&&"none"!=r.css("display")&&t.scrollTop(t.scrollTop()+s)}},findHighlightableChoices:function(){return this.results.find(".select2-result-selectable:not(.select2-disabled):not(.select2-selected)")},moveHighlight:function(t){for(var r,u=this.findHighlightableChoices(),i=this.highlight();i>-1&&i<u.length;)if(i+=t,r=n(u[i]),r.hasClass("select2-result-selectable")&&!r.hasClass("select2-disabled")&&!r.hasClass("select2-selected")){this.highlight(i);break}},highlight:function(t){var i,u,r=this.findHighlightableChoices();return 0===arguments.length?e(r.filter(".select2-highlighted")[0],r.get()):(t>=r.length&&(t=r.length-1),0>t&&(t=0),this.removeHighlight(),i=n(r[t]),i.addClass("select2-highlighted"),this.search.attr("aria-activedescendant",i.find(".select2-result-label").attr("id")),this.ensureHighlightVisible(),this.liveRegion.text(i.text()),u=i.data("select2-data"),u&&this.opts.element.trigger({type:"select2-highlight",val:this.id(u),choice:u}),void 0)},removeHighlight:function(){this.results.find(".select2-highlighted").removeClass("select2-highlighted")},touchMoved:function(){this._touchMoved=!0},clearTouchMoved:function(){this._touchMoved=!1},countSelectableResults:function(){return this.findHighlightableChoices().length},highlightUnderEvent:function(t){var i=n(t.target).closest(".select2-result-selectable"),r;i.length>0&&!i.is(".select2-highlighted")?(r=this.findHighlightableChoices(),this.highlight(r.index(i))):0==i.length&&this.removeHighlight()},loadMoreIfNeeded:function(){var f,t=this.results,i=t.find("li.select2-more-results"),r=this.resultsPage+1,n=this,e=this.search.val(),o=this.context;0!==i.length&&(f=i.offset().top-t.offset().top-t.height(),f<=this.opts.loadMorePadding&&(i.addClass("select2-active"),this.opts.query({element:this.opts.element,term:e,page:r,context:o,matcher:this.opts.matcher,callback:this.bind(function(f){n.opened()&&(n.opts.populateResults.call(this,t,f.results,{term:e,page:r,context:o}),n.postprocessResults(f,!1,!1),f.more===!0?(i.detach().appendTo(t).text(u(n.opts.formatLoadMore,r+1)),window.setTimeout(function(){n.loadMoreIfNeeded()},10)):i.remove(),n.positionDropdown(),n.resultsPage=r,n.context=f.context,this.opts.element.trigger({type:"select2-loaded",items:f}))})})))},tokenize:function(){},updateResults:function(i){function y(){e.removeClass("select2-active");s.positionDropdown();c.find(".select2-no-results,.select2-selection-limit,.select2-searching").length?s.liveRegion.text(c.text()):s.liveRegion.text(s.opts.formatMatches(c.find(".select2-result-selectable").length))}function h(n){c.html(n);y()}var v,l,p,e=this.search,c=this.results,r=this.opts,s=this,w=e.val(),b=n.data(this.container,"select2-last-term"),a;if((i===!0||!b||!f(w,b))&&(n.data(this.container,"select2-last-term",w),i===!0||this.showSearchInput!==!1&&this.opened())){if(p=++this.queryCount,a=this.getMaximumSelectionSize(),a>=1&&(v=this.data(),n.isArray(v)&&v.length>=a&&o(r.formatSelectionTooBig,"formatSelectionTooBig")))return h("<li class='select2-selection-limit'>"+u(r.formatSelectionTooBig,a)+"<\/li>"),void 0;if(e.val().length<r.minimumInputLength)return o(r.formatInputTooShort,"formatInputTooShort")?h("<li class='select2-no-results'>"+u(r.formatInputTooShort,e.val(),r.minimumInputLength)+"<\/li>"):h(""),i&&this.showSearch&&this.showSearch(!0),void 0;if(r.maximumInputLength&&e.val().length>r.maximumInputLength)return o(r.formatInputTooLong,"formatInputTooLong")?h("<li class='select2-no-results'>"+u(r.formatInputTooLong,e.val(),r.maximumInputLength)+"<\/li>"):h(""),void 0;r.formatSearching&&0===this.findHighlightableChoices().length&&h("<li class='select2-searching'>"+u(r.formatSearching)+"<\/li>");e.addClass("select2-active");this.removeHighlight();l=this.tokenize();l!=t&&null!=l&&e.val(l);this.resultsPage=1;r.query({element:r.element,term:e.val(),page:this.resultsPage,context:null,matcher:r.matcher,callback:this.bind(function(l){var a;if(p==this.queryCount){if(!this.opened())return this.search.removeClass("select2-active"),void 0;if(this.context=l.context===t?null:l.context,this.opts.createSearchChoice&&""!==e.val()&&(a=this.opts.createSearchChoice.call(s,e.val(),l.results),a!==t&&null!==a&&s.id(a)!==t&&null!==s.id(a)&&0===n(l.results).filter(function(){return f(s.id(this),s.id(a))}).length&&this.opts.createSearchChoicePosition(l.results,a)),0===l.results.length&&o(r.formatNoMatches,"formatNoMatches"))return h("<li class='select2-no-results'>"+u(r.formatNoMatches,e.val())+"<\/li>"),void 0;c.empty();s.opts.populateResults.call(this,c,l.results,{term:e.val(),page:this.resultsPage,context:null});l.more===!0&&o(r.formatLoadMore,"formatLoadMore")&&(c.append("<li class='select2-more-results'>"+s.opts.escapeMarkup(u(r.formatLoadMore,this.resultsPage))+"<\/li>"),window.setTimeout(function(){s.loadMoreIfNeeded()},10));this.postprocessResults(l,i);y();this.opts.element.trigger({type:"select2-loaded",items:l})}})})}},cancel:function(){this.close()},blur:function(){this.opts.selectOnBlur&&this.selectHighlighted({noFocus:!0});this.close();this.container.removeClass("select2-container-active");this.search[0]===document.activeElement&&this.search.blur();this.clearSearch();this.selection.find(".select2-search-choice-focus").removeClass("select2-search-choice-focus")},focusSearch:function(){vt(this.search)},selectHighlighted:function(n){if(this._touchMoved)return this.clearTouchMoved(),void 0;var i=this.highlight(),r=this.results.find(".select2-highlighted"),t=r.closest(".select2-result").data("select2-data");t?(this.highlight(i),this.onSelect(t,n)):n&&n.noFocus&&this.close()},getPlaceholder:function(){var n;return this.opts.element.attr("placeholder")||this.opts.element.attr("data-placeholder")||this.opts.element.data("placeholder")||this.opts.placeholder||((n=this.getPlaceholderOption())!==t?n.text():t)},getPlaceholderOption:function(){if(this.select){var i=this.select.children("option").first();if(this.opts.placeholderOption!==t)return"first"===this.opts.placeholderOption&&i||"function"==typeof this.opts.placeholderOption&&this.opts.placeholderOption(this.select);if(""===n.trim(i.text())&&""===i.val())return i}},initContainerWidth:function(){function r(){var i,f,r,u,e,o;if("off"===this.opts.width)return null;if("element"===this.opts.width)return 0===this.opts.element.outerWidth(!1)?"auto":this.opts.element.outerWidth(!1)+"px";if("copy"===this.opts.width||"resolve"===this.opts.width){if(i=this.opts.element.attr("style"),i!==t)for(f=i.split(";"),u=0,e=f.length;e>u;u+=1)if(o=f[u].replace(/\s/g,""),r=o.match(/^width:(([-+]?([0-9]*\.)?[0-9]+)(px|em|ex|%|in|cm|mm|pt|pc))/i),null!==r&&r.length>=1)return r[1];return"resolve"===this.opts.width?(i=this.opts.element.css("width"),i.indexOf("%")>0?i:0===this.opts.element.outerWidth(!1)?"auto":this.opts.element.outerWidth(!1)+"px"):null}return n.isFunction(this.opts.width)?this.opts.width():this.opts.width}var i=r.call(this);null!==i&&this.container.css("width",i)}});ot=p(a,{createContainer:function(){return n(document.createElement("div")).attr({"class":"select2-container"}).html("<a href='javascript:void(0)' class='select2-choice' tabindex='-1'>   <span class='select2-chosen'>&#160;<\/span><abbr class='select2-search-choice-close'><\/abbr>   <span class='select2-arrow' role='presentation'><b role='presentation'><\/b><\/span><\/a><label for='' class='select2-offscreen'><\/label><input class='select2-focusser select2-offscreen' type='text' aria-haspopup='true' role='button' /><div class='select2-drop select2-display-none'>   <div class='select2-search'>       <label for='' class='select2-offscreen'><\/label>       <input type='text' autocomplete='off' autocorrect='off' autocapitalize='off' spellcheck='false' class='select2-input' role='combobox' aria-expanded='true'       aria-autocomplete='list' />   <\/div>   <ul class='select2-results' role='listbox'>   <\/ul><\/div>")},enableInterface:function(){this.parent.enableInterface.apply(this,arguments)&&this.focusser.prop("disabled",!this.isInterfaceEnabled())},opening:function(){var i,r,u;this.opts.minimumResultsForSearch>=0&&this.showSearch(!0);this.parent.opening.apply(this,arguments);this.showSearchInput!==!1&&this.search.val(this.focusser.val());this.opts.shouldFocusInput(this)&&(this.search.focus(),i=this.search.get(0),i.createTextRange?(r=i.createTextRange(),r.collapse(!1),r.select()):i.setSelectionRange&&(u=this.search.val().length,i.setSelectionRange(u,u)));""===this.search.val()&&this.nextSearchTerm!=t&&(this.search.val(this.nextSearchTerm),this.search.select());this.focusser.prop("disabled",!0).val("");this.updateResults(!0);this.opts.element.trigger(n.Event("select2-open"))},close:function(){this.opened()&&(this.parent.close.apply(this,arguments),this.focusser.prop("disabled",!1),this.opts.shouldFocusInput(this)&&this.focusser.focus())},focus:function(){this.opened()?this.close():(this.focusser.prop("disabled",!1),this.opts.shouldFocusInput(this)&&this.focusser.focus())},isFocused:function(){return this.container.hasClass("select2-container-active")},cancel:function(){this.parent.cancel.apply(this,arguments);this.focusser.prop("disabled",!1);this.opts.shouldFocusInput(this)&&this.focusser.focus()},destroy:function(){n("label[for='"+this.focusser.attr("id")+"']").attr("for",this.opts.element.attr("id"));this.parent.destroy.apply(this,arguments);y.call(this,"selection","focusser")},initContainer:function(){var t,f,e=this.container,s=this.dropdown,u=c(),o;this.opts.minimumResultsForSearch<0?this.showSearch(!1):this.showSearch(!0);this.selection=t=e.find(".select2-choice");this.focusser=e.find(".select2-focusser");t.find(".select2-chosen").attr("id","select2-chosen-"+u);this.focusser.attr("aria-labelledby","select2-chosen-"+u);this.results.attr("id","select2-results-"+u);this.search.attr("aria-owns","select2-results-"+u);this.focusser.attr("id","s2id_autogen"+u);f=n("label[for='"+this.opts.element.attr("id")+"']");this.focusser.prev().text(f.text()).attr("for",this.focusser.attr("id"));o=this.opts.element.attr("title");this.opts.element.attr("title",o||f.text());this.focusser.attr("tabindex",this.elementTabIndex);this.search.attr("id",this.focusser.attr("id")+"_search");this.search.prev().text(n("label[for='"+this.focusser.attr("id")+"']").text()).attr("for",this.search.attr("id"));this.search.on("keydown",this.bind(function(n){if(this.isInterfaceEnabled()){if(n.which===i.PAGE_UP||n.which===i.PAGE_DOWN)return r(n),void 0;switch(n.which){case i.UP:case i.DOWN:return this.moveHighlight(n.which===i.UP?-1:1),r(n),void 0;case i.ENTER:return this.selectHighlighted(),r(n),void 0;case i.TAB:return this.selectHighlighted({noFocus:!0}),void 0;case i.ESC:return this.cancel(n),r(n),void 0}}}));this.search.on("blur",this.bind(function(){document.activeElement===this.body.get(0)&&window.setTimeout(this.bind(function(){this.opened()&&this.search.focus()}),0)}));this.focusser.on("keydown",this.bind(function(n){if(this.isInterfaceEnabled()&&n.which!==i.TAB&&!i.isControl(n)&&!i.isFunctionKey(n)&&n.which!==i.ESC)return this.opts.openOnEnter===!1&&n.which===i.ENTER?(r(n),void 0):n.which==i.DOWN||n.which==i.UP||n.which==i.ENTER&&this.opts.openOnEnter?n.altKey||n.ctrlKey||n.shiftKey||n.metaKey?void 0:(this.open(),r(n),void 0):n.which==i.DELETE||n.which==i.BACKSPACE?(this.opts.allowClear&&this.clear(),r(n),void 0):void 0}));g(this.focusser);this.focusser.on("keyup-change input",this.bind(function(n){if(this.opts.minimumResultsForSearch>=0){if(n.stopPropagation(),this.opened())return;this.open()}}));t.on("mousedown touchstart","abbr",this.bind(function(n){this.isInterfaceEnabled()&&(this.clear(),pt(n),this.close(),this.selection.focus())}));t.on("mousedown touchstart",this.bind(function(i){k(t);this.container.hasClass("select2-container-active")||this.opts.element.trigger(n.Event("select2-focus"));this.opened()?this.close():this.isInterfaceEnabled()&&this.open();r(i)}));s.on("mousedown touchstart",this.bind(function(){this.opts.shouldFocusInput(this)&&this.search.focus()}));t.on("focus",this.bind(function(n){r(n)}));this.focusser.on("focus",this.bind(function(){this.container.hasClass("select2-container-active")||this.opts.element.trigger(n.Event("select2-focus"));this.container.addClass("select2-container-active")})).on("blur",this.bind(function(){this.opened()||(this.container.removeClass("select2-container-active"),this.opts.element.trigger(n.Event("select2-blur")))}));this.search.on("focus",this.bind(function(){this.container.hasClass("select2-container-active")||this.opts.element.trigger(n.Event("select2-focus"));this.container.addClass("select2-container-active")}));this.initContainerWidth();this.opts.element.addClass("select2-offscreen");this.setPlaceholder()},clear:function(t){var i=this.selection.data("select2-data"),r,u;if(i){if(r=n.Event("select2-clearing"),this.opts.element.trigger(r),r.isDefaultPrevented())return;u=this.getPlaceholderOption();this.opts.element.val(u?u.val():"");this.selection.find(".select2-chosen").empty();this.selection.removeData("select2-data");this.setPlaceholder();t!==!1&&(this.opts.element.trigger({type:"select2-removed",val:this.id(i),choice:i}),this.triggerChange({removed:i}))}},initSelection:function(){if(this.isPlaceholderOptionSelected())this.updateSelection(null),this.close(),this.setPlaceholder();else{var n=this;this.opts.initSelection.call(null,this.opts.element,function(i){i!==t&&null!==i&&(n.updateSelection(i),n.close(),n.setPlaceholder(),n.nextSearchTerm=n.opts.nextSearchTerm(i,n.search.val()))})}},isPlaceholderOptionSelected:function(){var n;return this.getPlaceholder()===t?!1:(n=this.getPlaceholderOption())!==t&&n.prop("selected")||""===this.opts.element.val()||this.opts.element.val()===t||null===this.opts.element.val()},prepareOpts:function(){var t=this.parent.prepareOpts.apply(this,arguments),i=this;return"select"===t.element.get(0).tagName.toLowerCase()?t.initSelection=function(n,t){var r=n.find("option").filter(function(){return this.selected&&!this.disabled});t(i.optionToData(r))}:"data"in t&&(t.initSelection=t.initSelection||function(i,r){var e=i.val(),u=null;t.query({matcher:function(n,i,r){var o=f(e,t.id(r));return o&&(u=r),o},callback:n.isFunction(r)?function(){r(u)}:n.noop})}),t},getPlaceholder:function(){return this.select&&this.getPlaceholderOption()===t?t:this.parent.getPlaceholder.apply(this,arguments)},setPlaceholder:function(){var n=this.getPlaceholder();if(this.isPlaceholderOptionSelected()&&n!==t){if(this.select&&this.getPlaceholderOption()===t)return;this.selection.find(".select2-chosen").html(this.opts.escapeMarkup(n));this.selection.addClass("select2-default");this.container.removeClass("select2-allowclear")}},postprocessResults:function(n,t,i){var r=0,e=this,u;(this.findHighlightableChoices().each2(function(n,t){if(f(e.id(t.data("select2-data")),e.opts.element.val()))return(r=n,!1)}),i!==!1&&(t===!0&&r>=0?this.highlight(r):this.highlight(0)),t===!0)&&(u=this.opts.minimumResultsForSearch,u>=0&&this.showSearch(et(n.results)>=u))},showSearch:function(t){this.showSearchInput!==t&&(this.showSearchInput=t,this.dropdown.find(".select2-search").toggleClass("select2-search-hidden",!t),this.dropdown.find(".select2-search").toggleClass("select2-offscreen",!t),n(this.dropdown,this.container).toggleClass("select2-with-searchbox",t))},onSelect:function(n,t){if(this.triggerSelect(n)){var i=this.opts.element.val(),r=this.data();this.opts.element.val(this.id(n));this.updateSelection(n);this.opts.element.trigger({type:"select2-selected",val:this.id(n),choice:n});this.nextSearchTerm=this.opts.nextSearchTerm(n,this.search.val());this.close();t&&t.noFocus||!this.opts.shouldFocusInput(this)||this.focusser.focus();f(i,this.id(n))||this.triggerChange({added:n,removed:r})}},updateSelection:function(n){var r,u,i=this.selection.find(".select2-chosen");this.selection.data("select2-data",n);i.empty();null!==n&&(r=this.opts.formatSelection(n,i,this.opts.escapeMarkup));r!==t&&i.append(r);u=this.opts.formatSelectionCssClass(n,i);u!==t&&i.addClass(u);this.selection.removeClass("select2-default");this.opts.allowClear&&this.getPlaceholder()!==t&&this.container.addClass("select2-allowclear")},val:function(){var i,r=!1,u=null,n=this,f=this.data();if(0===arguments.length)return this.opts.element.val();if(i=arguments[0],arguments.length>1&&(r=arguments[1]),this.select)this.select.val(i).find("option").filter(function(){return this.selected}).each2(function(t,i){return u=n.optionToData(i),!1}),this.updateSelection(u),this.setPlaceholder(),r&&this.triggerChange({added:u,removed:f});else{if(!i&&0!==i)return this.clear(r),void 0;if(this.opts.initSelection===t)throw new Error("cannot call val() if initSelection() is not defined");this.opts.element.val(i);this.opts.initSelection(this.opts.element,function(t){n.opts.element.val(t?n.id(t):"");n.updateSelection(t);n.setPlaceholder();r&&n.triggerChange({added:t,removed:f})})}},clearSearch:function(){this.search.val("");this.focusser.val("")},data:function(n){var i,r=!1;return 0===arguments.length?(i=this.selection.data("select2-data"),i==t&&(i=null),i):(arguments.length>1&&(r=arguments[1]),n?(i=this.data(),this.opts.element.val(n?this.id(n):""),this.updateSelection(n),r&&this.triggerChange({added:n,removed:i})):this.clear(r),void 0)}});st=p(a,{createContainer:function(){return n(document.createElement("div")).attr({"class":"select2-container select2-container-multi"}).html("<ul class='select2-choices'>  <li class='select2-search-field'>    <label for='' class='select2-offscreen'><\/label>    <input type='text' autocomplete='off' autocorrect='off' autocapitalize='off' spellcheck='false' class='select2-input'>  <\/li><\/ul><div class='select2-drop select2-drop-multi select2-display-none'>   <ul class='select2-results'>   <\/ul><\/div>")},prepareOpts:function(){var t=this.parent.prepareOpts.apply(this,arguments),i=this;return"select"===t.element.get(0).tagName.toLowerCase()?t.initSelection=function(n,t){var r=[];n.find("option").filter(function(){return this.selected&&!this.disabled}).each2(function(n,t){r.push(i.optionToData(t))});t(r)}:"data"in t&&(t.initSelection=t.initSelection||function(i,r){var e=v(i.val(),t.separator),u=[];t.query({matcher:function(i,r,o){var s=n.grep(e,function(n){return f(n,t.id(o))}).length;return s&&u.push(o),s},callback:n.isFunction(r)?function(){for(var h,n,s,o=[],i=0;i<e.length;i++)for(h=e[i],n=0;n<u.length;n++)if(s=u[n],f(h,t.id(s))){o.push(s);u.splice(n,1);break}r(o)}:n.noop})}),t},selectChoice:function(n){var t=this.container.find(".select2-search-choice-focus");t.length&&n&&n[0]==t[0]||(t.length&&this.opts.element.trigger("choice-deselected",t),t.removeClass("select2-search-choice-focus"),n&&n.length&&(this.close(),n.addClass("select2-search-choice-focus"),this.opts.element.trigger("choice-selected",n)))},destroy:function(){n("label[for='"+this.search.attr("id")+"']").attr("for",this.opts.element.attr("id"));this.parent.destroy.apply(this,arguments);y.call(this,"searchContainer","selection")},initContainer:function(){var t,u=".select2-choices",f;this.searchContainer=this.container.find(".select2-search-field");this.selection=t=this.container.find(u);f=this;this.selection.on("click",".select2-search-choice:not(.select2-locked)",function(){f.search[0].focus();f.selectChoice(n(this))});this.search.attr("id","s2id_autogen"+c());this.search.prev().text(n("label[for='"+this.opts.element.attr("id")+"']").text()).attr("for",this.search.attr("id"));this.search.on("input paste",this.bind(function(){this.isInterfaceEnabled()&&(this.opened()||this.open())}));this.search.attr("tabindex",this.elementTabIndex);this.keydowns=0;this.search.on("keydown",this.bind(function(n){var u;if(this.isInterfaceEnabled()){++this.keydowns;var f=t.find(".select2-search-choice-focus"),o=f.prev(".select2-search-choice:not(.select2-locked)"),e=f.next(".select2-search-choice:not(.select2-locked)"),s=yt(this.search);if(f.length&&(n.which==i.LEFT||n.which==i.RIGHT||n.which==i.BACKSPACE||n.which==i.DELETE||n.which==i.ENTER))return u=f,n.which==i.LEFT&&o.length?u=o:n.which==i.RIGHT?u=e.length?e:null:n.which===i.BACKSPACE?this.unselect(f.first())&&(this.search.width(10),u=o.length?o:e):n.which==i.DELETE?this.unselect(f.first())&&(this.search.width(10),u=e.length?e:null):n.which==i.ENTER&&(u=null),this.selectChoice(u),r(n),u&&u.length||this.open(),void 0;if((n.which===i.BACKSPACE&&1==this.keydowns||n.which==i.LEFT)&&0==s.offset&&!s.length)return this.selectChoice(t.find(".select2-search-choice:not(.select2-locked)").last()),r(n),void 0;if(this.selectChoice(null),this.opened())switch(n.which){case i.UP:case i.DOWN:return this.moveHighlight(n.which===i.UP?-1:1),r(n),void 0;case i.ENTER:return this.selectHighlighted(),r(n),void 0;case i.TAB:return this.selectHighlighted({noFocus:!0}),this.close(),void 0;case i.ESC:return this.cancel(n),r(n),void 0}if(n.which!==i.TAB&&!i.isControl(n)&&!i.isFunctionKey(n)&&n.which!==i.BACKSPACE&&n.which!==i.ESC){if(n.which===i.ENTER){if(this.opts.openOnEnter===!1)return;if(n.altKey||n.ctrlKey||n.shiftKey||n.metaKey)return}this.open();(n.which===i.PAGE_UP||n.which===i.PAGE_DOWN)&&r(n);n.which===i.ENTER&&r(n)}}}));this.search.on("keyup",this.bind(function(){this.keydowns=0;this.resizeSearch()}));this.search.on("blur",this.bind(function(t){this.container.removeClass("select2-container-active");this.search.removeClass("select2-focused");this.selectChoice(null);this.opened()||this.clearSearch();t.stopImmediatePropagation();this.opts.element.trigger(n.Event("select2-blur"))}));this.container.on("click",u,this.bind(function(t){this.isInterfaceEnabled()&&(n(t.target).closest(".select2-search-choice").length>0||(this.selectChoice(null),this.clearPlaceholder(),this.container.hasClass("select2-container-active")||this.opts.element.trigger(n.Event("select2-focus")),this.open(),this.focusSearch(),t.preventDefault()))}));this.container.on("focus",u,this.bind(function(){this.isInterfaceEnabled()&&(this.container.hasClass("select2-container-active")||this.opts.element.trigger(n.Event("select2-focus")),this.container.addClass("select2-container-active"),this.dropdown.addClass("select2-drop-active"),this.clearPlaceholder())}));this.initContainerWidth();this.opts.element.addClass("select2-offscreen");this.clearSearch()},enableInterface:function(){this.parent.enableInterface.apply(this,arguments)&&this.search.prop("disabled",!this.isInterfaceEnabled())},initSelection:function(){if(""===this.opts.element.val()&&""===this.opts.element.text()&&(this.updateSelection([]),this.close(),this.clearSearch()),this.select||""!==this.opts.element.val()){var n=this;this.opts.initSelection.call(null,this.opts.element,function(i){i!==t&&null!==i&&(n.updateSelection(i),n.close(),n.clearSearch())})}},clearSearch:function(){var n=this.getPlaceholder(),i=this.getMaxSearchWidth();n!==t&&0===this.getVal().length&&this.search.hasClass("select2-focused")===!1?(this.search.val(n).addClass("select2-default"),this.search.width(i>0?i:this.container.css("width"))):this.search.val("").width(10)},clearPlaceholder:function(){this.search.hasClass("select2-default")&&this.search.val("").removeClass("select2-default")},opening:function(){this.clearPlaceholder();this.resizeSearch();this.parent.opening.apply(this,arguments);this.focusSearch();""===this.search.val()&&this.nextSearchTerm!=t&&(this.search.val(this.nextSearchTerm),this.search.select());this.updateResults(!0);this.opts.shouldFocusInput(this)&&this.search.focus();this.opts.element.trigger(n.Event("select2-open"))},close:function(){this.opened()&&this.parent.close.apply(this,arguments)},focus:function(){this.close();this.search.focus()},isFocused:function(){return this.search.hasClass("select2-focused")},updateSelection:function(t){var r=[],u=[],i=this;n(t).each(function(){e(i.id(this),r)<0&&(r.push(i.id(this)),u.push(this))});t=u;this.selection.find(".select2-search-choice").remove();n(t).each(function(){i.addSelectedChoice(this)});i.postprocessResults()},tokenize:function(){var n=this.search.val();n=this.opts.tokenizer.call(this,n,this.data(),this.bind(this.onSelect),this.opts);null!=n&&n!=t&&(this.search.val(n),n.length>0&&this.open())},onSelect:function(n,i){this.triggerSelect(n)&&(this.addSelectedChoice(n),this.opts.element.trigger({type:"selected",val:this.id(n),choice:n}),this.nextSearchTerm=this.opts.nextSearchTerm(n,this.search.val()),this.clearSearch(),this.updateResults(),(this.select||!this.opts.closeOnSelect)&&this.postprocessResults(n,!1,this.opts.closeOnSelect===!0),this.opts.closeOnSelect?(this.close(),this.search.width(10)):this.countSelectableResults()>0?(this.search.width(10),this.resizeSearch(),this.getMaximumSelectionSize()>0&&this.val().length>=this.getMaximumSelectionSize()?this.updateResults(!0):this.nextSearchTerm!=t&&(this.search.val(this.nextSearchTerm),this.updateResults(),this.search.select()),this.positionDropdown()):(this.close(),this.search.width(10)),this.triggerChange({added:n}),i&&i.noFocus||this.focusSearch())},cancel:function(){this.close();this.focusSearch()},addSelectedChoice:function(i){var f,e,o=!i.locked,h=n("<li class='select2-search-choice'>    <div><\/div>    <a href='#' class='select2-search-choice-close' tabindex='-1'><\/a><\/li>"),c=n("<li class='select2-search-choice select2-locked'><div><\/div><\/li>"),u=o?h:c,l=this.id(i),s=this.getVal();f=this.opts.formatSelection(i,u.find("div"),this.opts.escapeMarkup);f!=t&&u.find("div").replaceWith("<div>"+f+"<\/div>");e=this.opts.formatSelectionCssClass(i,u.find("div"));e!=t&&u.addClass(e);o&&u.find(".select2-search-choice-close").on("mousedown",r).on("click dblclick",this.bind(function(t){this.isInterfaceEnabled()&&(this.unselect(n(t.target)),this.selection.find(".select2-search-choice-focus").removeClass("select2-search-choice-focus"),r(t),this.close(),this.focusSearch())})).on("focus",this.bind(function(){this.isInterfaceEnabled()&&(this.container.addClass("select2-container-active"),this.dropdown.addClass("select2-drop-active"))}));u.data("select2-data",i);u.insertBefore(this.searchContainer);s.push(l);this.setVal(s)},unselect:function(t){var i,f,u=this.getVal(),r;if(t=t.closest(".select2-search-choice"),0===t.length)throw"Invalid argument: "+t+". Must be .select2-search-choice";if(i=t.data("select2-data")){if(r=n.Event("select2-removing"),r.val=this.id(i),r.choice=i,this.opts.element.trigger(r),r.isDefaultPrevented())return!1;for(;(f=e(this.id(i),u))>=0;)u.splice(f,1),this.setVal(u),this.select&&this.postprocessResults();return t.remove(),this.opts.element.trigger({type:"select2-removed",val:this.id(i),choice:i}),this.triggerChange({removed:i}),!0}},postprocessResults:function(n,t,i){var s=this.getVal(),f=this.results.find(".select2-result"),h=this.results.find(".select2-result-with-children"),r=this;f.each2(function(n,t){var i=r.id(t.data("select2-data"));e(i,s)>=0&&(t.addClass("select2-selected"),t.find(".select2-result-selectable").addClass("select2-selected"))});h.each2(function(n,t){t.is(".select2-result-selectable")||0!==t.find(".select2-result-selectable:not(.select2-selected)").length||t.addClass("select2-selected")});-1==this.highlight()&&i!==!1&&r.highlight(0);!this.opts.createSearchChoice&&!f.filter(".select2-result:not(.select2-selected)").length>0&&(!n||n&&!n.more&&0===this.results.find(".select2-no-results").length)&&o(r.opts.formatNoMatches,"formatNoMatches")&&this.results.append("<li class='select2-no-results'>"+u(r.opts.formatNoMatches,r.search.val())+"<\/li>")},getMaxSearchWidth:function(){return this.selection.width()-d(this.search)},resizeSearch:function(){var i,u,t,f,n,r=d(this.search);i=wt(this.search)+10;u=this.search.offset().left;t=this.selection.width();f=this.selection.offset().left;n=t-(u-f)-r;i>n&&(n=t-r);40>n&&(n=t-r);0>=n&&(n=i);this.search.width(Math.floor(n))},getVal:function(){var n;return this.select?(n=this.select.val(),null===n?[]:n):(n=this.opts.element.val(),v(n,this.opts.separator))},setVal:function(t){var i;this.select?this.select.val(t):(i=[],n(t).each(function(){e(this,i)<0&&i.push(this)}),this.opts.element.val(0===i.length?"":i.join(this.opts.separator)))},buildChangeDetails:function(n,t){for(var r,t=t.slice(0),n=n.slice(0),i=0;i<t.length;i++)for(r=0;r<n.length;r++)f(this.opts.id(t[i]),this.opts.id(n[r]))&&(t.splice(i,1),i>0&&i--,n.splice(r,1),r--);return{added:t,removed:n}},val:function(i,r){var f,u=this;if(0===arguments.length)return this.getVal();if(f=this.data(),f.length||(f=[]),!i&&0!==i)return this.opts.element.val(""),this.updateSelection([]),this.clearSearch(),r&&this.triggerChange({added:this.data(),removed:f}),void 0;if(this.setVal(i),this.select)this.opts.initSelection(this.select,this.bind(this.updateSelection)),r&&this.triggerChange(this.buildChangeDetails(f,this.data()));else{if(this.opts.initSelection===t)throw new Error("val() cannot be called if initSelection() is not defined");this.opts.initSelection(this.opts.element,function(t){var i=n.map(t,u.id);u.setVal(i);u.updateSelection(t);u.clearSearch();r&&u.triggerChange(u.buildChangeDetails(f,u.data()))})}this.clearSearch()},onSortStart:function(){if(this.select)throw new Error("Sorting of elements is not supported when attached to <select>. Attach to <input type='hidden'/> instead.");this.search.width(0);this.searchContainer.hide()},onSortEnd:function(){var t=[],i=this;this.searchContainer.show();this.searchContainer.appendTo(this.searchContainer.parent());this.resizeSearch();this.selection.find(".select2-search-choice").each(function(){t.push(i.opts.id(n(this).data("select2-data")))});this.setVal(t);this.triggerChange()},data:function(t,i){var r,u,f=this;return 0===arguments.length?this.selection.children(".select2-search-choice").map(function(){return n(this).data("select2-data")}).get():(u=this.data(),t||(t=[]),r=n.map(t,function(n){return f.opts.id(n)}),this.setVal(r),this.updateSelection(t),this.clearSearch(),i&&this.triggerChange(this.buildChangeDetails(u,this.data())),void 0)}});n.fn.select2=function(){var r,u,f,o,s,i=Array.prototype.slice.call(arguments,0),c=["val","destroy","opened","open","close","focus","isFocused","container","dropdown","onSortStart","onSortEnd","enable","disable","readonly","positionDropdown","data","search"],l=["opened","isFocused","container","dropdown"],a=["val","data"],h={search:"externalSearch"};return this.each(function(){if(0===i.length||"object"==typeof i[0])r=0===i.length?{}:n.extend({},i[0]),r.element=n(this),"select"===r.element.get(0).tagName.toLowerCase()?s=r.element.prop("multiple"):(s=r.multiple||!1,"tags"in r&&(r.multiple=s=!0)),u=s?new window.Select2["class"].multi:new window.Select2["class"].single,u.init(r);else{if("string"!=typeof i[0])throw"Invalid arguments to select2 plugin: "+i;if(e(i[0],c)<0)throw"Unknown method: "+i[0];if(o=t,u=n(this).data("select2"),u===t)return;if(f=i[0],"container"===f?o=u.container:"dropdown"===f?o=u.dropdown:(h[f]&&(f=h[f]),o=u[f].apply(u,i.slice(1))),e(i[0],l)>=0||e(i[0],a)>=0&&1==i.length)return!1}}),o===t?this:o};n.fn.select2.defaults={width:"copy",loadMorePadding:0,closeOnSelect:!0,openOnEnter:!0,containerCss:{},dropdownCss:{},containerCssClass:"",dropdownCssClass:"",formatResult:function(n,t,i,r){var u=[];return tt(n.text,i.term,u,r),u.join("")},formatSelection:function(n,i,r){return n?r(n.text):t},sortResults:function(n){return n},formatResultCssClass:function(n){return n.css},formatSelectionCssClass:function(){return t},formatMatches:function(n){return n+" results are available, use up and down arrow keys to navigate."},formatNoMatches:function(){return"No matches found"},formatInputTooShort:function(n,t){var i=t-n.length;return"Please enter "+i+" or more character"+(1==i?"":"s")},formatInputTooLong:function(n,t){var i=n.length-t;return"Please delete "+i+" character"+(1==i?"":"s")},formatSelectionTooBig:function(n){return"You can only select "+n+" item"+(1==n?"":"s")},formatLoadMore:function(){return"Loading more results…"},formatSearching:function(){return"Searching…"},minimumResultsForSearch:0,minimumInputLength:0,maximumInputLength:null,maximumSelectionSize:0,id:function(n){return n==t?null:n.id},matcher:function(n,t){return h(""+t).toUpperCase().indexOf(h(""+n).toUpperCase())>=0},separator:",",tokenSeparators:[],tokenizer:bt,escapeMarkup:it,blurOnChange:!1,selectOnBlur:!1,adaptContainerCssClass:function(n){return n},adaptDropdownCssClass:function(){return null},nextSearchTerm:function(){return t},searchInputPlaceholder:"",createSearchChoicePosition:"top",shouldFocusInput:function(n){var t="ontouchstart"in window||navigator.msMaxTouchPoints>0;return t?n.opts.minimumResultsForSearch<0?!1:!0:!0}};n.fn.select2.ajaxDefaults={transport:n.ajax,params:{type:"GET",cache:!1,dataType:"json"}};window.Select2={query:{ajax:rt,local:ut,tags:ft},util:{debounce:nt,markMatch:tt,escapeMarkup:it,stripDiacritics:h},"class":{abstract:a,single:ot,multi:st}}}}(jQuery);
/*!
 * angular-datatables - v0.4.0
 * https://github.com/l-lin/angular-datatables
 * License: MIT
 */
!function(n,t,i,r){"use strict";function u(n,t){function i(n){function i(n,i){function u(){var n="S";return r.dom=r.dom?r.dom:t.dom,-1===r.dom.indexOf(n)&&(r.dom=r.dom+n),r}var r=n(i);return r.withScroller=u,r}var r=n.newOptions,u=n.fromSource,f=n.fromFnPromise;return n.newOptions=function(){return i(r)},n.fromSource=function(n){return i(u,n)},n.fromFnPromise=function(n){return i(f,n)},n}n.decorator("DTOptionsBuilder",i);i.$inject=["$delegate"]}r.module("datatables.scroller",["datatables"]).config(u);u.$inject=["$provide","DT_DEFAULT_OPTIONS"]}(window,document,jQuery,angular);
/*! DataTables 1.10.5
 * ©2008-2015 SpryMedia Ltd - datatables.net/license
 */
(function(n,t,i){var r=function(r){function ct(n){var t,i,u={};r.each(n,function(r){(t=r.match(/^([^A-Z]+?)([A-Z])/))&&-1!=="a aa ai ao as b fn i m o s ".indexOf(t[1]+" ")&&(i=r.replace(t[0],t[2].toLowerCase()),u[i]=r,"o"===t[1]&&ct(n[r]))});n._hungarianMap=u}function nt(n,t,u){n._hungarianMap||ct(n);var f;r.each(t,function(e){f=n._hungarianMap[e];f!==i&&(u||t[f]===i)&&("o"===f.charAt(0)?(t[f]||(t[f]={}),r.extend(!0,t[f],t[e]),nt(n[f],t[f],u)):t[f]=t[e])})}function rr(n){var t=u.defaults.oLanguage,i=n.sZeroRecords;!n.sEmptyTable&&i&&"No data available in table"===t.sEmptyTable&&k(n,n,"sZeroRecords","sEmptyTable");!n.sLoadingRecords&&i&&"Loading..."===t.sLoadingRecords&&k(n,n,"sZeroRecords","sLoadingRecords");n.sInfoThousands&&(n.sThousands=n.sInfoThousands);(n=n.sDecimal)&&fe(n)}function au(n){if(p(n,"ordering","bSort"),p(n,"orderMulti","bSortMulti"),p(n,"orderClasses","bSortClasses"),p(n,"orderCellsTop","bSortCellsTop"),p(n,"order","aaSorting"),p(n,"orderFixed","aaSortingFixed"),p(n,"paging","bPaginate"),p(n,"pagingType","sPaginationType"),p(n,"pageLength","iDisplayLength"),p(n,"searching","bFilter"),n=n.aoSearchCols)for(var t=0,i=n.length;t<i;t++)n[t]&&nt(u.models.oSearch,n[t])}function vu(n){p(n,"orderable","bSortable");p(n,"orderData","aDataSort");p(n,"orderSequence","asSorting");p(n,"orderDataType","sortDataType")}function yu(n){var n=n.oBrowser,t=r("<div/>").css({position:"absolute",top:0,left:0,height:1,width:1,overflow:"hidden"}).append(r("<div/>").css({position:"absolute",top:1,left:1,width:100,overflow:"scroll"}).append(r('<div class="test"/>').css({width:"100%",height:10}))).appendTo("body"),i=t.find(".test");n.bScrollOversize=100===i[0].offsetWidth;n.bScrollbarLeft=1!==i.offset().left;t.remove()}function pu(n,t,r,u,f,e){var o,s=!1;for(r!==i&&(o=r,s=!0);u!==f;)n.hasOwnProperty(u)&&(o=s?t(o,n[u],u,n):n[u],s=!0,u+=e);return o}function ur(n,i){var f=u.defaults.column,e=n.aoColumns.length,f=r.extend({},u.models.oColumn,f,{nTh:i?i:t.createElement("th"),sTitle:f.sTitle?f.sTitle:i?i.innerHTML:"",aDataSort:f.aDataSort?f.aDataSort:[e],mData:f.mData?f.mData:e,idx:e});n.aoColumns.push(f);f=n.aoPreSearchCols;f[e]=r.extend({},u.models.oSearch,f[e]);fi(n,e,r(i).data())}function fi(n,t,f){var t=n.aoColumns[t],e=n.oClasses,s=r(t.nTh),h;t.sWidthOrig||(t.sWidthOrig=s.attr("width")||null,h=(s.attr("style")||"").match(/width:\s*(\d+[pxem%]+)/),h&&(t.sWidthOrig=h[1]));f!==i&&null!==f&&(vu(f),nt(u.defaults.column,f),f.mDataProp!==i&&!f.mData&&(f.mData=f.mDataProp),f.sType&&(t._sManualType=f.sType),f.className&&!f.sClass&&(f.sClass=f.className),r.extend(t,f),k(t,f,"sWidth","sWidthOrig"),"number"==typeof f.iDataSort&&(t.aDataSort=[f.iDataSort]),k(t,f,"aDataSort"));var o=t.mData,l=pt(o),c=t.mRender?pt(t.mRender):null,f=function(n){return"string"==typeof n&&-1!==n.indexOf("@")};t._bAttrSrc=r.isPlainObject(o)&&(f(o.sort)||f(o.type)||f(o.filter));t.fnGetData=function(n,t,r){var u=l(n,t,i,r);return c&&t?c(u,t,n,r):u};t.fnSetData=function(n,t,i){return ft(o)(n,t,i)};"number"!=typeof o&&(n._rowReadObject=!0);n.oFeatures.bSort||(t.bSortable=!1,s.addClass(e.sSortableNone));n=-1!==r.inArray("asc",t.asSorting);f=-1!==r.inArray("desc",t.asSorting);!t.bSortable||!n&&!f?(t.sSortingClass=e.sSortableNone,t.sSortingClassJUI=""):n&&!f?(t.sSortingClass=e.sSortableAsc,t.sSortingClassJUI=e.sSortJUIAscAllowed):!n&&f?(t.sSortingClass=e.sSortableDesc,t.sSortingClassJUI=e.sSortJUIDescAllowed):(t.sSortingClass=e.sSortable,t.sSortingClassJUI=e.sSortJUI)}function lt(n){var t,i,r;if(!1!==n.oFeatures.bAutoWidth)for(t=n.aoColumns,yr(n),i=0,r=t.length;i<r;i++)t[i].nTh.style.width=t[i].sWidth;t=n.oScroll;(""!==t.sY||""!==t.sX)&&ni(n);h(n,null,"column-sizing",[n])}function ei(n,t){var i=yt(n,"bVisible");return"number"==typeof i[t]?i[t]:null}function at(n,t){var i=yt(n,"bVisible"),i=r.inArray(t,i);return-1!==i?i:null}function vt(n){return yt(n,"bVisible").length}function yt(n,t){var i=[];return r.map(n.aoColumns,function(n,r){n[t]&&i.push(r)}),i}function fr(n){for(var c=n.aoColumns,p=n.aoData,h=u.ext.type.detect,e,v,r,y,t,o,s,f=0,l=c.length;f<l;f++)if(t=c[f],s=[],!t.sType&&t._sManualType)t.sType=t._sManualType;else if(!t.sType){for(e=0,v=h.length;e<v;e++){for(r=0,y=p.length;r<y;r++){if(s[r]===i&&(s[r]=a(n,r,f,"type")),o=h[e](s[r],n),!o&&e!==h.length-1)break;if("html"===o)break}if(o){t.sType=o;break}}t.sType||(t.sType="string")}}function wu(n,t,u,f){var s,o,a,c,v,h,l=n.aoColumns,e;if(t)for(s=t.length-1;0<=s;s--)for(h=t[s],e=h.targets!==i?h.targets:h.aTargets,r.isArray(e)||(e=[e]),o=0,a=e.length;o<a;o++)if("number"==typeof e[o]&&0<=e[o]){for(;l.length<=e[o];)ur(n);f(e[o],h)}else if("number"==typeof e[o]&&0>e[o])f(l.length+e[o],h);else if("string"==typeof e[o])for(c=0,v=l.length;c<v;c++)("_all"==e[o]||r(l[c].nTh).hasClass(e[o]))&&f(c,h);if(u)for(s=0,n=u.length;s<n;s++)f(s,u[s])}function it(n,t,i,f){var o=n.aoData.length,e=r.extend(!0,{},u.models.oRow,{src:i?"dom":"data"});e._aData=t;n.aoData.push(e);for(var t=n.aoColumns,e=0,s=t.length;e<s;e++)i&&er(n,o,e,a(n,o,e)),t[e].sType=null;return n.aiDisplayMaster.push(o),(i||!n.oFeatures.bDeferRender)&&hr(n,o,i,f),o}function oi(n,t){var i;return t instanceof r||(t=r(t)),t.map(function(t,r){return i=ci(n,r),it(n,i.data,r,i.cells)})}function a(n,t,r,u){var s=n.iDraw,f=n.aoColumns[r],o=n.aoData[t]._aData,e=f.sDefaultContent,r=f.fnGetData(o,u,{settings:n,row:t,col:r});if(r===i)return n.iDrawError!=s&&null===e&&(ot(n,0,"Requested unknown parameter "+("function"==typeof f.mData?"{function}":"'"+f.mData+"'")+" for row "+t,4),n.iDrawError=s),e;if((r===o||null===r)&&null!==e)r=e;else if("function"==typeof r)return r.call(o);return null===r&&"display"==u?"":r}function er(n,t,i,r){n.aoColumns[i].fnSetData(n.aoData[t]._aData,r,{settings:n,row:t,col:i})}function or(n){return r.map(n.match(/(\\.|[^\.])+/g),function(n){return n.replace(/\\./g,".")})}function pt(n){var t,u;return r.isPlainObject(n)?(t={},r.each(n,function(n,i){i&&(t[n]=pt(i))}),function(n,r,u,f){var e=t[r]||t._;return e!==i?e(n,r,u,f):n}):null===n?function(n){return n}:"function"==typeof n?function(t,i,r,u){return n(t,i,r,u)}:"string"==typeof n&&(-1!==n.indexOf(".")||-1!==n.indexOf("[")||-1!==n.indexOf("("))?(u=function(n,t,r){var o,e,f,s;if(""!==r)for(e=or(r),f=0,s=e.length;f<s;f++){if(r=e[f].match(ii),o=e[f].match(ht),r){for(e[f]=e[f].replace(ii,""),""!==e[f]&&(n=n[e[f]]),o=[],e.splice(0,f+1),e=e.join("."),f=0,s=n.length;f<s;f++)o.push(u(n[f],t,e));n=r[0].substring(1,r[0].length-1);n=""===n?o:o.join(n);break}else if(o){e[f]=e[f].replace(ht,"");n=n[e[f]]();continue}if(null===n||n[e[f]]===i)return i;n=n[e[f]]}return n},function(t,i){return u(t,i,n)}):function(t){return t[n]}}function ft(n){if(r.isPlainObject(n))return ft(n._);if(null===n)return function(){};if("function"==typeof n)return function(t,i,r){n(t,"set",i,r)};if("string"==typeof n&&(-1!==n.indexOf(".")||-1!==n.indexOf("[")||-1!==n.indexOf("("))){var t=function(n,r,u){var u=or(u),e,s,o,f,h;for(e=u[u.length-1],f=0,h=u.length-1;f<h;f++){if(s=u[f].match(ii),o=u[f].match(ht),s){for(u[f]=u[f].replace(ii,""),n[u[f]]=[],e=u.slice(),e.splice(0,f+1),s=e.join("."),o=0,h=r.length;o<h;o++)e={},t(e,r[o],s),n[u[f]].push(e);return}o&&(u[f]=u[f].replace(ht,""),n=n[u[f]](r));(null===n[u[f]]||n[u[f]]===i)&&(n[u[f]]={});n=n[u[f]]}e.match(ht)?n[e.replace(ht,"")](r):n[e.replace(ii,"")]=r};return function(i,r){return t(i,r,n)}}return function(t,i){t[n]=i}}function sr(n){return b(n.aoData,"_aData")}function si(n){n.aoData.length=0;n.aiDisplayMaster.length=0;n.aiDisplay.length=0}function hi(n,t,r){for(var f=-1,u=0,e=n.length;u<e;u++)n[u]==t?f=u:n[u]>t&&n[u]--;-1!=f&&r===i&&n.splice(f,1)}function wt(n,t,r,u){var f=n.aoData[t],s,e=function(i,r){for(;i.childNodes.length;)i.removeChild(i.firstChild);i.innerHTML=a(n,t,r,"display")},o;if("dom"!==r&&(r&&"auto"!==r||"dom"!==f.src)){if(o=f.anCells,o)if(u!==i)e(o[u],u);else for(r=0,s=o.length;r<s;r++)e(o[r],r)}else f._aData=ci(n,f,u,u===i?i:f._aData).data;if(f._aSortData=null,f._aFilterData=null,e=n.aoColumns,u!==i)e[u].sType=null;else{for(r=0,s=e.length;r<s;r++)e[r].sType=null;cr(f)}}function ci(n,t,u,f){var s=[],e=t.firstChild,o,h=0,c,v=n.aoColumns,a=n._rowReadObject,f=f||a?{}:[],l=function(n,t){if("string"==typeof n){var i=n.indexOf("@");-1!==i&&(i=n.substring(i+1),ft(n)(f,t.getAttribute(i)))}},n=function(n){(u===i||u===h)&&(o=v[h],c=r.trim(n.innerHTML),o&&o._bAttrSrc?(ft(o.mData._)(f,c),l(o.mData.sort,n),l(o.mData.type,n),l(o.mData.filter,n)):a?(o._setter||(o._setter=ft(o.mData)),o._setter(f,c)):f[h]=c);h++};if(e)for(;e;)t=e.nodeName.toUpperCase(),("TD"==t||"TH"==t)&&(n(e),s.push(e)),e=e.nextSibling;else for(s=t.anCells,e=0,t=s.length;e<t;e++)n(s[e]);return{data:f,cells:s}}function hr(n,i,r,u){var s=n.aoData[i],l=s._aData,v=[],c,o,f,e,y;if(null===s.nTr){for(c=r||t.createElement("tr"),s.nTr=c,s.anCells=v,c._DT_RowIndex=i,cr(s),e=0,y=n.aoColumns.length;e<y;e++)f=n.aoColumns[e],o=r?u[e]:t.createElement(f.sCellType),v.push(o),(!r||f.mRender||f.mData!==e)&&(o.innerHTML=a(n,i,e,"display")),f.sClass&&(o.className+=" "+f.sClass),f.bVisible&&!r?c.appendChild(o):!f.bVisible&&r&&o.parentNode.removeChild(o),f.fnCreatedCell&&f.fnCreatedCell.call(n.oInstance,o,a(n,i,e),l,i,e);h(n,"aoRowCreatedCallback",null,[c,l,i])}s.nTr.setAttribute("role","row")}function cr(n){var i=n.nTr,t=n._aData,u;i&&(t.DT_RowId&&(i.id=t.DT_RowId),t.DT_RowClass&&(u=t.DT_RowClass.split(" "),n.__rowc=n.__rowc?ru(n.__rowc.concat(u)):u,r(i).removeClass(n.__rowc.join(" ")).addClass(t.DT_RowClass)),t.DT_RowAttr&&r(i).attr(t.DT_RowAttr),t.DT_RowData&&r(i).data(t.DT_RowData))}function bu(n){var i,e,u,c,t,f=n.nTHead,l=n.nTFoot,o=0===r("th, td",f).length,s=n.oClasses,h=n.aoColumns;for(o&&(c=r("<tr/>").appendTo(f)),i=0,e=h.length;i<e;i++)t=h[i],u=r(t.nTh).addClass(t.sClass),o&&u.appendTo(c),n.oFeatures.bSort&&(u.addClass(t.sSortingClass),!1!==t.bSortable&&(u.attr("tabindex",n.iTabIndex).attr("aria-controls",n.sTableId),wr(n,t.nTh,i))),t.sTitle!=u.html()&&u.html(t.sTitle),dr(n,"header")(n,u,t,s);if(o&&kt(n.aoHeader,f),r(f).find(">tr").attr("role","row"),r(f).find(">tr>th, >tr>td").addClass(s.sHeaderTH),r(l).find(">tr>th, >tr>td").addClass(s.sFooterTH),null!==l)for(n=n.aoFooter[0],i=0,e=n.length;i<e;i++)t=h[i],t.nTf=n[i].cell,t.sClass&&r(t.nTf).addClass(t.sClass)}function bt(n,t,u){var f,l,e,o=[],c=[],s=n.aoColumns.length,h;if(t){for(u===i&&(u=!1),f=0,l=t.length;f<l;f++){for(o[f]=t[f].slice(),o[f].nTr=t[f].nTr,e=s-1;0<=e;e--)n.aoColumns[e].bVisible||u||o[f].splice(e,1);c.push([])}for(f=0,l=o.length;f<l;f++){if(n=o[f].nTr)for(;e=n.firstChild;)n.removeChild(e);for(e=0,t=o[f].length;e<t;e++)if(h=s=1,c[f][e]===i){for(n.appendChild(o[f][e].cell),c[f][e]=1;o[f+s]!==i&&o[f][e].cell==o[f+s][e].cell;)c[f+s][e]=1,s++;for(;o[f][e+h]!==i&&o[f][e].cell==o[f][e+h].cell;){for(u=0;u<s;u++)c[f+u][e+h]=1;h++}r(o[f][e].cell).attr("rowspan",s).attr("colspan",h)}}}}function rt(n){var l=h(n,"aoPreDrawCallback","preDraw",[n]),t,v,e,o,p;if(-1!==r.inArray(!1,l))w(n,!1);else{var l=[],f=0,s=n.asStripeClasses,b=s.length,c=n.oLanguage,t=n.iInitDisplayStart,u="ssp"==y(n),a=n.aiDisplay;if(n.bDrawing=!0,t!==i&&-1!==t&&(n._iDisplayStart=u?t:t>=n.fnRecordsDisplay()?0:t,n.iInitDisplayStart=-1),t=n._iDisplayStart,v=n.fnDisplayEnd(),n.bDeferLoading)n.bDeferLoading=!1,n.iDraw++,w(n,!1);else if(u){if(!n.bDestroying&&!du(n))return}else n.iDraw++;if(0!==a.length)for(c=u?n.aoData.length:v,u=u?0:t;u<c;u++)e=a[u],o=n.aoData[e],null===o.nTr&&hr(n,e),e=o.nTr,0!==b&&(p=s[f%b],o._sRowStripe!=p&&(r(e).removeClass(o._sRowStripe).addClass(p),o._sRowStripe=p)),h(n,"aoRowCallback",null,[e,o._aData,f,u]),l.push(e),f++;else f=c.sZeroRecords,1==n.iDraw&&"ajax"==y(n)?f=c.sLoadingRecords:c.sEmptyTable&&0===n.fnRecordsTotal()&&(f=c.sEmptyTable),l[0]=r("<tr/>",{"class":b?s[0]:""}).append(r("<td />",{valign:"top",colSpan:vt(n),"class":n.oClasses.sRowEmpty}).html(f))[0];h(n,"aoHeaderCallback","header",[r(n.nTHead).children("tr")[0],sr(n),t,v,a]);h(n,"aoFooterCallback","footer",[r(n.nTFoot).children("tr")[0],sr(n),t,v,a]);s=r(n.nTBody);s.children().detach();s.append(r(l));h(n,"aoDrawCallback","draw",[n]);n.bSorted=!1;n.bFiltered=!1;n.bDrawing=!1}}function ut(n,t){var i=n.oFeatures,r=i.bFilter;i.bSort&&ne(n);r?dt(n,n.oPreviousSearch):n.aiDisplay=n.aiDisplayMaster.slice();!0!==t&&(n._iDisplayStart=0);n._drawHold=t;rt(n);n._drawHold=!1}function ku(n){var v=n.oClasses,y=r(n.nTable),y=r("<div/>").insertBefore(y),l=n.oFeatures,c=r("<div/>",{id:n.sTableId+"_wrapper","class":v.sWrapper+(n.nTFoot?"":" "+v.sNoFooter)}),a,e,i,t,o,f,s,h;for(n.nHolding=y[0],n.nTableWrapper=c[0],n.nTableReinsertBefore=n.nTable.nextSibling,a=n.sDom.split(""),h=0;h<a.length;h++){if(e=null,i=a[h],"<"==i){if(t=r("<div/>")[0],o=a[h+1],"'"==o||'"'==o){for(f="",s=2;a[h+s]!=o;)f+=a[h+s],s++;"H"==f?f=v.sJUIHeader:"F"==f&&(f=v.sJUIFooter);-1!=f.indexOf(".")?(o=f.split("."),t.id=o[0].substr(1,o[0].length-1),t.className=o[1]):"#"==f.charAt(0)?t.id=f.substr(1,f.length-1):t.className=f;h+=s}c.append(t);c=r(t)}else if(">"==i)c=c.parent();else if("l"==i&&l.bPaginate&&l.bLengthChange)e=af(n);else if("f"==i&&l.bFilter)e=tf(n);else if("r"==i&&l.bProcessing)e=yf(n);else if("t"==i)e=pf(n);else if("i"==i&&l.bInfo)e=hf(n);else if("p"==i&&l.bPaginate)e=vf(n);else if(0!==u.ext.feature.length)for(t=u.ext.feature,s=0,o=t.length;s<o;s++)if(i==t[s].cFeature){e=t[s].fnInit(n);break}e&&(t=n.aanFeatures,t[i]||(t[i]=[]),t[i].push(e),c.append(e))}y.replaceWith(c)}function kt(n,t){var c=r(t).children("tr"),l,u,i,f,s,h,a,e,o,v;for(n.splice(0,n.length),i=0,h=c.length;i<h;i++)n.push([]);for(i=0,h=c.length;i<h;i++)for(l=c[i],u=l.firstChild;u;){if("TD"==u.nodeName.toUpperCase()||"TH"==u.nodeName.toUpperCase()){for(e=1*u.getAttribute("colspan"),o=1*u.getAttribute("rowspan"),e=!e||0===e||1===e?1:e,o=!o||0===o||1===o?1:o,f=0,s=n[i];s[f];)f++;for(a=f,v=1===e?!0:!1,s=0;s<e;s++)for(f=0;f<o;f++)n[i+f][a+s]={cell:u,unique:v},n[i+f].nTr=l}u=u.nextSibling}}function li(n,t,i){var u=[],t,f,r,e;for(i||(i=n.aoHeader,t&&(i=[],kt(i,t))),t=0,f=i.length;t<f;t++)for(r=0,e=i[t].length;r<e;r++)!i[t][r].unique||u[r]&&n.bSortCellsTop||(u[r]=i[t][r].cell);return u}function ai(n,t,i){var e,c,o,u,s,f,t;h(n,"aoServerParams","serverParams",[t]);t&&r.isArray(t)&&(e={},c=/(.*?)\[\]$/,r.each(t,function(n,t){var i=t.name.match(c);i?(i=i[0],e[i]||(e[i]=[]),e[i].push(t.value)):e[t.name]=t.value}),t=e);u=n.ajax;s=n.oInstance;r.isPlainObject(u)&&u.data&&(o=u.data,f=r.isFunction(o)?o(t):o,t=r.isFunction(o)&&f?f:r.extend(!0,t,f),delete u.data);f={data:t,success:function(t){var r=t.error||t.sError;r&&n.oApi._fnLog(n,0,r);n.json=t;h(n,null,"xhr",[n,t]);i(t)},dataType:"json",cache:!1,type:n.sServerMethod,error:function(t,i){var r=n.oApi._fnLog;"parsererror"==i?r(n,0,"Invalid JSON response",1):4===t.readyState&&r(n,0,"Ajax error",7);w(n,!1)}};n.oAjaxData=t;h(n,null,"preXhr",[n,t]);n.fnServerData?n.fnServerData.call(s,n.sAjaxSource,r.map(t,function(n,t){return{name:t,value:n}}),i,n):n.sAjaxSource||"string"==typeof u?n.jqXHR=r.ajax(r.extend(f,{url:u||n.sAjaxSource})):r.isFunction(u)?n.jqXHR=u.call(s,t,i,n):(n.jqXHR=r.ajax(r.extend(f,u)),u.data=o)}function du(n){return n.bAjaxDataGet?(n.iDraw++,w(n,!0),ai(n,gu(n),function(t){nf(n,t)}),!1):!0}function gu(n){var e=n.aoColumns,v=e.length,s=n.oFeatures,l=n.oPreviousSearch,p=n.aoPreSearchCols,i,a=[],o,f,h,y=et(n),t,c;for(i=n._iDisplayStart,o=!1!==s.bPaginate?n._iDisplayLength:-1,t=function(n,t){a.push({name:n,value:t})},t("sEcho",n.iDraw),t("iColumns",v),t("sColumns",b(e,"sName").join(",")),t("iDisplayStart",i),t("iDisplayLength",o),c={draw:n.iDraw,columns:[],order:[],start:i,length:o,search:{value:l.sSearch,regex:l.bRegex}},i=0;i<v;i++)f=e[i],h=p[i],o="function"==typeof f.mData?"function":f.mData,c.columns.push({data:o,name:f.sName,searchable:f.bSearchable,orderable:f.bSortable,search:{value:h.sSearch,regex:h.bRegex}}),t("mDataProp_"+i,o),s.bFilter&&(t("sSearch_"+i,h.sSearch),t("bRegex_"+i,h.bRegex),t("bSearchable_"+i,f.bSearchable)),s.bSort&&t("bSortable_"+i,f.bSortable);return s.bFilter&&(t("sSearch",l.sSearch),t("bRegex",l.bRegex)),s.bSort&&(r.each(y,function(n,i){c.order.push({column:i.col,dir:i.dir});t("iSortCol_"+n,i.col);t("sSortDir_"+n,i.dir)}),t("iSortingCols",y.length)),e=u.ext.legacy.ajax,null===e?n.sAjaxSource?a:c:e?a:c}function nf(n,t){var r=t.sEcho!==i?t.sEcho:t.draw,u=t.iTotalRecords!==i?t.iTotalRecords:t.recordsTotal,f=t.iTotalDisplayRecords!==i?t.iTotalDisplayRecords:t.recordsFiltered;if(r){if(1*r<n.iDraw)return;n.iDraw=1*r}for(si(n),n._iRecordsTotal=parseInt(u,10),n._iRecordsDisplay=parseInt(f,10),r=vi(n,t),u=0,f=r.length;u<f;u++)it(n,r[u]);n.aiDisplay=n.aiDisplayMaster.slice();n.bAjaxDataGet=!1;rt(n);n._bInitComplete||pi(n,t);n.bAjaxDataGet=!0;w(n,!1)}function vi(n,t){var u=r.isPlainObject(n.ajax)&&n.ajax.dataSrc!==i?n.ajax.dataSrc:n.sAjaxDataProp;return"data"===u?t.aaData||t[u]:""!==u?pt(u)(t):t}function tf(n){var u=n.oClasses,s=n.sTableId,h=n.oLanguage,i=n.oPreviousSearch,o=n.aanFeatures,f='<input type="search" class="'+u.sFilterInput+'"/>',e=h.sSearch,e=e.match(/_INPUT_/)?e.replace("_INPUT_",f):e+f,u=r("<div/>",{id:o.f?null:s+"_filter","class":u.sFilter}).append(r("<label/>").append(e)),o=function(){var t=this.value?this.value:"";t!=i.sSearch&&(dt(n,{sSearch:t,bRegex:i.bRegex,bSmart:i.bSmart,bCaseInsensitive:i.bCaseInsensitive}),n._iDisplayStart=0,rt(n))},f=null!==n.searchDelay?n.searchDelay:"ssp"===y(n)?400:0,c=r("input",u).val(i.sSearch).attr("placeholder",h.sSearchPlaceholder).bind("keyup.DT search.DT input.DT paste.DT cut.DT",f?wi(o,f):o).bind("keypress.DT",function(n){if(13==n.keyCode)return!1}).attr("aria-controls",s);r(n.nTable).on("search.dt.DT",function(r,u){if(n===u)try{c[0]!==t.activeElement&&c.val(i.sSearch)}catch(f){}});return u[0]}function dt(n,t,r){var f=n.oPreviousSearch,u=n.aoPreSearchCols,e=function(n){f.sSearch=n.sSearch;f.bRegex=n.bRegex;f.bSmart=n.bSmart;f.bCaseInsensitive=n.bCaseInsensitive};if(fr(n),"ssp"!=y(n)){for(ff(n,t.sSearch,r,t.bEscapeRegex!==i?!t.bEscapeRegex:t.bRegex,t.bSmart,t.bCaseInsensitive),e(t),t=0;t<u.length;t++)uf(n,u[t].sSearch,t,u[t].bEscapeRegex!==i?!u[t].bEscapeRegex:u[t].bRegex,u[t].bSmart,u[t].bCaseInsensitive);rf(n)}else e(t);n.bFiltered=!0;h(n,null,"search",[n])}function rf(n){for(var o=u.ext.search,t=n.aiDisplay,f,i,e=0,h=o.length;e<h;e++){for(var s=[],r=0,c=t.length;r<c;r++)i=t[r],f=n.aoData[i],o[e](n,f._aFilterData,i,f._aData,r)&&s.push(i);t.length=0;t.push.apply(t,s)}}function uf(n,t,i,r,u,f){if(""!==t)for(var e=n.aiDisplay,r=lr(t,r,u,f),u=e.length-1;0<=u;u--)t=n.aoData[e[u]]._aFilterData[i],r.test(t)||e.splice(u,1)}function ff(n,t,i,r,f,e){var r=lr(t,r,f,e),f=n.oPreviousSearch.sSearch,e=n.aiDisplayMaster,o;if(0!==u.ext.search.length&&(i=!0),o=ef(n),0>=t.length)n.aiDisplay=e.slice();else for((o||i||f.length>t.length||0!==t.indexOf(f)||n.bSorted)&&(n.aiDisplay=e.slice()),t=n.aiDisplay,i=t.length-1;0<=i;i--)r.test(n.aoData[t[i]]._sFilterRow)||t.splice(i,1)}function lr(n,t,i,u){return n=t?n:yi(n),i&&(n="^(?=.*?"+r.map(n.match(/"[^"]+"|[^ ]+/g)||"",function(n){if('"'===n.charAt(0))var t=n.match(/^"(.*)"$/),n=t?t[1]:n;return n.replace('"',"")}).join(")(?=.*?")+").*$"),RegExp(n,u?"i":"")}function yi(n){return n.replace(be,"\\$1")}function ef(n){var s=n.aoColumns,i,r,f,h,c,e,t,o,l=u.ext.type.search;for(i=!1,r=0,h=n.aoData.length;r<h;r++)if(o=n.aoData[r],!o._aFilterData){for(e=[],f=0,c=s.length;f<c;f++)i=s[f],i.bSearchable?(t=a(n,r,f,"filter"),l[i.sType]&&(t=l[i.sType](t)),null===t&&(t=""),"string"!=typeof t&&t.toString&&(t=t.toString())):t="",t.indexOf&&-1!==t.indexOf("&")&&(nr.innerHTML=t,t=ke?nr.textContent:nr.innerText),t.replace&&(t=t.replace(/[\r\n]/g,"")),e.push(t);o._aFilterData=e;o._sFilterRow=e.join("  ");i=!0}return i}function of(n){return{search:n.sSearch,smart:n.bSmart,regex:n.bRegex,caseInsensitive:n.bCaseInsensitive}}function sf(n){return{sSearch:n.search,bSmart:n.smart,bRegex:n.regex,bCaseInsensitive:n.caseInsensitive}}function hf(n){var t=n.sTableId,i=n.aanFeatures.i,u=r("<div/>",{"class":n.oClasses.sInfo,id:i?null:t+"_info"});return i||(n.aoDrawCallback.push({fn:cf,sName:"information"}),u.attr("role","status").attr("aria-live","polite"),r(n.nTable).attr("aria-describedby",t+"_info")),u[0]}function cf(n){var f=n.aanFeatures.i;if(0!==f.length){var t=n.oLanguage,o=n._iDisplayStart+1,s=n.fnDisplayEnd(),e=n.fnRecordsTotal(),u=n.fnRecordsDisplay(),i=u?t.sInfo:t.sInfoEmpty;u!==e&&(i+=" "+t.sInfoFiltered);i+=t.sInfoPostFix;i=lf(n,i);t=t.fnInfoCallback;null!==t&&(i=t.call(n.oInstance,n,o,s,e,u,i));r(f).html(i)}}function lf(n,t){var i=n.fnFormatNumber,u=n._iDisplayStart+1,r=n._iDisplayLength,f=n.fnRecordsDisplay(),e=-1===r;return t.replace(/_START_/g,i.call(n,u)).replace(/_END_/g,i.call(n,n.fnDisplayEnd())).replace(/_MAX_/g,i.call(n,n.fnRecordsTotal())).replace(/_TOTAL_/g,i.call(n,f)).replace(/_PAGE_/g,i.call(n,e?1:Math.ceil(u/r))).replace(/_PAGES_/g,i.call(n,e?1:Math.ceil(f/r)))}function gt(n){var t,r,f=n.iInitDisplayStart,i=n.aoColumns,u;if(r=n.oFeatures,n.bInitialised){for(ku(n),bu(n),bt(n,n.aoHeader),bt(n,n.aoFooter),w(n,!0),r.bAutoWidth&&yr(n),t=0,r=i.length;t<r;t++)u=i[t],u.sWidth&&(u.nTh.style.width=e(u.sWidth));ut(n);i=y(n);"ssp"!=i&&("ajax"==i?ai(n,[],function(i){var r=vi(n,i);for(t=0;t<r.length;t++)it(n,r[t]);n.iInitDisplayStart=f;ut(n);w(n,!1);pi(n,i)},n):(w(n,!1),pi(n)))}else setTimeout(function(){gt(n)},200)}function pi(n,t){n._bInitComplete=!0;t&&lt(n);h(n,"aoInitComplete","init",[n,t])}function ar(n,t){var i=parseInt(t,10);n._iDisplayLength=i;kr(n);h(n,null,"length",[n,i])}function af(n){for(var i,o=n.oClasses,e=n.sTableId,t=n.aLengthMenu,f=r.isArray(t[0]),s=f?t[0]:t,t=f?t[1]:t,f=r("<select/>",{name:e+"_length","aria-controls":e,"class":o.sLengthSelect}),u=0,h=s.length;u<h;u++)f[0][u]=new Option(t[u],s[u]);return i=r("<div><label/><\/div>").addClass(o.sLength),n.aanFeatures.l||(i[0].id=e+"_length"),i.children().append(n.oLanguage.sLengthMenu.replace("_MENU_",f[0].outerHTML)),r("select",i).val(n._iDisplayLength).bind("change.DT",function(){ar(n,r(this).val());rt(n)}),r(n.nTable).bind("length.dt.DT",function(t,u,f){n===u&&r("select",i).val(f)}),i[0]}function vf(n){var t=n.sPaginationType,i=u.ext.pager[t],e="function"==typeof i,o=function(n){rt(n)},t=r("<div/>").addClass(n.oClasses.sPaging+t)[0],f=n.aanFeatures;return e||i.fnInit(n,t,o),f.p||(t.id=n.sTableId+"_paginate",n.aoDrawCallback.push({fn:function(n){if(e)for(var u=n._iDisplayStart,r=n._iDisplayLength,s=n.fnRecordsDisplay(),t=-1===r,u=t?0:Math.ceil(u/r),r=t?1:Math.ceil(s/r),s=i(u,r),t=0,h=f.p.length;t<h;t++)dr(n,"pageButton")(n,f.p[t],t,s,u,r);else i.fnUpdate(n,o)},sName:"pagination"})),t}function vr(n,t,i){var r=n._iDisplayStart,u=n._iDisplayLength,f=n.fnRecordsDisplay();return 0===f||-1===u?r=0:"number"==typeof t?(r=t*u,r>f&&(r=0)):"first"==t?r=0:"previous"==t?(r=0<=u?r-u:0,0>r&&(r=0)):"next"==t?r+u<f&&(r+=u):"last"==t?r=Math.floor((f-1)/u)*u:ot(n,0,"Unknown paging action: "+t,5),t=n._iDisplayStart!==r,n._iDisplayStart=r,t&&(h(n,null,"page",[n]),i&&rt(n)),t}function yf(n){return r("<div/>",{id:n.aanFeatures.r?null:n.sTableId+"_processing","class":n.oClasses.sProcessing}).html(n.oLanguage.sProcessing).insertBefore(n.nTable)[0]}function w(n,t){n.oFeatures.bProcessing&&r(n.aanFeatures.r).css("display",t?"block":"none");h(n,null,"processing",[n,t])}function pf(n){var t=r(n.nTable),i;if(t.attr("role","grid"),i=n.oScroll,""===i.sX&&""===i.sY)return n.nTable;var u=i.sX,h=i.sY,f=n.oClasses,s=t.children("caption"),c=s.length?s[0]._captionSide:null,v=r(t[0].cloneNode(!1)),y=r(t[0].cloneNode(!1)),o=t.children("tfoot");i.sX&&"100%"===t.attr("width")&&t.removeAttr("width");o.length||(o=null);i=r("<div/>",{"class":f.sScrollWrapper}).append(r("<div/>",{"class":f.sScrollHead}).css({overflow:"hidden",position:"relative",border:0,width:u?u?e(u):null:"100%"}).append(r("<div/>",{"class":f.sScrollHeadInner}).css({"box-sizing":"content-box",width:i.sXInner||"100%"}).append(v.removeAttr("id").css("margin-left",0).append("top"===c?s:null).append(t.children("thead"))))).append(r("<div/>",{"class":f.sScrollBody}).css({overflow:"auto",height:h?e(h):null,width:u?e(u):null}).append(t));o&&i.append(r("<div/>",{"class":f.sScrollFoot}).css({overflow:"hidden",border:0,width:u?u?e(u):null:"100%"}).append(r("<div/>",{"class":f.sScrollFootInner}).append(y.removeAttr("id").css("margin-left",0).append("bottom"===c?s:null).append(t.children("tfoot")))));var t=i.children(),l=t[0],f=t[1],a=o?t[2]:null;if(u)r(f).on("scroll.DT",function(){var n=this.scrollLeft;l.scrollLeft=n;o&&(a.scrollLeft=n)});return n.nScrollHead=l,n.nScrollBody=f,n.nScrollFoot=a,n.aoDrawCallback.push({fn:ni,sName:"scrolling"}),i[0]}function ni(n){var t=n.oScroll,b=t.sX,tt=t.sXInner,k=t.sY,o=t.iBarWidth,i=r(n.nScrollHead),vt=i[0].style,u=i.children("div"),st=u[0].style,d=u.children("table"),u=n.nScrollBody,s=r(u),v=u.style,it=r(n.nScrollFoot).children("div"),yt=it.children("table"),rt=r(n.nTHead),f=r(n.nTable),y=f[0],a=y.style,h=n.nTFoot?r(n.nTFoot):null,p=n.oBrowser,ut=p.bScrollOversize,ht,c,w,l,nt,ft=[],et=[],ct=[],lt,at=function(n){n=n.style;n.paddingTop="0";n.paddingBottom="0";n.borderTopWidth="0";n.borderBottomWidth="0";n.height=0};f.children("thead, tfoot").remove();nt=rt.clone().prependTo(f);ht=rt.find("tr");w=nt.find("tr");nt.find("th, td").removeAttr("tabindex");h&&(l=h.clone().prependTo(f),c=h.find("tr"),l=l.find("tr"));b||(v.width="100%",i[0].style.width="100%");r.each(li(n,nt),function(t,i){lt=ei(n,t);i.style.width=n.aoColumns[lt].sWidth});h&&g(function(n){n.style.width=""},l);t.bCollapse&&""!==k&&(v.height=s[0].offsetHeight+rt[0].offsetHeight+"px");i=f.outerWidth();""===b?(a.width="100%",ut&&(f.find("tbody").height()>u.offsetHeight||"scroll"==s.css("overflow-y")))&&(a.width=e(f.outerWidth()-o)):""!==tt?a.width=e(tt):i==s.width()&&s.height()<f.height()?(a.width=e(i-o),f.outerWidth()>i-o&&(a.width=e(i))):a.width=e(i);i=f.outerWidth();g(at,w);g(function(n){ct.push(n.innerHTML);ft.push(e(r(n).css("width")))},w);g(function(n,t){n.style.width=ft[t]},ht);r(w).height(0);h&&(g(at,l),g(function(n){et.push(e(r(n).css("width")))},l),g(function(n,t){n.style.width=et[t]},c),r(l).height(0));g(function(n,t){n.innerHTML='<div class="dataTables_sizing" style="height:0;overflow:hidden;">'+ct[t]+"<\/div>";n.style.width=ft[t]},w);h&&g(function(n,t){n.innerHTML="";n.style.width=et[t]},l);f.outerWidth()<i?(c=u.scrollHeight>u.offsetHeight||"scroll"==s.css("overflow-y")?i+o:i,ut&&(u.scrollHeight>u.offsetHeight||"scroll"==s.css("overflow-y"))&&(a.width=e(c-o)),(""===b||""!==tt)&&ot(n,1,"Possible column misalignment",6)):c="100%";v.width=e(c);vt.width=e(c);h&&(n.nScrollFoot.style.width=e(c));!k&&ut&&(v.height=e(y.offsetHeight+o));k&&t.bCollapse&&(v.height=e(k),t=b&&y.offsetWidth>u.offsetWidth?o:0,y.offsetHeight<u.offsetHeight&&(v.height=e(y.offsetHeight+t)));t=f.outerWidth();d[0].style.width=e(t);st.width=e(t);d=f.height()>u.clientHeight||"scroll"==s.css("overflow-y");p="padding"+(p.bScrollbarLeft?"Left":"Right");st[p]=d?o+"px":"0px";h&&(yt[0].style.width=e(t),it[0].style.width=e(t),it[0].style[p]=d?o+"px":"0px");s.scroll();(n.bSorted||n.bFiltered)&&!n._drawHold&&(u.scrollTop=0)}function g(n,t,i){for(var e=0,u=0,o=t.length,r,f;u<o;){for(r=t[u].firstChild,f=i?i[u].firstChild:null;r;)1===r.nodeType&&(i?n(r,f,e):n(r,e),e++),r=r.nextSibling,f=i?f.nextSibling:null;u++}}function yr(t){for(var s=t.nTable,h=t.aoColumns,o=t.oScroll,c=o.sY,v=o.sX,a=o.sXInner,u=h.length,o=yt(t,"bVisible"),l=r("th",t.nTHead),y=s.style.width||s.getAttribute("width"),p=s.parentNode,w=!1,f,b,i=0;i<o.length;i++)f=h[o[i]],null!==f.sWidth&&(f.sWidth=wf(f.sWidthOrig,p),w=!0);if(w||v||c||u!=vt(t)||u!=l.length){for(u=r(s).clone().empty().css("visibility","hidden").removeAttr("id").append(r(t.nTHead).clone(!1)).append(r(t.nTFoot).clone(!1)).append(r("<tbody><tr/><\/tbody>")),u.find("tfoot th, tfoot td").css("width",""),b=u.find("tbody tr"),l=li(t,u.find("thead")[0]),i=0;i<o.length;i++)f=h[o[i]],l[i].style.width=null!==f.sWidthOrig&&""!==f.sWidthOrig?e(f.sWidthOrig):"";if(t.aoData.length)for(i=0;i<o.length;i++)w=o[i],f=h[w],r(kf(t,w)).clone(!1).append(f.sContentPadding).appendTo(b);if(u.appendTo(p),v&&a?u.width(a):v?(u.css("width","auto"),u.width()<p.offsetWidth&&u.width(p.offsetWidth)):c?u.width(p.offsetWidth):y&&u.width(y),bf(t,u[0]),v){for(i=a=0;i<o.length;i++)f=h[o[i]],c=r(l[i]).outerWidth(),a+=null===f.sWidthOrig?c:parseInt(f.sWidth,10)+c-r(l[i]).width();u.width(e(a));s.style.width=e(a)}for(i=0;i<o.length;i++)(f=h[o[i]],c=r(l[i]).width())&&(f.sWidth=e(c));s.style.width=e(u.css("width"));u.remove()}else for(i=0;i<u;i++)h[i].sWidth=e(l.eq(i).width());y&&(s.style.width=e(y));(y||v)&&!t._reszEvt&&(r(n).bind("resize.DT-"+t.sInstance,wi(function(){lt(t)})),t._reszEvt=!0)}function wi(n,t){var u=t!==i?t:200,r,f;return function(){var t=this,e=+new Date,o=arguments;r&&e<r+u?(clearTimeout(f),f=setTimeout(function(){r=i;n.apply(t,o)},u)):(r=e,n.apply(t,o))}}function wf(n,i){if(!n)return 0;var u=r("<div/>").css("width",e(n)).appendTo(i||t.body),f=u[0].offsetWidth;return u.remove(),f}function bf(n,t){var i=n.oScroll;(i.sX||i.sY)&&(i=i.sX?0:i.iBarWidth,t.style.width=e(r(t).outerWidth()-i))}function kf(n,t){var i=df(n,t),u;return 0>i?null:(u=n.aoData[i],u.nTr?u.anCells[t]:r("<td/>").html(a(n,i,t,"display"))[0])}function df(n,t){for(var i,u=-1,f=-1,r=0,e=n.aoData.length;r<e;r++)i=a(n,r,t,"display")+"",i=i.replace(de,""),i.length>u&&(u=i.length,f=r);return f}function e(n){return null===n?"0px":"number"==typeof n?0>n?"0px":n+"px":n.match(/\d$/)?n+"px":n}function gf(){if(!u.__scrollbarWidth){var n=r("<p/>").css({width:"100%",height:200,padding:0})[0],t=r("<div/>").css({position:"absolute",top:0,left:0,width:200,height:150,padding:0,overflow:"hidden",visibility:"hidden"}).append(n).appendTo("body"),i=n.offsetWidth;t.css("overflow","scroll");n=n.offsetWidth;i===n&&(n=t[0].clientWidth);t.remove();u.__scrollbarWidth=i-n}return u.__scrollbarWidth}function et(n){var t,o,a=[],h=n.aoColumns,e,s,c,l,f;for(t=n.aaSortingFixed,o=r.isPlainObject(t),f=[],e=function(n){n.length&&!r.isArray(n[0])?f.push(n):f.push.apply(f,n)},r.isArray(t)&&e(t),o&&t.pre&&e(t.pre),e(n.aaSorting),o&&t.post&&e(t.post),n=0;n<f.length;n++)for(l=f[n][0],e=h[l].aDataSort,t=0,o=e.length;t<o;t++)s=e[t],c=h[s].sType||"string",f[n]._idx===i&&(f[n]._idx=r.inArray(f[n][1],h[s].asSorting)),a.push({src:l,col:s,dir:f[n][1],index:f[n]._idx,type:c,formatter:u.ext.type.order[c+"-pre"]});return a}function ne(n){var t,f,r=[],h=u.ext.type.order,e=n.aoData,c=0,s,o=n.aiDisplayMaster,i;for(fr(n),i=et(n),t=0,f=i.length;t<f;t++)s=i[t],s.formatter&&c++,ie(n,s.col);if("ssp"!=y(n)&&0!==i.length){for(t=0,f=o.length;t<f;t++)r[o[t]]=t;c===i.length?o.sort(function(n,t){for(var u,f,s,h=i.length,c=e[n]._aSortData,l=e[t]._aSortData,o=0;o<h;o++)if(s=i[o],u=c[s.col],f=l[s.col],u=u<f?-1:u>f?1:0,0!==u)return"asc"===s.dir?u:-u;return u=r[n],f=r[t],u<f?-1:u>f?1:0}):o.sort(function(n,t){for(var u,o,f,c=i.length,l=e[n]._aSortData,a=e[t]._aSortData,s=0;s<c;s++)if(f=i[s],u=l[f.col],o=a[f.col],f=h[f.type+"-"+f.dir]||h["string-"+f.dir],u=f(u,o),0!==u)return u;return u=r[n],o=r[t],u<o?-1:u>o?1:0})}n.bSorted=!0}function te(n){for(var u,f,e,t,o=n.aoColumns,i=et(n),n=n.oLanguage.oAria,r=0,s=o.length;r<s;r++)t=o[r],u=t.asSorting,e=t.sTitle.replace(/<.*?>/g,""),f=t.nTh,f.removeAttribute("aria-sort"),t.bSortable&&(0<i.length&&i[0].col==r?(f.setAttribute("aria-sort","asc"==i[0].dir?"ascending":"descending"),t=u[i[0].index+1]||u[0]):t=u[0],e+="asc"===t?n.sSortAscending:n.sSortDescending),f.setAttribute("aria-label",e)}function pr(n,t,u,f){var e=n.aaSorting,o=n.aoColumns[t].asSorting,s=function(n,t){var u=n._idx;return u===i&&(u=r.inArray(n[1],o)),u+1<o.length?u+1:t?null:0};"number"==typeof e[0]&&(e=n.aaSorting=[e]);u&&n.oFeatures.bSortMulti?(u=r.inArray(t,b(e,"0")),-1!==u?(t=s(e[u],!0),null===t?e.splice(u,1):(e[u][1]=o[t],e[u]._idx=t)):(e.push([t,o[0],0]),e[e.length-1]._idx=0)):e.length&&e[0][0]==t?(t=s(e[0]),e.length=1,e[0][1]=o[t],e[0]._idx=t):(e.length=0,e.push([t,o[0]]),e[0]._idx=0);ut(n);"function"==typeof f&&f(n)}function wr(n,t,i,r){var u=n.aoColumns[i];br(t,{},function(t){!1!==u.bSortable&&(n.oFeatures.bProcessing?(w(n,!0),setTimeout(function(){pr(n,i,t.shiftKey,r);"ssp"!==y(n)&&w(n,!1)},0)):pr(n,i,t.shiftKey,r))})}function bi(n){var e=n.aLastSort,o=n.oClasses.sSortColumn,f=et(n),t=n.oFeatures,i,u;if(t.bSort&&t.bSortClasses){for(t=0,i=e.length;t<i;t++)u=e[t].src,r(b(n.aoData,"anCells",u)).removeClass(o+(2>t?t+1:3));for(t=0,i=f.length;t<i;t++)u=f[t].src,r(b(n.aoData,"anCells",u)).addClass(o+(2>t?t+1:3))}n.aLastSort=f}function ie(n,t){var i=n.aoColumns[t],f=u.ext.order[i.sSortDataType],o;f&&(o=f.call(n.oInstance,n,t,at(n,t)));for(var e,s=u.ext.type.order[i.sType+"-pre"],r=0,h=n.aoData.length;r<h;r++)(i=n.aoData[r],i._aSortData||(i._aSortData=[]),!i._aSortData[t]||f)&&(e=f?o[r]:a(n,r,t,"sort"),i._aSortData[t]=s?s(e):e)}function ki(n){if(n.oFeatures.bStateSave&&!n.bDestroying){var t={time:+new Date,start:n._iDisplayStart,length:n._iDisplayLength,order:r.extend(!0,[],n.aaSorting),search:of(n.oPreviousSearch),columns:r.map(n.aoColumns,function(t,i){return{visible:t.bVisible,search:of(n.aoPreSearchCols[i])}})};h(n,"aoStateSaveParams","stateSaveParams",[n,t]);n.oSavedState=t;n.fnStateSaveCallback.call(n.oInstance,n,t)}}function re(n){var i,e,u=n.aoColumns,t,f;if(n.oFeatures.bStateSave&&(t=n.fnStateLoadCallback.call(n.oInstance,n),t&&t.time&&(i=h(n,"aoStateLoadParams","stateLoadParams",[n,t]),-1===r.inArray(!1,i)&&(i=n.iStateDuration,!(0<i&&t.time<+new Date-1e3*i)&&u.length===t.columns.length)))){for(n.oLoadedState=r.extend(!0,{},t),n._iDisplayStart=t.start,n.iInitDisplayStart=t.start,n._iDisplayLength=t.length,n.aaSorting=[],r.each(t.order,function(t,i){n.aaSorting.push(i[0]>=u.length?[0,i[1]]:i)}),r.extend(n.oPreviousSearch,sf(t.search)),i=0,e=t.columns.length;i<e;i++)f=t.columns[i],u[i].bVisible=f.visible,r.extend(n.aoPreSearchCols[i],sf(f.search));h(n,"aoStateLoaded","stateLoaded",[n,t])}}function di(n){var t=u.settings,n=r.inArray(n,b(t,"nTable"));return-1!==n?t[n]:null}function ot(t,i,r,f){if(r="DataTables warning: "+(null!==t?"table id="+t.sTableId+" - ":"")+r,f&&(r+=". For more information about this error, please see http://datatables.net/tn/"+f),i)n.console&&console.log&&console.log(r);else if(i=u.ext,i=i.sErrMode||i.errMode,h(t,null,"error",[t,f,r]),"alert"==i)alert(r);else{if("throw"==i)throw Error(r);"function"==typeof i&&i(t,f,r)}}function k(n,t,u,f){r.isArray(u)?r.each(u,function(i,u){r.isArray(u)?k(n,t,u[0],u[1]):k(n,t,u)}):(f===i&&(f=u),t[u]!==i&&(n[f]=t[u]))}function ue(n,t,i){var f;for(var u in t)t.hasOwnProperty(u)&&(f=t[u],r.isPlainObject(f)?(r.isPlainObject(n[u])||(n[u]={}),r.extend(!0,n[u],f)):n[u]=i&&"data"!==u&&"aaData"!==u&&r.isArray(f)?f.slice():f);return n}function br(n,t,i){r(n).bind("click.DT",t,function(t){n.blur();i(t)}).bind("keypress.DT",t,function(n){13===n.which&&(n.preventDefault(),i(n))}).bind("selectstart.DT",function(){return!1})}function v(n,t,i,r){i&&n[t].push({fn:i,sName:r})}function h(n,t,i,u){var f=[];return t&&(f=r.map(n[t].slice().reverse(),function(t){return t.fn.apply(n.oInstance,u)})),null!==i&&r(n.nTable).trigger(i+".dt",u),f}function kr(n){var t=n._iDisplayStart,r=n.fnDisplayEnd(),i=n._iDisplayLength;t>=r&&(t=r-i);t-=t%i;(-1===i||0>t)&&(t=0);n._iDisplayStart=t}function dr(n,t){var i=n.renderer,f=u.ext.renderer[t];return r.isPlainObject(i)&&i[t]?f[i[t]]||f._:"string"==typeof i?f[i]||f._:f._}function y(n){return n.oFeatures.bServerSide?"ssp":n.ajax||n.sAjaxSource?"ajax":"dom"}function gr(n,t){var i=[],i=lu.numbers_length,r=Math.floor(i/2);return t<=i?i=st(0,t):n<=r?(i=st(0,i-2),i.push("ellipsis"),i.push(t-1)):(n>=t-1-r?i=st(t-(i-2),t):(i=st(n-1,n+2),i.push("ellipsis"),i.push(t-1)),i.splice(0,0,"ellipsis"),i.splice(0,0,0)),i.DT_el="span",i}function fe(n){r.each({num:function(t){return ui(t,n)},"num-fmt":function(t){return ui(t,n,tu)},"html-num":function(t){return ui(t,n,gi)},"html-num-fmt":function(t){return ui(t,n,gi,tu)}},function(t,i){c.type.order[t+n+"-pre"]=i;t.match(/^html\-/)&&(c.type.search[t+n]=c.type.search.html)})}function ee(n){return function(){var t=[di(this[u.ext.iApiIndex])].concat(Array.prototype.slice.call(arguments));return u.ext.internal[n].apply(this,t)}}var u,c,o,f,s,nu={},oe=/[\r\n]/g,gi=/<.*?>/g,pe=/^[\w\+\-]/,we=/[\w\+\-]$/,be=RegExp("(\\/|\\.|\\*|\\+|\\?|\\||\\(|\\)|\\[|\\]|\\{|\\}|\\\\|\\$|\\^|\\-)","g"),tu=/[',$\u00a3\u20ac\u00a5%\u2009\u202F]/g,tt=function(n){return!n||!0===n||"-"===n?!0:!1},se=function(n){var t=parseInt(n,10);return!isNaN(t)&&isFinite(n)?t:null},he=function(n,t){return nu[t]||(nu[t]=RegExp(yi(t),"g")),"string"==typeof n&&"."!==t?n.replace(/\./g,"").replace(nu[t],"."):n},iu=function(n,t,i){var r="string"==typeof n;return t&&r&&(n=he(n,t)),i&&r&&(n=n.replace(tu,"")),tt(n)||!isNaN(parseFloat(n))&&isFinite(n)},ce=function(n,t,i){return tt(n)?!0:(tt(n)||"string"==typeof n)?iu(n.replace(gi,""),t,i)?!0:null:null},b=function(n,t,r){var f=[],u=0,e=n.length;if(r!==i)for(;u<e;u++)n[u]&&n[u][t]&&f.push(n[u][t][r]);else for(;u<e;u++)n[u]&&f.push(n[u][t]);return f},ti=function(n,t,r,u){var e=[],f=0,o=t.length;if(u!==i)for(;f<o;f++)n[t[f]][r]&&e.push(n[t[f]][r][u]);else for(;f<o;f++)e.push(n[t[f]][r]);return e},st=function(n,t){var f=[],u,r;for(t===i?(t=0,u=n):(u=t,t=n),r=t;r<u;r++)f.push(r);return f},le=function(n){for(var i=[],t=0,r=n.length;t<r;t++)n[t]&&i.push(n[t]);return i},ru=function(n){var r=[],u,t,e=n.length,i,f=0;t=0;n:for(;t<e;t++){for(u=n[t],i=0;i<f;i++)if(r[i]===u)continue n;r.push(u);f++}return r},p=function(n,t,r){n[t]!==i&&(n[r]=n[t])},ii=/\[.*?\]$/,ht=/\(\)$/,nr=r("<div>")[0],ke=nr.textContent!==i,de=/<.*?>/g,uu,ir,su,ve,hu,lu,ui;u=function(n){var f;this.$=function(n,t){return this.api(!0).$(n,t)};this._=function(n,t){return this.api(!0).rows(n,t).data()};this.api=function(n){return n?new o(di(this[c.iApiIndex])):new o(this)};this.fnAddData=function(n,t){var u=this.api(!0),f=r.isArray(n)&&(r.isArray(n[0])||r.isPlainObject(n[0]))?u.rows.add(n):u.row.add(n);return(t===i||t)&&u.draw(),f.flatten().toArray()};this.fnAdjustColumnSizing=function(n){var t=this.api(!0).columns.adjust(),r=t.settings()[0],u=r.oScroll;n===i||n?t.draw(!1):(""!==u.sX||""!==u.sY)&&ni(r)};this.fnClearTable=function(n){var t=this.api(!0).clear();(n===i||n)&&t.draw()};this.fnClose=function(n){this.api(!0).row(n).child.hide()};this.fnDeleteRow=function(n,t,r){var u=this.api(!0),n=u.rows(n),f=n.settings()[0],e=f.aoData[n[0][0]];return n.remove(),t&&t.call(this,f,e),(r===i||r)&&u.draw(),e};this.fnDestroy=function(n){this.api(!0).destroy(n)};this.fnDraw=function(n){this.api(!0).draw(!n)};this.fnFilter=function(n,t,r,u,f,e){f=this.api(!0);null===t||t===i?f.search(n,r,u,e):f.column(t).search(n,r,u,e);f.draw()};this.fnGetData=function(n,t){var r=this.api(!0),u;return n!==i?(u=n.nodeName?n.nodeName.toLowerCase():"",t!==i||"td"==u||"th"==u?r.cell(n,t).data():r.row(n).data()||null):r.data().toArray()};this.fnGetNodes=function(n){var t=this.api(!0);return n!==i?t.row(n).node():t.rows().nodes().flatten().toArray()};this.fnGetPosition=function(n){var i=this.api(!0),t=n.nodeName.toUpperCase();return"TR"==t?i.row(n).index():"TD"==t||"TH"==t?(n=i.cell(n).index(),[n.row,n.columnVisible,n.column]):null};this.fnIsOpen=function(n){return this.api(!0).row(n).child.isShown()};this.fnOpen=function(n,t,i){return this.api(!0).row(n).child(t,i).show().child()[0]};this.fnPageChange=function(n,t){var r=this.api(!0).page(n);(t===i||t)&&r.draw(!1)};this.fnSetColumnVis=function(n,t,r){n=this.api(!0).column(n).visible(t);(r===i||r)&&n.columns.adjust().draw()};this.fnSettings=function(){return di(this[c.iApiIndex])};this.fnSort=function(n){this.api(!0).order(n).draw()};this.fnSortListener=function(n,t,i){this.api(!0).order.listener(n,t,i)};this.fnUpdate=function(n,t,r,u,f){var e=this.api(!0);return r===i||null===r?e.row(t).data(n):e.cell(t,r).data(n),(f===i||f)&&e.columns.adjust(),(u===i||u)&&e.draw(),0};this.fnVersionCheck=c.fnVersionCheck;var t=this,e=n===i,s=this.length;e&&(n={});this.oApi=this.internal=c.internal;for(f in u.ext.internal)f&&(this[f]=ee(f));return this.each(function(){var o={},o=1<s?ue(o,n,!0):n,c=0,l,b=this.getAttribute("id"),ft=!1,p=u.defaults,d=r(this),w,a,f,g,rt,tt,ut;if("table"!=this.nodeName.toLowerCase())ot(null,0,"Non-table node initialisation ("+this.nodeName+")",2);else{for(au(p),vu(p.column),nt(p,p,!0),nt(p.column,p.column,!0),nt(p,r.extend(o,d.data())),w=u.settings,c=0,l=w.length;c<l;c++){if(a=w[c],a.nTable==this||a.nTHead.parentNode==this||a.nTFoot&&a.nTFoot.parentNode==this){if(c=o.bRetrieve!==i?o.bRetrieve:p.bRetrieve,e||c)return a.oInstance;if(o.bDestroy!==i?o.bDestroy:p.bDestroy){a.oInstance.fnDestroy();break}else{ot(a,0,"Cannot reinitialise DataTable",3);return}}if(a.sTableId==this.id){w.splice(c,1);break}}if((null===b||""===b)&&(this.id=b="DataTables_Table_"+u.ext._unique++),f=r.extend(!0,{},u.models.oSettings,{nTable:this,oApi:t.internal,oInit:o,sDestroyWidth:d[0].style.width,sInstance:b,sTableId:b}),w.push(f),f.oInstance=1===t.length?t:d.dataTable(),au(o),o.oLanguage&&rr(o.oLanguage),o.aLengthMenu&&!o.iDisplayLength&&(o.iDisplayLength=r.isArray(o.aLengthMenu[0])?o.aLengthMenu[0][0]:o.aLengthMenu[0]),o=ue(r.extend(!0,{},p),o),k(f.oFeatures,o,"bPaginate bLengthChange bFilter bSort bSortMulti bInfo bProcessing bAutoWidth bSortClasses bServerSide bDeferRender".split(" ")),k(f,o,["asStripeClasses","ajax","fnServerData","fnFormatNumber","sServerMethod","aaSorting","aaSortingFixed","aLengthMenu","sPaginationType","sAjaxSource","sAjaxDataProp","iStateDuration","sDom","bSortCellsTop","iTabIndex","fnStateLoadCallback","fnStateSaveCallback","renderer","searchDelay",["iCookieDuration","iStateDuration"],["oSearch","oPreviousSearch"],["aoSearchCols","aoPreSearchCols"],["iDisplayLength","_iDisplayLength"],["bJQueryUI","bJUI"]]),k(f.oScroll,o,[["sScrollX","sX"],["sScrollXInner","sXInner"],["sScrollY","sY"],["bScrollCollapse","bCollapse"]]),k(f.oLanguage,o,"fnInfoCallback"),v(f,"aoDrawCallback",o.fnDrawCallback,"user"),v(f,"aoServerParams",o.fnServerParams,"user"),v(f,"aoStateSaveParams",o.fnStateSaveParams,"user"),v(f,"aoStateLoadParams",o.fnStateLoadParams,"user"),v(f,"aoStateLoaded",o.fnStateLoaded,"user"),v(f,"aoRowCallback",o.fnRowCallback,"user"),v(f,"aoRowCreatedCallback",o.fnCreatedRow,"user"),v(f,"aoHeaderCallback",o.fnHeaderCallback,"user"),v(f,"aoFooterCallback",o.fnFooterCallback,"user"),v(f,"aoInitComplete",o.fnInitComplete,"user"),v(f,"aoPreDrawCallback",o.fnPreDrawCallback,"user"),b=f.oClasses,o.bJQueryUI?(r.extend(b,u.ext.oJUIClasses,o.oClasses),o.sDom===p.sDom&&"lfrtip"===p.sDom&&(f.sDom='<"H"lfr>t<"F"ip>'),f.renderer)?r.isPlainObject(f.renderer)&&!f.renderer.header&&(f.renderer.header="jqueryui"):f.renderer="jqueryui":r.extend(b,u.ext.classes,o.oClasses),d.addClass(b.sTable),(""!==f.oScroll.sX||""!==f.oScroll.sY)&&(f.oScroll.iBarWidth=gf()),!0===f.oScroll.sX&&(f.oScroll.sX="100%"),f.iInitDisplayStart===i&&(f.iInitDisplayStart=o.iDisplayStart,f._iDisplayStart=o.iDisplayStart),null!==o.iDeferLoading&&(f.bDeferLoading=!0,c=r.isArray(o.iDeferLoading),f._iRecordsDisplay=c?o.iDeferLoading[0]:o.iDeferLoading,f._iRecordsTotal=c?o.iDeferLoading[1]:o.iDeferLoading),g=f.oLanguage,r.extend(!0,g,o.oLanguage),""!==g.sUrl&&(r.ajax({dataType:"json",url:g.sUrl,success:function(n){rr(n);nt(p.oLanguage,n);r.extend(!0,g,n);gt(f)},error:function(){gt(f)}}),ft=!0),null===o.asStripeClasses&&(f.asStripeClasses=[b.sStripeOdd,b.sStripeEven]),c=f.asStripeClasses,rt=r("tbody tr",this).eq(0),-1!==r.inArray(!0,r.map(c,function(n){return rt.hasClass(n)}))&&(r("tbody tr",this).removeClass(c.join(" ")),f.asDestroyStripes=c.slice()),w=[],c=this.getElementsByTagName("thead"),0!==c.length&&(kt(f.aoHeader,c[0]),w=li(f)),null===o.aoColumns)for(a=[],c=0,l=w.length;c<l;c++)a.push(null);else a=o.aoColumns;for(c=0,l=a.length;c<l;c++)ur(f,w?w[c]:null);if(wu(f,o.aoColumnDefs,a,function(n,t){fi(f,n,t)}),rt.length&&(tt=function(n,t){return n.getAttribute("data-"+t)!==null?t:null},r.each(ci(f,rt[0]).cells,function(n,t){var e=f.aoColumns[n],r,u;e.mData===n&&(r=tt(t,"sort")||tt(t,"order"),u=tt(t,"filter")||tt(t,"search"),(r!==null||u!==null)&&(e.mData={_:n+".display",sort:r!==null?n+".@data-"+r:i,type:r!==null?n+".@data-"+r:i,filter:u!==null?n+".@data-"+u:i},fi(f,n)))})),ut=f.oFeatures,o.bStateSave&&(ut.bStateSave=!0,re(f,o),v(f,"aoDrawCallback",ki,"state_save")),o.aaSorting===i)for(w=f.aaSorting,c=0,l=w.length;c<l;c++)w[c][1]=f.aoColumns[c].asSorting[0];if(bi(f),ut.bSort&&v(f,"aoDrawCallback",function(){if(f.bSorted){var n=et(f),t={};r.each(n,function(n,i){t[i.src]=i.dir});h(f,null,"order",[f,n,t]);te(f)}}),v(f,"aoDrawCallback",function(){(f.bSorted||y(f)==="ssp"||ut.bDeferRender)&&bi(f)},"sc"),yu(f),c=d.children("caption").each(function(){this._captionSide=d.css("caption-side")}),l=d.children("thead"),0===l.length&&(l=r("<thead/>").appendTo(this)),f.nTHead=l[0],l=d.children("tbody"),0===l.length&&(l=r("<tbody/>").appendTo(this)),f.nTBody=l[0],l=d.children("tfoot"),0===l.length&&0<c.length&&(""!==f.oScroll.sX||""!==f.oScroll.sY)&&(l=r("<tfoot/>").appendTo(this)),0===l.length||0===l.children().length?d.addClass(b.sNoFooter):0<l.length&&(f.nTFoot=l[0],kt(f.aoFooter,f.nTFoot)),o.aaData)for(c=0;c<o.aaData.length;c++)it(f,o.aaData[c]);else(f.bDeferLoading||"dom"==y(f))&&oi(f,r(f.nTBody).children("tr"));f.aiDisplay=f.aiDisplayMaster.slice();f.bInitialised=!0;!1===ft&&gt(f)}}),t=null,this};var ae=[],l=Array.prototype,ge=function(n){var t,i,f=u.settings,e=r.map(f,function(n){return n.nTable});if(n){if(n.nTable&&n.oApi)return[n];if(n.nodeName&&"table"===n.nodeName.toLowerCase())return t=r.inArray(n,e),-1!==t?[f[t]]:null;if(n&&"function"==typeof n.settings)return n.settings().toArray();"string"==typeof n?i=r(n):n instanceof r&&(i=n)}else return[];if(i)return i.map(function(){return t=r.inArray(this,e),-1!==t?f[t]:null}).toArray()};o=function(n,t){var i,f,u,e;if(!this instanceof o)throw"DT API must be constructed as a new object";if(i=[],f=function(n){(n=ge(n))&&i.push.apply(i,n)},r.isArray(n))for(u=0,e=n.length;u<e;u++)f(n[u]);else f(n);this.context=ru(i);t&&this.push.apply(this,t.toArray?t.toArray():t);this.selector={rows:null,cols:null,opts:null};o.extend(this,this,ae)};u.Api=o;o.prototype={concat:l.concat,context:[],each:function(n){for(var t=0,i=this.length;t<i;t++)n.call(this,this[t],t,this);return this},eq:function(n){var t=this.context;return t.length>n?new o(t[n],this[n]):null},filter:function(n){var i=[],t,r;if(l.filter)i=l.filter.call(this,n,this);else for(t=0,r=this.length;t<r;t++)n.call(this,this[t],t,this)&&i.push(this[t]);return new o(this.context,i)},flatten:function(){var n=[];return new o(this.context,n.concat.apply(n,this.toArray()))},join:l.join,indexOf:l.indexOf||function(n,t){for(var i=t||0,r=this.length;i<r;i++)if(this[i]===n)return i;return-1},iterator:function(n,t,r,u){var h=[],e,f,y,c,p,s=this.context,w,v,a=this.selector,l;for("string"==typeof n&&(u=r,r=t,t=n,n=!1),f=0,y=s.length;f<y;f++)if(l=new o(s[f]),"table"===t)e=r.call(l,s[f],f),e!==i&&h.push(e);else if("columns"===t||"rows"===t)e=r.call(l,s[f],this[f],f),e!==i&&h.push(e);else if("column"===t||"column-rows"===t||"row"===t||"cell"===t)for(v=this[f],"column-rows"===t&&(w=tr(s[f],a.opts)),c=0,p=v.length;c<p;c++)e=v[c],e="cell"===t?r.call(l,s[f],e.row,e.column,f,c):r.call(l,s[f],e,f,c,w),e!==i&&h.push(e);return h.length||u?(n=new o(s,n?h.concat.apply([],h):h),t=n.selector,t.rows=a.rows,t.cols=a.cols,t.opts=a.opts,n):this},lastIndexOf:l.lastIndexOf||function(){return this.indexOf.apply(this.toArray.reverse(),arguments)},length:0,map:function(n){var i=[],t,r;if(l.map)i=l.map.call(this,n,this);else for(t=0,r=this.length;t<r;t++)i.push(n.call(this,this[t],t));return new o(this.context,i)},pluck:function(n){return this.map(function(t){return t[n]})},pop:l.pop,push:l.push,reduce:l.reduce||function(n,t){return pu(this,n,t,0,this.length,1)},reduceRight:l.reduceRight||function(n,t){return pu(this,n,t,this.length-1,-1,-1)},reverse:l.reverse,selector:null,shift:l.shift,sort:l.sort,splice:l.splice,toArray:function(){return l.slice.call(this)},to$:function(){return r(this)},toJQuery:function(){return r(this)},unique:function(){return new o(this.context,ru(this))},unshift:l.unshift};o.extend=function(n,t,i){if(i.length&&t&&(t instanceof o||t.__dt_wrapper))for(var u,s=function(n,t,i){return function(){var r=t.apply(n,arguments);return o.extend(r,r,i.methodExt),r}},f=0,e=i.length;f<e;f++)u=i[f],t[u.name]="function"==typeof u.val?s(n,u.val,u):r.isPlainObject(u.val)?{}:u.val,t[u.name].__dt_wrapper=!0,o.extend(n,t[u.name],u.propExt)};o.register=f=function(n,t){var u,e,i,l;if(r.isArray(n))for(u=0,e=n.length;u<e;u++)o.register(n[u],t);else for(var s=n.split("."),f=ae,h,c,u=0,e=s.length;u<e;u++){h=(c=-1!==s[u].indexOf("()"))?s[u].replace("()",""):s[u];n:{for(i=0,l=f.length;i<l;i++)if(f[i].name===h){i=f[i];break n}i=null}i||(i={name:h,val:{},methodExt:[],propExt:[]},f.push(i));u===e-1?i.val=t:f=c?i.methodExt:i.propExt}};o.registerPlural=s=function(n,t,u){o.register(n,u);o.register(t,function(){var n=u.apply(this,arguments);return n===this?this:n instanceof o?n.length?r.isArray(n[0])?new o(n.context,n[0]):n[0]:i:n})};f("tables()",function(n){var t,i,u,n;return n?(t=o,i=this.context,"number"==typeof n?n=[i[n]]:(u=r.map(i,function(n){return n.nTable}),n=r(u).filter(n).map(function(){var n=r.inArray(this,u);return i[n]}).toArray()),t=new t(n)):t=this,t});f("table()",function(n){var n=this.tables(n),t=n.context;return t.length?new o(t[0]):n});s("tables().nodes()","table().node()",function(){return this.iterator("table",function(n){return n.nTable},1)});s("tables().body()","table().body()",function(){return this.iterator("table",function(n){return n.nTBody},1)});s("tables().header()","table().header()",function(){return this.iterator("table",function(n){return n.nTHead},1)});s("tables().footer()","table().footer()",function(){return this.iterator("table",function(n){return n.nTFoot},1)});s("tables().containers()","table().container()",function(){return this.iterator("table",function(n){return n.nTableWrapper},1)});f("draw()",function(n){return this.iterator("table",function(t){ut(t,!1===n)})});f("page()",function(n){return n===i?this.page.info().page:this.iterator("table",function(t){vr(t,n)})});f("page.info()",function(){if(0===this.context.length)return i;var n=this.context[0],r=n._iDisplayStart,t=n._iDisplayLength,u=n.fnRecordsDisplay(),f=-1===t;return{page:f?0:Math.floor(r/t),pages:f?1:Math.ceil(u/t),start:r,end:n.fnDisplayEnd(),length:t,recordsTotal:n.fnRecordsTotal(),recordsDisplay:u}});f("page.len()",function(n){return n===i?0!==this.context.length?this.context[0]._iDisplayLength:i:this.iterator("table",function(t){ar(t,n)})});uu=function(n,t,i){if("ssp"==y(n)?ut(n,t):(w(n,!0),ai(n,[],function(i){si(n);for(var i=vi(n,i),r=0,u=i.length;r<u;r++)it(n,i[r]);ut(n,t);w(n,!1)})),i){var r=new o(n);r.one("draw",function(){i(r.ajax.json())})}};f("ajax.json()",function(){var n=this.context;if(0<n.length)return n[0].json});f("ajax.params()",function(){var n=this.context;if(0<n.length)return n[0].oAjaxData});f("ajax.reload()",function(n,t){return this.iterator("table",function(i){uu(i,!1===t,n)})});f("ajax.url()",function(n){var t=this.context;return n===i?0===t.length?i:(t=t[0],t.ajax?r.isPlainObject(t.ajax)?t.ajax.url:t.ajax:t.sAjaxSource):this.iterator("table",function(t){r.isPlainObject(t.ajax)?t.ajax.url=n:t.ajax=n})});f("ajax.url().load()",function(n,t){return this.iterator("table",function(i){uu(i,!1===t,n)})});var fu=function(n,t){var s=[],f,o,u,h,e,c;for(f=typeof n,n&&"string"!==f&&"function"!==f&&n.length!==i||(n=[n]),u=0,h=n.length;u<h;u++)for(o=n[u]&&n[u].split?n[u].split(","):[n[u]],e=0,c=o.length;e<c;e++)(f=t("string"==typeof o[e]?r.trim(o[e]):o[e]))&&f.length&&s.push.apply(s,f);return s},eu=function(n){return n||(n={}),n.filter&&!n.search&&(n.search=n.filter),{search:n.search||"none",order:n.order||"current",page:n.page||"all"}},ou=function(n){for(var t=0,i=n.length;t<i;t++)if(0<n[t].length)return n[0]=n[t],n.length=1,n.context=[n.context[t]],n;return n.length=0,n},tr=function(n,t){var i,u,e,o=[],s=n.aiDisplay,f;if(i=n.aiDisplayMaster,f=t.search,u=t.order,e=t.page,"ssp"==y(n))return"removed"===f?[]:st(0,i.length);if("current"==e)for(i=n._iDisplayStart,u=n.fnDisplayEnd();i<u;i++)o.push(s[i]);else if("current"==u||"applied"==u)o="none"==f?i.slice():"applied"==f?s.slice():r.map(i,function(n){return-1===r.inArray(n,s)?n:null});else if("index"==u||"original"==u)for(i=0,u=n.aoData.length;i<u;i++)"none"==f?o.push(i):(e=r.inArray(i,s),(-1===e&&"removed"==f||0<=e&&"applied"==f)&&o.push(i));return o};f("rows()",function(n,t){n===i?n="":r.isPlainObject(n)&&(t=n,n="");var t=eu(t),u=this.iterator("table",function(i){var u=t;return fu(n,function(n){var t=se(n),f;return t!==null&&!u?[t]:(f=tr(i,u),t!==null&&r.inArray(t,f)!==-1)?[t]:n?typeof n=="function"?r.map(f,function(t){var r=i.aoData[t];return n(t,r._aData,r.nTr)?t:null}):(t=le(ti(i.aoData,f,"nTr")),n.nodeName&&r.inArray(n,t)!==-1?[n._DT_RowIndex]:r(t).filter(n).map(function(){return this._DT_RowIndex}).toArray()):f})},1);return u.selector.rows=n,u.selector.opts=t,u});f("rows().nodes()",function(){return this.iterator("row",function(n,t){return n.aoData[t].nTr||i},1)});f("rows().data()",function(){return this.iterator(!0,"rows",function(n,t){return ti(n.aoData,t,"_aData")},1)});s("rows().cache()","row().cache()",function(n){return this.iterator("row",function(t,i){var r=t.aoData[i];return"search"===n?r._aFilterData:r._aSortData},1)});s("rows().invalidate()","row().invalidate()",function(n){return this.iterator("row",function(t,i){wt(t,i,n)})});s("rows().indexes()","row().index()",function(){return this.iterator("row",function(n,t){return t},1)});s("rows().remove()","row().remove()",function(){var n=this;return this.iterator("row",function(t,i,u){var e=t.aoData,f,o;for(e.splice(i,1),f=0,o=e.length;f<o;f++)null!==e[f].nTr&&(e[f].nTr._DT_RowIndex=f);r.inArray(i,t.aiDisplay);hi(t.aiDisplayMaster,i);hi(t.aiDisplay,i);hi(n[u],i,!1);kr(t)})});f("rows.add()",function(n){var i=this.iterator("table",function(t){for(var i,u=[],r=0,f=n.length;r<f;r++)i=n[r],i.nodeName&&"TR"===i.nodeName.toUpperCase()?u.push(oi(t,i)[0]):u.push(it(t,i));return u},1),t=this.rows(-1);return t.pop(),t.push.apply(t,i.toArray()),t});f("row()",function(n,t){return ou(this.rows(n,t))});f("row().data()",function(n){var t=this.context;return n===i?t.length&&this.length?t[0].aoData[this[0]]._aData:i:(t[0].aoData[this[0]]._aData=n,wt(t[0],this[0],"data"),this)});f("row().node()",function(){var n=this.context;return n.length&&this.length?n[0].aoData[this[0]].nTr||null:null});f("row.add()",function(n){n instanceof r&&n.length&&(n=n[0]);var t=this.iterator("table",function(t){return n.nodeName&&"TR"===n.nodeName.toUpperCase()?oi(t,n)[0]:it(t,n)});return this.row(t[0])});ir=function(n,t){var r=n.context;r.length&&(r=r[0].aoData[t!==i?t:n[0]],r._details&&(r._details.remove(),r._detailsShow=i,r._details=i))};su=function(n,t){var e=n.context,i;if(e.length&&n.length&&(i=e[0].aoData[n[0]],i._details)){(i._detailsShow=t)?i._details.insertAfter(i.nTr):i._details.detach();var f=e[0],r=new o(f),u=f.aoData;r.off("draw.dt.DT_details column-visibility.dt.DT_details destroy.dt.DT_details");0<b(u,"_details").length&&(r.on("draw.dt.DT_details",function(n,t){f===t&&r.rows({page:"current"}).eq(0).each(function(n){n=u[n];n._detailsShow&&n._details.insertAfter(n.nTr)})}),r.on("column-visibility.dt.DT_details",function(n,t){if(f===t)for(var i,e=vt(t),r=0,o=u.length;r<o;r++)i=u[r],i._details&&i._details.children("td[colspan]").attr("colspan",e)}),r.on("destroy.dt.DT_details",function(n,t){if(f===t)for(var i=0,e=u.length;i<e;i++)u[i]._details&&ir(r,i)}))}};f("row().child()",function(n,t){var u=this.context,f,s;if(n===i)return u.length&&this.length?u[0].aoData[this[0]]._details:i;if(!0===n)this.child.show();else if(!1===n)ir(this);else if(u.length&&this.length){var h=u[0],u=u[0].aoData[this[0]],e=[],o=function(n,t){if(n.nodeName&&"tr"===n.nodeName.toLowerCase())e.push(n);else{var i=r("<tr><td/><\/tr>").addClass(t);r("td",i).addClass(t).html(n)[0].colSpan=vt(h);e.push(i[0])}};if(r.isArray(n)||n instanceof r)for(f=0,s=n.length;f<s;f++)o(n[f],t);else o(n,t);u._details&&u._details.remove();u._details=r(e);u._detailsShow&&u._details.insertAfter(u.nTr)}return this});f(["row().child.show()","row().child().show()"],function(){return su(this,!0),this});f(["row().child.hide()","row().child().hide()"],function(){return su(this,!1),this});f(["row().child.remove()","row().child().remove()"],function(){return ir(this),this});f("row().child.isShown()",function(){var n=this.context;return n.length&&this.length?n[0].aoData[this[0]]._detailsShow||!1:!1});ve=/^(.+):(name|visIdx|visible)$/;hu=function(n,t,i,r,u){for(var i=[],r=0,f=u.length;r<f;r++)i.push(a(n,u[r],t));return i};f("columns()",function(n,t){n===i?n="":r.isPlainObject(n)&&(t=n,n="");var t=eu(t),u=this.iterator("table",function(i){var e=n,o=t,u=i.aoColumns,s=b(u,"sName"),f=b(u,"nTh");return fu(e,function(n){var t=se(n),c,e,h;if(n==="")return st(u.length);if(t!==null)return[t>=0?t:u.length+t];if(typeof n=="function")return c=tr(i,o),r.map(u,function(t,r){return n(r,hu(i,r,0,0,c),f[r])?r:null});if(e=typeof n=="string"?n.match(ve):"",e)switch(e[2]){case"visIdx":case"visible":return(t=parseInt(e[1],10),t<0)?(h=r.map(u,function(n,t){return n.bVisible?t:null}),[h[h.length+t]]):[ei(i,t)];case"name":return r.map(s,function(n,t){return n===e[1]?t:null})}else return r(f).filter(n).map(function(){return r.inArray(this,f)}).toArray()})},1);return u.selector.cols=n,u.selector.opts=t,u});s("columns().header()","column().header()",function(){return this.iterator("column",function(n,t){return n.aoColumns[t].nTh},1)});s("columns().footer()","column().footer()",function(){return this.iterator("column",function(n,t){return n.aoColumns[t].nTf},1)});s("columns().data()","column().data()",function(){return this.iterator("column-rows",hu,1)});s("columns().dataSrc()","column().dataSrc()",function(){return this.iterator("column",function(n,t){return n.aoColumns[t].mData},1)});s("columns().cache()","column().cache()",function(n){return this.iterator("column-rows",function(t,i,r,u,f){return ti(t.aoData,f,"search"===n?"_aFilterData":"_aSortData",i)},1)});s("columns().nodes()","column().nodes()",function(){return this.iterator("column-rows",function(n,t,i,r,u){return ti(n.aoData,u,"anCells",t)},1)});s("columns().visible()","column().visible()",function(n,t){return this.iterator("column",function(u,f){var v;if(n===i)return u.aoColumns[f].bVisible;var e=u.aoColumns,l=e[f],s=u.aoData,o,a,c;if(n!==i&&l.bVisible!==n){if(n)for(v=r.inArray(!0,b(e,"bVisible"),f+1),o=0,a=s.length;o<a;o++)c=s[o].nTr,e=s[o].anCells,c&&c.insertBefore(e[f],e[v]||null);else r(b(u.aoData,"anCells",f)).detach();l.bVisible=n;bt(u,u.aoHeader);bt(u,u.aoFooter);(t===i||t)&&(lt(u),(u.oScroll.sX||u.oScroll.sY)&&ni(u));h(u,null,"column-visibility",[u,f,n]);ki(u)}})});s("columns().indexes()","column().index()",function(n){return this.iterator("column",function(t,i){return"visible"===n?at(t,i):i},1)});f("columns.adjust()",function(){return this.iterator("table",function(n){lt(n)},1)});f("column.index()",function(n,t){if(0!==this.context.length){var i=this.context[0];if("fromVisible"===n||"toData"===n)return ei(i,t);if("fromData"===n||"toVisible"===n)return at(i,t)}});f("column()",function(n,t){return ou(this.columns(n,t))});f("cells()",function(n,t,u){if(r.isPlainObject(n)&&(typeof n.row!==i?(u=t,t=null):(u=n,n=null)),r.isPlainObject(t)&&(u=t,t=null),null===t||t===i)return this.iterator("table",function(t){var w=n,l=eu(u),v=t.aoData,c=tr(t,l),l=le(ti(v,c,"anCells")),b=r([].concat.apply([],l)),f,k=t.aoColumns.length,o,s,y,e,h,p;return fu(w,function(n){var u=typeof n=="function";if(n===null||n===i||u){for(o=[],s=0,y=c.length;s<y;s++)for(f=c[s],e=0;e<k;e++)h={row:f,column:e},u?(p=t.aoData[f],n(h,a(t,f,e),p.anCells[e])&&o.push(h)):o.push(h);return o}return r.isPlainObject(n)?[n]:b.filter(n).map(function(n,t){return f=t.parentNode._DT_RowIndex,{row:f,column:r.inArray(t,v[f].anCells)}}).toArray()})});var s=this.columns(t,u),h=this.rows(n,u),o,f,c,e,l,v=this.iterator("table",function(n,t){for(o=[],f=0,c=h[t].length;f<c;f++)for(e=0,l=s[t].length;e<l;e++)o.push({row:h[t][f],column:s[t][e]});return o},1);return r.extend(v.selector,{cols:t,rows:n,opts:u}),v});s("cells().nodes()","cell().node()",function(){return this.iterator("cell",function(n,t,r){return(n=n.aoData[t].anCells)?n[r]:i},1)});f("cells().data()",function(){return this.iterator("cell",function(n,t,i){return a(n,t,i)},1)});s("cells().cache()","cell().cache()",function(n){return n="search"===n?"_aFilterData":"_aSortData",this.iterator("cell",function(t,i,r){return t.aoData[i][n][r]},1)});s("cells().render()","cell().render()",function(n){return this.iterator("cell",function(t,i,r){return a(t,i,r,n)},1)});s("cells().indexes()","cell().index()",function(){return this.iterator("cell",function(n,t,i){return{row:t,column:i,columnVisible:at(n,i)}},1)});s("cells().invalidate()","cell().invalidate()",function(n){return this.iterator("cell",function(t,i,r){wt(t,i,n,r)})});f("cell()",function(n,t,i){return ou(this.cells(n,t,i))});f("cell().data()",function(n){var r=this.context,t=this[0];return n===i?r.length&&t.length?a(r[0],t[0].row,t[0].column):i:(er(r[0],t[0].row,t[0].column,n),wt(r[0],t[0].row,"data",t[0].column),this)});f("order()",function(n,t){var u=this.context;return n===i?0!==u.length?u[0].aaSorting:i:("number"==typeof n?n=[[n,t]]:r.isArray(n[0])||(n=Array.prototype.slice.call(arguments)),this.iterator("table",function(t){t.aaSorting=n.slice()}))});f("order.listener()",function(n,t,i){return this.iterator("table",function(r){wr(r,n,t,i)})});f(["columns().order()","column().order()"],function(n){var t=this;return this.iterator("table",function(i,u){var f=[];r.each(t[u],function(t,i){f.push([i,n])});i.aaSorting=f})});f("search()",function(n,t,u,f){var e=this.context;return n===i?0!==e.length?e[0].oPreviousSearch.sSearch:i:this.iterator("table",function(i){i.oFeatures.bFilter&&dt(i,r.extend({},i.oPreviousSearch,{sSearch:n+"",bRegex:null===t?!1:t,bSmart:null===u?!0:u,bCaseInsensitive:null===f?!0:f}),1)})});s("columns().search()","column().search()",function(n,t,u,f){return this.iterator("column",function(e,o){var s=e.aoPreSearchCols;if(n===i)return s[o].sSearch;e.oFeatures.bFilter&&(r.extend(s[o],{sSearch:n+"",bRegex:null===t?!1:t,bSmart:null===u?!0:u,bCaseInsensitive:null===f?!0:f}),dt(e,e.oPreviousSearch,1))})});f("state()",function(){return this.context.length?this.context[0].oSavedState:null});f("state.clear()",function(){return this.iterator("table",function(n){n.fnStateSaveCallback.call(n.oInstance,n,{})})});f("state.loaded()",function(){return this.context.length?this.context[0].oLoadedState:null});f("state.save()",function(){return this.iterator("table",function(n){ki(n)})});u.versionCheck=u.fnVersionCheck=function(n){for(var f=u.version.split("."),n=n.split("."),i,r,t=0,e=n.length;t<e;t++)if(i=parseInt(f[t],10)||0,r=parseInt(n[t],10)||0,i!==r)return i>r;return!0};u.isDataTable=u.fnIsDataTable=function(n){var t=r(n).get(0),i=!1;return r.each(u.settings,function(n,u){(u.nTable===t||r("table",u.nScrollHead)[0]===t||r("table",u.nScrollFoot)[0]===t)&&(i=!0)}),i};u.tables=u.fnTables=function(n){return r.map(u.settings,function(t){if(!n||n&&r(t.nTable).is(":visible"))return t.nTable})};u.util={throttle:wi,escapeRegex:yi};u.camelToHungarian=nt;f("$()",function(n,t){var i=this.rows(t).nodes(),i=r(i);return r([].concat(i.filter(n).toArray(),i.find(n).toArray()))});r.each(["on","one","off"],function(n,t){f(t+"()",function(){var n=Array.prototype.slice.call(arguments),i;return n[0].match(/\.dt\b/)||(n[0]+=".dt"),i=r(this.tables().nodes()),i[t].apply(i,n),this})});f("clear()",function(){return this.iterator("table",function(n){si(n)})});f("settings()",function(){return new o(this.context,this.context)});f("data()",function(){return this.iterator("table",function(n){return b(n.aoData,"_aData")}).flatten()});f("destroy()",function(t){return t=t||!1,this.iterator("table",function(i){var s=i.nTableWrapper.parentNode,f=i.oClasses,l=i.nTable,a=i.nTBody,c=i.nTHead,v=i.nTFoot,e=r(l),a=r(a),y=r(i.nTableWrapper),p=r.map(i.aoData,function(n){return n.nTr}),w;i.bDestroying=!0;h(i,"aoDestroyCallback","destroy",[i]);t||new o(i).columns().visible(!0);y.unbind(".DT").find(":not(tbody *)").unbind(".DT");r(n).unbind(".DT-"+i.sInstance);l!=c.parentNode&&(e.children("thead").detach(),e.append(c));v&&l!=v.parentNode&&(e.children("tfoot").detach(),e.append(v));e.detach();y.detach();i.aaSorting=[];i.aaSortingFixed=[];bi(i);r(p).removeClass(i.asStripeClasses.join(" "));r("th, td",c).removeClass(f.sSortable+" "+f.sSortableAsc+" "+f.sSortableDesc+" "+f.sSortableNone);i.bJUI&&(r("th span."+f.sSortIcon+", td span."+f.sSortIcon,c).detach(),r("th, td",c).each(function(){var n=r("div."+f.sSortJUIWrapper,this);r(this).append(n.contents());n.detach()}));!t&&s&&s.insertBefore(l,i.nTableReinsertBefore);a.children().detach();a.append(p);e.css("width",i.sDestroyWidth).removeClass(f.sTable);(w=i.asDestroyStripes.length)&&a.children().each(function(n){r(this).addClass(i.asDestroyStripes[n%w])});s=r.inArray(i,u.settings);-1!==s&&u.settings.splice(s,1)})});u.version="1.10.5";u.settings=[];u.models={};u.models.oSearch={bCaseInsensitive:!0,sSearch:"",bRegex:!1,bSmart:!0};u.models.oRow={nTr:null,anCells:null,_aData:[],_aSortData:null,_aFilterData:null,_sFilterRow:null,_sRowStripe:"",src:null};u.models.oColumn={idx:null,aDataSort:null,asSorting:null,bSearchable:null,bSortable:null,bVisible:null,_sManualType:null,_bAttrSrc:!1,fnCreatedCell:null,fnGetData:null,fnSetData:null,mData:null,mRender:null,nTh:null,nTf:null,sClass:null,sContentPadding:null,sDefaultContent:null,sName:null,sSortDataType:"std",sSortingClass:null,sSortingClassJUI:null,sTitle:null,sType:null,sWidth:null,sWidthOrig:null};u.defaults={aaData:null,aaSorting:[[0,"asc"]],aaSortingFixed:[],ajax:null,aLengthMenu:[10,25,50,100],aoColumns:null,aoColumnDefs:null,aoSearchCols:[],asStripeClasses:null,bAutoWidth:!0,bDeferRender:!1,bDestroy:!1,bFilter:!0,bInfo:!0,bJQueryUI:!1,bLengthChange:!0,bPaginate:!0,bProcessing:!1,bRetrieve:!1,bScrollCollapse:!1,bServerSide:!1,bSort:!0,bSortMulti:!0,bSortCellsTop:!1,bSortClasses:!0,bStateSave:!1,fnCreatedRow:null,fnDrawCallback:null,fnFooterCallback:null,fnFormatNumber:function(n){return n.toString().replace(/\B(?=(\d{3})+(?!\d))/g,this.oLanguage.sThousands)},fnHeaderCallback:null,fnInfoCallback:null,fnInitComplete:null,fnPreDrawCallback:null,fnRowCallback:null,fnServerData:null,fnServerParams:null,fnStateLoadCallback:function(n){try{return JSON.parse((-1===n.iStateDuration?sessionStorage:localStorage).getItem("DataTables_"+n.sInstance+"_"+location.pathname))}catch(t){}},fnStateLoadParams:null,fnStateLoaded:null,fnStateSaveCallback:function(n,t){try{(-1===n.iStateDuration?sessionStorage:localStorage).setItem("DataTables_"+n.sInstance+"_"+location.pathname,JSON.stringify(t))}catch(i){}},fnStateSaveParams:null,iStateDuration:7200,iDeferLoading:null,iDisplayLength:10,iDisplayStart:0,iTabIndex:0,oClasses:{},oLanguage:{oAria:{sSortAscending:": activate to sort column ascending",sSortDescending:": activate to sort column descending"},oPaginate:{sFirst:"First",sLast:"Last",sNext:"Next",sPrevious:"Previous"},sEmptyTable:"No data available in table",sInfo:"Showing _START_ to _END_ of _TOTAL_ entries",sInfoEmpty:"Showing 0 to 0 of 0 entries",sInfoFiltered:"(filtered from _MAX_ total entries)",sInfoPostFix:"",sDecimal:"",sThousands:",",sLengthMenu:"Show _MENU_ entries",sLoadingRecords:"Loading...",sProcessing:"Processing...",sSearch:"Search:",sSearchPlaceholder:"",sUrl:"",sZeroRecords:"No matching records found"},oSearch:r.extend({},u.models.oSearch),sAjaxDataProp:"data",sAjaxSource:null,sDom:"lfrtip",searchDelay:null,sPaginationType:"simple_numbers",sScrollX:"",sScrollXInner:"",sScrollY:"",sServerMethod:"GET",renderer:null};ct(u.defaults);u.defaults.column={aDataSort:null,iDataSort:-1,asSorting:["asc","desc"],bSearchable:!0,bSortable:!0,bVisible:!0,fnCreatedCell:null,mData:null,mRender:null,sCellType:"td",sClass:"",sContentPadding:"",sDefaultContent:null,sName:"",sSortDataType:"std",sTitle:null,sType:null,sWidth:null};ct(u.defaults.column);u.models.oSettings={oFeatures:{bAutoWidth:null,bDeferRender:null,bFilter:null,bInfo:null,bLengthChange:null,bPaginate:null,bProcessing:null,bServerSide:null,bSort:null,bSortMulti:null,bSortClasses:null,bStateSave:null},oScroll:{bCollapse:null,iBarWidth:0,sX:null,sXInner:null,sY:null},oLanguage:{fnInfoCallback:null},oBrowser:{bScrollOversize:!1,bScrollbarLeft:!1},ajax:null,aanFeatures:[],aoData:[],aiDisplay:[],aiDisplayMaster:[],aoColumns:[],aoHeader:[],aoFooter:[],oPreviousSearch:{},aoPreSearchCols:[],aaSorting:null,aaSortingFixed:[],asStripeClasses:null,asDestroyStripes:[],sDestroyWidth:0,aoRowCallback:[],aoHeaderCallback:[],aoFooterCallback:[],aoDrawCallback:[],aoRowCreatedCallback:[],aoPreDrawCallback:[],aoInitComplete:[],aoStateSaveParams:[],aoStateLoadParams:[],aoStateLoaded:[],sTableId:"",nTable:null,nTHead:null,nTFoot:null,nTBody:null,nTableWrapper:null,bDeferLoading:!1,bInitialised:!1,aoOpenRows:[],sDom:null,searchDelay:null,sPaginationType:"two_button",iStateDuration:0,aoStateSave:[],aoStateLoad:[],oSavedState:null,oLoadedState:null,sAjaxSource:null,sAjaxDataProp:null,bAjaxDataGet:!0,jqXHR:null,json:i,oAjaxData:i,fnServerData:null,aoServerParams:[],sServerMethod:null,fnFormatNumber:null,aLengthMenu:null,iDraw:0,bDrawing:!1,iDrawError:-1,_iDisplayLength:10,_iDisplayStart:0,_iRecordsTotal:0,_iRecordsDisplay:0,bJUI:null,oClasses:{},bFiltered:!1,bSorted:!1,bSortCellsTop:null,oInit:null,aoDestroyCallback:[],fnRecordsTotal:function(){return"ssp"==y(this)?1*this._iRecordsTotal:this.aiDisplayMaster.length},fnRecordsDisplay:function(){return"ssp"==y(this)?1*this._iRecordsDisplay:this.aiDisplay.length},fnDisplayEnd:function(){var n=this._iDisplayLength,t=this._iDisplayStart,r=t+n,i=this.aiDisplay.length,u=this.oFeatures,f=u.bPaginate;return u.bServerSide?!1===f||-1===n?t+i:Math.min(t+n,this._iRecordsDisplay):!f||r>i||-1===n?i:r},oInstance:null,sInstance:null,iTabIndex:0,nScrollHead:null,nScrollFoot:null,aLastSort:[],oPlugins:{}};u.ext=c={buttons:{},classes:{},errMode:"alert",feature:[],search:[],internal:{},legacy:{ajax:null},pager:{},renderer:{pageButton:{},header:{}},order:{},type:{detect:[],search:{},order:{}},_unique:0,fnVersionCheck:u.fnVersionCheck,iApiIndex:0,oJUIClasses:{},sVersion:u.version};r.extend(c,{afnFiltering:c.search,aTypes:c.type.detect,ofnSearch:c.type.search,oSort:c.type.order,afnSortData:c.order,aoFeatures:c.feature,oApi:c.internal,oStdClasses:c.classes,oPagination:c.pager});r.extend(u.ext.classes,{sTable:"dataTable",sNoFooter:"no-footer",sPageButton:"paginate_button",sPageButtonActive:"current",sPageButtonDisabled:"disabled",sStripeOdd:"odd",sStripeEven:"even",sRowEmpty:"dataTables_empty",sWrapper:"dataTables_wrapper",sFilter:"dataTables_filter",sInfo:"dataTables_info",sPaging:"dataTables_paginate paging_",sLength:"dataTables_length",sProcessing:"dataTables_processing",sSortAsc:"sorting_asc",sSortDesc:"sorting_desc",sSortable:"sorting",sSortableAsc:"sorting_asc_disabled",sSortableDesc:"sorting_desc_disabled",sSortableNone:"sorting_disabled",sSortColumn:"sorting_",sFilterInput:"",sLengthSelect:"",sScrollWrapper:"dataTables_scroll",sScrollHead:"dataTables_scrollHead",sScrollHeadInner:"dataTables_scrollHeadInner",sScrollBody:"dataTables_scrollBody",sScrollFoot:"dataTables_scrollFoot",sScrollFootInner:"dataTables_scrollFootInner",sHeaderTH:"",sFooterTH:"",sSortJUIAsc:"",sSortJUIDesc:"",sSortJUI:"",sSortJUIAscAllowed:"",sSortJUIDescAllowed:"",sSortJUIWrapper:"",sSortIcon:"",sJUIHeader:"",sJUIFooter:""});var cu="",cu="",d=cu+"ui-state-default",ri=cu+"css_right ui-icon ui-icon-",ye=cu+"fg-toolbar ui-toolbar ui-widget-header ui-helper-clearfix";return r.extend(u.ext.oJUIClasses,u.ext.classes,{sPageButton:"fg-button ui-button "+d,sPageButtonActive:"ui-state-disabled",sPageButtonDisabled:"ui-state-disabled",sPaging:"dataTables_paginate fg-buttonset ui-buttonset fg-buttonset-multi ui-buttonset-multi paging_",sSortAsc:d+" sorting_asc",sSortDesc:d+" sorting_desc",sSortable:d+" sorting",sSortableAsc:d+" sorting_asc_disabled",sSortableDesc:d+" sorting_desc_disabled",sSortableNone:d+" sorting_disabled",sSortJUIAsc:ri+"triangle-1-n",sSortJUIDesc:ri+"triangle-1-s",sSortJUI:ri+"carat-2-n-s",sSortJUIAscAllowed:ri+"carat-1-n",sSortJUIDescAllowed:ri+"carat-1-s",sSortJUIWrapper:"DataTables_sort_wrapper",sSortIcon:"DataTables_sort_icon",sScrollHead:"dataTables_scrollHead "+d,sScrollFoot:"dataTables_scrollFoot "+d,sHeaderTH:d,sFooterTH:d,sJUIHeader:ye+" ui-corner-tl ui-corner-tr",sJUIFooter:ye+" ui-corner-bl ui-corner-br"}),lu=u.ext.pager,r.extend(lu,{simple:function(){return["previous","next"]},full:function(){return["first","previous","next","last"]},simple_numbers:function(n,t){return["previous",gr(n,t),"next"]},full_numbers:function(n,t){return["first","previous",gr(n,t),"next","last"]},_numbers:gr,numbers_length:7}),r.extend(!0,u.ext.renderer,{pageButton:{_:function(n,i,u,f,e,o){var c=n.oClasses,l=n.oLanguage.oPaginate,s,h,v=0,y=function(t,i){for(var p,f,b=function(t){vr(n,t.data.action,!0)},a=0,w=i.length;a<w;a++)if(f=i[a],r.isArray(f))p=r("<"+(f.DT_el||"div")+"/>").appendTo(t),y(p,f);else{h=s="";switch(f){case"ellipsis":t.append("<span>&hellip;<\/span>");break;case"first":s=l.sFirst;h=f+(e>0?"":" "+c.sPageButtonDisabled);break;case"previous":s=l.sPrevious;h=f+(e>0?"":" "+c.sPageButtonDisabled);break;case"next":s=l.sNext;h=f+(e<o-1?"":" "+c.sPageButtonDisabled);break;case"last":s=l.sLast;h=f+(e<o-1?"":" "+c.sPageButtonDisabled);break;default:s=f+1;h=e===f?c.sPageButtonActive:""}s&&(p=r("<a>",{"class":c.sPageButton+" "+h,"aria-controls":n.sTableId,"data-dt-idx":v,tabindex:n.iTabIndex,id:u===0&&typeof f=="string"?n.sTableId+"_"+f:null}).html(s).appendTo(t),br(p,{action:f},b),v++)}},a;try{a=r(t.activeElement).data("dt-idx")}catch(p){}y(r(i).empty(),f);a&&r(i).find("[data-dt-idx="+a+"]").focus()}}}),r.extend(u.ext.type.detect,[function(n,t){var i=t.oLanguage.sDecimal;return iu(n,i)?"num"+i:null},function(n){if(n&&!(n instanceof Date)&&(!pe.test(n)||!we.test(n)))return null;var t=Date.parse(n);return null!==t&&!isNaN(t)||tt(n)?"date":null},function(n,t){var i=t.oLanguage.sDecimal;return iu(n,i,!0)?"num-fmt"+i:null},function(n,t){var i=t.oLanguage.sDecimal;return ce(n,i)?"html-num"+i:null},function(n,t){var i=t.oLanguage.sDecimal;return ce(n,i,!0)?"html-num-fmt"+i:null},function(n){return tt(n)||"string"==typeof n&&-1!==n.indexOf("<")?"html":null}]),r.extend(u.ext.type.search,{html:function(n){return tt(n)?n:"string"==typeof n?n.replace(oe," ").replace(gi,""):""},string:function(n){return tt(n)?n:"string"==typeof n?n.replace(oe," "):n}}),ui=function(n,t,i,r){return 0!==n&&(!n||"-"===n)?-Infinity:(t&&(n=he(n,t)),n.replace&&(i&&(n=n.replace(i,"")),r&&(n=n.replace(r,""))),1*n)},r.extend(c.type.order,{"date-pre":function(n){return Date.parse(n)||0},"html-pre":function(n){return tt(n)?"":n.replace?n.replace(/<.*?>/g,"").toLowerCase():n+""},"string-pre":function(n){return tt(n)?"":"string"==typeof n?n.toLowerCase():n.toString?n.toString():""},"string-asc":function(n,t){return n<t?-1:n>t?1:0},"string-desc":function(n,t){return n<t?1:n>t?-1:0}}),fe(""),r.extend(!0,u.ext.renderer,{header:{_:function(n,t,i,u){r(n.nTable).on("order.dt.DT",function(r,f,e,o){n===f&&(r=i.idx,t.removeClass(i.sSortingClass+" "+u.sSortAsc+" "+u.sSortDesc).addClass(o[r]=="asc"?u.sSortAsc:o[r]=="desc"?u.sSortDesc:i.sSortingClass))})},jqueryui:function(n,t,i,u){r("<div/>").addClass(u.sSortJUIWrapper).append(t.contents()).append(r("<span/>").addClass(u.sSortIcon+" "+i.sSortingClassJUI)).appendTo(t);r(n.nTable).on("order.dt.DT",function(r,f,e,o){n===f&&(r=i.idx,t.removeClass(u.sSortAsc+" "+u.sSortDesc).addClass(o[r]=="asc"?u.sSortAsc:o[r]=="desc"?u.sSortDesc:i.sSortingClass),t.find("span."+u.sSortIcon).removeClass(u.sSortJUIAsc+" "+u.sSortJUIDesc+" "+u.sSortJUI+" "+u.sSortJUIAscAllowed+" "+u.sSortJUIDescAllowed).addClass(o[r]=="asc"?u.sSortJUIAsc:o[r]=="desc"?u.sSortJUIDesc:i.sSortingClassJUI))})}}}),u.render={number:function(n,t,i,r){return{display:function(u){var e=0>u?"-":"",u=Math.abs(parseFloat(u)),f=parseInt(u,10),u=i?t+(u-f).toFixed(i).substring(2):"";return e+(r||"")+f.toString().replace(/\B(?=(\d{3})+(?!\d))/g,n)+u}}}},r.extend(u.ext.internal,{_fnExternApiFunc:ee,_fnBuildAjax:ai,_fnAjaxUpdate:du,_fnAjaxParameters:gu,_fnAjaxUpdateDraw:nf,_fnAjaxDataSrc:vi,_fnAddColumn:ur,_fnColumnOptions:fi,_fnAdjustColumnSizing:lt,_fnVisibleToColumnIndex:ei,_fnColumnIndexToVisible:at,_fnVisbleColumns:vt,_fnGetColumns:yt,_fnColumnTypes:fr,_fnApplyColumnDefs:wu,_fnHungarianMap:ct,_fnCamelToHungarian:nt,_fnLanguageCompat:rr,_fnBrowserDetect:yu,_fnAddData:it,_fnAddTr:oi,_fnNodeToDataIndex:function(n,t){return t._DT_RowIndex!==i?t._DT_RowIndex:null},_fnNodeToColumnIndex:function(n,t,i){return r.inArray(i,n.aoData[t].anCells)},_fnGetCellData:a,_fnSetCellData:er,_fnSplitObjNotation:or,_fnGetObjectDataFn:pt,_fnSetObjectDataFn:ft,_fnGetDataMaster:sr,_fnClearTable:si,_fnDeleteIndex:hi,_fnInvalidate:wt,_fnGetRowElements:ci,_fnCreateTr:hr,_fnBuildHead:bu,_fnDrawHead:bt,_fnDraw:rt,_fnReDraw:ut,_fnAddOptionsHtml:ku,_fnDetectHeader:kt,_fnGetUniqueThs:li,_fnFeatureHtmlFilter:tf,_fnFilterComplete:dt,_fnFilterCustom:rf,_fnFilterColumn:uf,_fnFilter:ff,_fnFilterCreateSearch:lr,_fnEscapeRegex:yi,_fnFilterData:ef,_fnFeatureHtmlInfo:hf,_fnUpdateInfo:cf,_fnInfoMacros:lf,_fnInitialise:gt,_fnInitComplete:pi,_fnLengthChange:ar,_fnFeatureHtmlLength:af,_fnFeatureHtmlPaginate:vf,_fnPageChange:vr,_fnFeatureHtmlProcessing:yf,_fnProcessingDisplay:w,_fnFeatureHtmlTable:pf,_fnScrollDraw:ni,_fnApplyToChildren:g,_fnCalculateColumnWidths:yr,_fnThrottle:wi,_fnConvertToWidth:wf,_fnScrollingWidthAdjust:bf,_fnGetWidestNode:kf,_fnGetMaxLenString:df,_fnStringToCss:e,_fnScrollBarWidth:gf,_fnSortFlatten:et,_fnSort:ne,_fnSortAria:te,_fnSortListener:pr,_fnSortAttachListener:wr,_fnSortingClasses:bi,_fnSortData:ie,_fnSaveState:ki,_fnLoadState:re,_fnSettingsFromNode:di,_fnLog:ot,_fnMap:k,_fnBindAction:br,_fnCallbackReg:v,_fnCallbackFire:h,_fnLengthOverflow:kr,_fnRenderer:dr,_fnDataSource:y,_fnRowAttributes:cr,_fnCalculateEnd:function(){}}),r.fn.dataTable=u,r.fn.dataTableSettings=u.settings,r.fn.dataTableExt=u.ext,r.fn.DataTable=function(n){return r(this).dataTable(n).api()},r.each(u,function(n,t){r.fn.DataTable[n]=t}),r.fn.dataTable};"function"==typeof define&&define.amd?define("datatables",["jquery"],r):"object"==typeof exports?module.exports=r(require("jquery")):jQuery&&!jQuery.fn.dataTable&&r(jQuery)})(window,document);
/**
* @version: 1.3.18
* @author: Dan Grossman http://www.dangrossman.info/
* @copyright: Copyright (c) 2012-2015 Dan Grossman. All rights reserved.
* @license: Licensed under the MIT license. See http://www.opensource.org/licenses/mit-license.php
* @website: https://www.improvely.com/
*/
(function(n,t){if(typeof define=="function"&&define.amd)define(["moment","jquery","exports"],function(i,r,u){n.daterangepicker=t(n,u,i,r)});else if(typeof exports!="undefined"){var r=require("moment"),i;try{i=require("jquery")}catch(u){if(i=window.jQuery,!i)throw new Error("jQuery dependency not found");}t(n,exports,r,i)}else n.daterangepicker=t(n,{},n.moment,n.jQuery||n.Zepto||n.ender||n.$)})(this,function(n,t,i,r){var u=function(n,t,i){var u,f;this.parentEl="body";this.element=r(n);this.isShowing=!1;u='<div class="daterangepicker dropdown-menu"><div class="calendar first left"><\/div><div class="calendar second right"><\/div><div class="ranges"><div class="range_inputs"><div class="daterangepicker_start_input"><label for="daterangepicker_start"><\/label><input class="input-mini" type="text" name="daterangepicker_start" value="" disabled /><\/div><div class="daterangepicker_end_input"><label for="daterangepicker_end"><\/label><input class="input-mini" type="text" name="daterangepicker_end" value="" disabled/><\/div><button class="applyBtn" disabled="disabled"><\/button>&nbsp;<button class="cancelBtn"><\/button><\/div><\/div><\/div>';(typeof t!="object"||t===null)&&(t={});this.parentEl=typeof t=="object"&&t.parentEl&&r(t.parentEl).length?r(t.parentEl):r(this.parentEl);this.container=r(u).appendTo(this.parentEl);this.setOptions(t,i);f=this.container;r.each(this.buttonClasses,function(n,t){f.find("button").addClass(t)});this.container.find(".daterangepicker_start_input label").html(this.locale.fromLabel);this.container.find(".daterangepicker_end_input label").html(this.locale.toLabel);this.applyClass.length&&this.container.find(".applyBtn").addClass(this.applyClass);this.cancelClass.length&&this.container.find(".cancelBtn").addClass(this.cancelClass);this.container.find(".applyBtn").html(this.locale.applyLabel);this.container.find(".cancelBtn").html(this.locale.cancelLabel);this.container.find(".calendar").on("click.daterangepicker",".prev",r.proxy(this.clickPrev,this)).on("click.daterangepicker",".next",r.proxy(this.clickNext,this)).on("click.daterangepicker","td.available",r.proxy(this.clickDate,this)).on("mouseenter.daterangepicker","td.available",r.proxy(this.hoverDate,this)).on("mouseleave.daterangepicker","td.available",r.proxy(this.updateFormInputs,this)).on("change.daterangepicker","select.yearselect",r.proxy(this.updateMonthYear,this)).on("change.daterangepicker","select.monthselect",r.proxy(this.updateMonthYear,this)).on("change.daterangepicker","select.hourselect,select.minuteselect,select.secondselect,select.ampmselect",r.proxy(this.updateTime,this));this.container.find(".ranges").on("click.daterangepicker","button.applyBtn",r.proxy(this.clickApply,this)).on("click.daterangepicker","button.cancelBtn",r.proxy(this.clickCancel,this)).on("click.daterangepicker",".daterangepicker_start_input,.daterangepicker_end_input",r.proxy(this.showCalendars,this)).on("change.daterangepicker",".daterangepicker_start_input,.daterangepicker_end_input",r.proxy(this.inputsChanged,this)).on("keydown.daterangepicker",".daterangepicker_start_input,.daterangepicker_end_input",r.proxy(this.inputsKeydown,this)).on("click.daterangepicker","li",r.proxy(this.clickRange,this)).on("mouseenter.daterangepicker","li",r.proxy(this.enterRange,this)).on("mouseleave.daterangepicker","li",r.proxy(this.updateFormInputs,this));if(this.element.is("input"))this.element.on({"click.daterangepicker":r.proxy(this.show,this),"focus.daterangepicker":r.proxy(this.show,this),"keyup.daterangepicker":r.proxy(this.updateFromControl,this)});else this.element.on("click.daterangepicker",r.proxy(this.toggle,this))};u.prototype={constructor:u,setOptions:function(n,t){var a,u,f,e,o,c,s,l,h;if(this.startDate=i().startOf("day"),this.endDate=i().endOf("day"),this.timeZone=i().utcOffset(),this.minDate=!1,this.maxDate=!1,this.dateLimit=!1,this.showDropdowns=!1,this.showWeekNumbers=!1,this.timePicker=!1,this.timePickerSeconds=!1,this.timePickerIncrement=30,this.timePicker12Hour=!0,this.singleDatePicker=!1,this.ranges={},this.opens="right",this.element.hasClass("pull-right")&&(this.opens="left"),this.buttonClasses=["btn","btn-small btn-sm"],this.applyClass="btn-success",this.cancelClass="btn-default",this.format="MM/DD/YYYY",this.separator=" - ",this.locale={applyLabel:"Apply",cancelLabel:"Cancel",fromLabel:"From",toLabel:"To",weekLabel:"W",customRangeLabel:"Custom Range",daysOfWeek:i.weekdaysMin(),monthNames:i.monthsShort(),firstDay:i.localeData()._week.dow},this.cb=function(){},typeof n.format=="string"&&(this.format=n.format),typeof n.separator=="string"&&(this.separator=n.separator),typeof n.startDate=="string"&&(this.startDate=i(n.startDate,this.format)),typeof n.endDate=="string"&&(this.endDate=i(n.endDate,this.format)),typeof n.minDate=="string"&&(this.minDate=i(n.minDate,this.format)),typeof n.maxDate=="string"&&(this.maxDate=i(n.maxDate,this.format)),typeof n.startDate=="object"&&(this.startDate=i(n.startDate)),typeof n.endDate=="object"&&(this.endDate=i(n.endDate)),typeof n.minDate=="object"&&(this.minDate=i(n.minDate)),typeof n.maxDate=="object"&&(this.maxDate=i(n.maxDate)),typeof n.applyClass=="string"&&(this.applyClass=n.applyClass),typeof n.cancelClass=="string"&&(this.cancelClass=n.cancelClass),typeof n.dateLimit=="object"&&(this.dateLimit=n.dateLimit),typeof n.locale=="object"&&(typeof n.locale.daysOfWeek=="object"&&(this.locale.daysOfWeek=n.locale.daysOfWeek.slice()),typeof n.locale.monthNames=="object"&&(this.locale.monthNames=n.locale.monthNames.slice()),typeof n.locale.firstDay=="number"&&(this.locale.firstDay=n.locale.firstDay),typeof n.locale.applyLabel=="string"&&(this.locale.applyLabel=n.locale.applyLabel),typeof n.locale.cancelLabel=="string"&&(this.locale.cancelLabel=n.locale.cancelLabel),typeof n.locale.fromLabel=="string"&&(this.locale.fromLabel=n.locale.fromLabel),typeof n.locale.toLabel=="string"&&(this.locale.toLabel=n.locale.toLabel),typeof n.locale.weekLabel=="string"&&(this.locale.weekLabel=n.locale.weekLabel),typeof n.locale.customRangeLabel=="string"&&(this.locale.customRangeLabel=n.locale.customRangeLabel)),typeof n.opens=="string"&&(this.opens=n.opens),typeof n.showWeekNumbers=="boolean"&&(this.showWeekNumbers=n.showWeekNumbers),typeof n.buttonClasses=="string"&&(this.buttonClasses=[n.buttonClasses]),typeof n.buttonClasses=="object"&&(this.buttonClasses=n.buttonClasses),typeof n.showDropdowns=="boolean"&&(this.showDropdowns=n.showDropdowns),typeof n.singleDatePicker=="boolean"&&(this.singleDatePicker=n.singleDatePicker,this.singleDatePicker&&(this.endDate=this.startDate.clone())),typeof n.timePicker=="boolean"&&(this.timePicker=n.timePicker),typeof n.timePickerSeconds=="boolean"&&(this.timePickerSeconds=n.timePickerSeconds),typeof n.timePickerIncrement=="number"&&(this.timePickerIncrement=n.timePickerIncrement),typeof n.timePicker12Hour=="boolean"&&(this.timePicker12Hour=n.timePicker12Hour),this.locale.firstDay!=0)for(a=this.locale.firstDay;a>0;)this.locale.daysOfWeek.push(this.locale.daysOfWeek.shift()),a--;if(typeof n.startDate=="undefined"&&typeof n.endDate=="undefined"&&r(this.element).is("input[type=text]")&&(o=r(this.element).val(),c=o.split(this.separator),u=f=null,c.length==2?(u=i(c[0],this.format),f=i(c[1],this.format)):this.singleDatePicker&&o!==""&&(u=i(o,this.format),f=i(o,this.format)),u!==null&&f!==null&&(this.startDate=u,this.endDate=f)),typeof n.timeZone=="string"||typeof n.timeZone=="number"?(this.timeZone=n.timeZone,this.startDate.utcOffset(this.timeZone),this.endDate.utcOffset(this.timeZone)):this.timeZone=i(this.startDate).utcOffset(),typeof n.ranges=="object"){for(e in n.ranges)(u=typeof n.ranges[e][0]=="string"?i(n.ranges[e][0],this.format):i(n.ranges[e][0]),f=typeof n.ranges[e][1]=="string"?i(n.ranges[e][1],this.format):i(n.ranges[e][1]),this.minDate&&u.isBefore(this.minDate)&&(u=i(this.minDate)),this.maxDate&&f.isAfter(this.maxDate)&&(f=i(this.maxDate)),this.minDate&&f.isBefore(this.minDate)||this.maxDate&&u.isAfter(this.maxDate))||(this.ranges[e]=[u,f]);s="<ul>";for(e in this.ranges)s+="<li>"+e+"<\/li>";s+="<li>"+this.locale.customRangeLabel+"<\/li>";s+="<\/ul>";this.container.find(".ranges ul").remove();this.container.find(".ranges").prepend(s)}typeof t=="function"&&(this.cb=t);this.timePicker||(this.startDate=this.startDate.startOf("day"),this.endDate=this.endDate.endOf("day"));this.singleDatePicker?(this.opens="right",this.container.addClass("single"),this.container.find(".calendar.right").show(),this.container.find(".calendar.left").hide(),this.timePicker?this.container.find(".ranges .daterangepicker_start_input, .ranges .daterangepicker_end_input").hide():this.container.find(".ranges").hide(),this.container.find(".calendar.right").hasClass("single")||this.container.find(".calendar.right").addClass("single")):(this.container.removeClass("single"),this.container.find(".calendar.right").removeClass("single"),this.container.find(".ranges").show());this.oldStartDate=this.startDate.clone();this.oldEndDate=this.endDate.clone();this.oldChosenLabel=this.chosenLabel;this.leftCalendar={month:i([this.startDate.year(),this.startDate.month(),1,this.startDate.hour(),this.startDate.minute(),this.startDate.second()]),calendar:[]};this.rightCalendar={month:i([this.endDate.year(),this.endDate.month(),1,this.endDate.hour(),this.endDate.minute(),this.endDate.second()]),calendar:[]};(this.opens=="right"||this.opens=="center")&&(l=this.container.find(".calendar.first"),h=this.container.find(".calendar.second"),h.hasClass("single")&&(h.removeClass("single"),l.addClass("single")),l.removeClass("left").addClass("right"),h.removeClass("right").addClass("left"),this.singleDatePicker&&(l.show(),h.hide()));typeof n.ranges!="undefined"||this.singleDatePicker||this.container.addClass("show-calendar");this.container.addClass("opens"+this.opens);this.updateView();this.updateCalendars()},setStartDate:function(n){typeof n=="string"&&(this.startDate=i(n,this.format).utcOffset(this.timeZone));typeof n=="object"&&(this.startDate=i(n));this.timePicker||(this.startDate=this.startDate.startOf("day"));this.oldStartDate=this.startDate.clone();this.updateView();this.updateCalendars();this.updateInputText()},setEndDate:function(n){typeof n=="string"&&(this.endDate=i(n,this.format).utcOffset(this.timeZone));typeof n=="object"&&(this.endDate=i(n));this.timePicker||(this.endDate=this.endDate.endOf("day"));this.oldEndDate=this.endDate.clone();this.updateView();this.updateCalendars();this.updateInputText()},updateView:function(){this.leftCalendar.month.month(this.startDate.month()).year(this.startDate.year()).hour(this.startDate.hour()).minute(this.startDate.minute());this.rightCalendar.month.month(this.endDate.month()).year(this.endDate.year()).hour(this.endDate.hour()).minute(this.endDate.minute());this.updateFormInputs()},updateFormInputs:function(){this.container.find("input[name=daterangepicker_start]").val(this.startDate.format(this.format));this.container.find("input[name=daterangepicker_end]").val(this.endDate.format(this.format));this.startDate.isSame(this.endDate)||this.startDate.isBefore(this.endDate)?this.container.find("button.applyBtn").removeAttr("disabled"):this.container.find("button.applyBtn").attr("disabled","disabled")},updateFromControl:function(){if(this.element.is("input")&&this.element.val().length){var r=this.element.val().split(this.separator),n=null,t=null;(r.length===2&&(n=i(r[0],this.format).utcOffset(this.timeZone),t=i(r[1],this.format).utcOffset(this.timeZone)),(this.singleDatePicker||n===null||t===null)&&(n=i(this.element.val(),this.format).utcOffset(this.timeZone),t=n),t.isBefore(n))||(this.oldStartDate=this.startDate.clone(),this.oldEndDate=this.endDate.clone(),this.startDate=n,this.endDate=t,this.startDate.isSame(this.oldStartDate)&&this.endDate.isSame(this.oldEndDate)||this.notify(),this.updateCalendars())}},notify:function(){this.updateView();this.cb(this.startDate,this.endDate,this.chosenLabel)},move:function(){var n={top:0,left:0},t=r(window).width();this.parentEl.is("body")||(n={top:this.parentEl.offset().top-this.parentEl.scrollTop(),left:this.parentEl.offset().left-this.parentEl.scrollLeft()},t=this.parentEl[0].clientWidth+this.parentEl.offset().left);this.opens=="left"?(this.container.css({top:this.element.offset().top+this.element.outerHeight()-n.top,right:t-this.element.offset().left-this.element.outerWidth(),left:"auto"}),this.container.offset().left<0&&this.container.css({right:"auto",left:9})):this.opens=="center"?(this.container.css({top:this.element.offset().top+this.element.outerHeight()-n.top,left:this.element.offset().left-n.left+this.element.outerWidth()/2-this.container.outerWidth()/2,right:"auto"}),this.container.offset().left<0&&this.container.css({right:"auto",left:9})):(this.container.css({top:this.element.offset().top+this.element.outerHeight()-n.top,left:this.element.offset().left-n.left,right:"auto"}),this.container.offset().left+this.container.outerWidth()>r(window).width()&&this.container.css({left:"auto",right:0}))},toggle:function(){this.element.hasClass("active")?this.hide():this.show()},show:function(){if(!this.isShowing){this.element.addClass("active");this.container.show();this.move();this._outsideClickProxy=r.proxy(function(n){this.outsideClick(n)},this);r(document).on("mousedown.daterangepicker",this._outsideClickProxy).on("touchend.daterangepicker",this._outsideClickProxy).on("click.daterangepicker","[data-toggle=dropdown]",this._outsideClickProxy).on("focusin.daterangepicker",this._outsideClickProxy);this.isShowing=!0;this.element.trigger("show.daterangepicker",this)}},outsideClick:function(n){var t=r(n.target);n.type=="focusin"||t.closest(this.element).length||t.closest(this.container).length||t.closest(".calendar-date").length||this.hide()},hide:function(){this.isShowing&&(r(document).off(".daterangepicker"),this.element.removeClass("active"),this.container.hide(),this.startDate.isSame(this.oldStartDate)&&this.endDate.isSame(this.oldEndDate)||this.notify(),this.oldStartDate=this.startDate.clone(),this.oldEndDate=this.endDate.clone(),this.isShowing=!1,this.element.trigger("hide.daterangepicker",this))},enterRange:function(n){var i=n.target.innerHTML,t;i==this.locale.customRangeLabel?this.updateView():(t=this.ranges[i],this.container.find("input[name=daterangepicker_start]").val(t[0].format(this.format)),this.container.find("input[name=daterangepicker_end]").val(t[1].format(this.format)))},showCalendars:function(){this.container.addClass("show-calendar");this.move();this.element.trigger("showCalendar.daterangepicker",this)},hideCalendars:function(){this.container.removeClass("show-calendar");this.element.trigger("hideCalendar.daterangepicker",this)},inputsChanged:function(n){var e=r(n.target),t=i(e.val(),this.format),u,f;t.isValid()&&(e.attr("name")==="daterangepicker_start"?(u=!1!==this.minDate&&t.isBefore(this.minDate)?this.minDate:t,f=this.endDate):(u=this.startDate,f=!1!==this.maxDate&&t.isAfter(this.maxDate)?this.maxDate:t),this.setCustomDates(u,f))},inputsKeydown:function(n){n.keyCode===13&&(this.inputsChanged(n),this.notify())},updateInputText:function(){this.element.is("input")&&!this.singleDatePicker?this.element.val(this.startDate.format(this.format)+this.separator+this.endDate.format(this.format)):this.element.is("input")&&this.element.val(this.endDate.format(this.format))},clickRange:function(n){var t=n.target.innerHTML,i;this.chosenLabel=t;t==this.locale.customRangeLabel?this.showCalendars():(i=this.ranges[t],this.startDate=i[0],this.endDate=i[1],this.timePicker||(this.startDate.startOf("day"),this.endDate.endOf("day")),this.leftCalendar.month.month(this.startDate.month()).year(this.startDate.year()).hour(this.startDate.hour()).minute(this.startDate.minute()),this.rightCalendar.month.month(this.endDate.month()).year(this.endDate.year()).hour(this.endDate.hour()).minute(this.endDate.minute()),this.updateCalendars(),this.updateInputText(),this.hideCalendars(),this.hide(),this.element.trigger("apply.daterangepicker",this))},clickPrev:function(n){var t=r(n.target).parents(".calendar");t.hasClass("left")?this.leftCalendar.month.subtract(1,"month"):this.rightCalendar.month.subtract(1,"month");this.updateCalendars()},clickNext:function(n){var t=r(n.target).parents(".calendar");t.hasClass("left")?this.leftCalendar.month.add(1,"month"):this.rightCalendar.month.add(1,"month");this.updateCalendars()},hoverDate:function(n){var t=r(n.target).attr("data-title"),i=t.substr(1,1),u=t.substr(3,1),f=r(n.target).parents(".calendar");f.hasClass("left")?this.container.find("input[name=daterangepicker_start]").val(this.leftCalendar.calendar[i][u].format(this.format)):this.container.find("input[name=daterangepicker_end]").val(this.rightCalendar.calendar[i][u].format(this.format))},setCustomDates:function(n,t){if(this.chosenLabel=this.locale.customRangeLabel,n.isAfter(t)){var r=this.endDate.diff(this.startDate);t=i(n).add(r,"ms");this.maxDate&&t.isAfter(this.maxDate)&&(t=this.maxDate)}this.startDate=n;this.endDate=t;this.updateView();this.updateCalendars()},clickDate:function(n){var s=r(n.target).attr("data-title"),h=s.substr(1,1),c=s.substr(3,1),f=r(n.target).parents(".calendar"),u,t,e,o;f.hasClass("left")?(u=this.leftCalendar.calendar[h][c],t=this.endDate,typeof this.dateLimit=="object"&&(e=i(u).add(this.dateLimit).startOf("day"),t.isAfter(e)&&(t=e))):(u=this.startDate,t=this.rightCalendar.calendar[h][c],typeof this.dateLimit=="object"&&(o=i(t).subtract(this.dateLimit).startOf("day"),u.isBefore(o)&&(u=o)));this.singleDatePicker&&f.hasClass("left")?t=u.clone():this.singleDatePicker&&f.hasClass("right")&&(u=t.clone());f.find("td").removeClass("active");r(n.target).addClass("active");this.setCustomDates(u,t);this.timePicker||t.endOf("day");this.singleDatePicker&&!this.timePicker&&this.clickApply()},clickApply:function(){this.updateInputText();this.hide();this.element.trigger("apply.daterangepicker",this)},clickCancel:function(){this.startDate=this.oldStartDate;this.endDate=this.oldEndDate;this.chosenLabel=this.oldChosenLabel;this.updateView();this.updateCalendars();this.hide();this.element.trigger("cancel.daterangepicker",this)},updateMonthYear:function(n){var u=r(n.target).closest(".calendar").hasClass("left"),f=u?"left":"right",e=this.container.find(".calendar."+f),i=parseInt(e.find(".monthselect").val(),10),t=e.find(".yearselect").val();u||(t<this.startDate.year()||t==this.startDate.year()&&i<this.startDate.month())&&(i=this.startDate.month(),t=this.startDate.year());this.minDate&&(t<this.minDate.year()||t==this.minDate.year()&&i<this.minDate.month())&&(i=this.minDate.month(),t=this.minDate.year());this.maxDate&&(t>this.maxDate.year()||t==this.maxDate.year()&&i>this.maxDate.month())&&(i=this.maxDate.month(),t=this.maxDate.year());this[f+"Calendar"].month.month(i).year(t);this.updateCalendars()},updateTime:function(n){var f=r(n.target).closest(".calendar"),h=f.hasClass("left"),t=parseInt(f.find(".hourselect").val(),10),o=parseInt(f.find(".minuteselect").val(),10),e=0,s,i,u;this.timePickerSeconds&&(e=parseInt(f.find(".secondselect").val(),10));this.timePicker12Hour&&(s=f.find(".ampmselect").val(),s==="PM"&&t<12&&(t+=12),s==="AM"&&t===12&&(t=0));h?(i=this.startDate.clone(),i.hour(t),i.minute(o),i.second(e),this.startDate=i,this.leftCalendar.month.hour(t).minute(o).second(e),this.singleDatePicker&&(this.endDate=i.clone())):(u=this.endDate.clone(),u.hour(t),u.minute(o),u.second(e),this.endDate=u,this.singleDatePicker&&(this.startDate=u.clone()),this.rightCalendar.month.hour(t).minute(o).second(e));this.updateView();this.updateCalendars()},updateCalendars:function(){var t,i,n;this.leftCalendar.calendar=this.buildCalendar(this.leftCalendar.month.month(),this.leftCalendar.month.year(),this.leftCalendar.month.hour(),this.leftCalendar.month.minute(),this.leftCalendar.month.second(),"left");this.rightCalendar.calendar=this.buildCalendar(this.rightCalendar.month.month(),this.rightCalendar.month.year(),this.rightCalendar.month.hour(),this.rightCalendar.month.minute(),this.rightCalendar.month.second(),"right");this.container.find(".calendar.left").empty().html(this.renderCalendar(this.leftCalendar.calendar,this.startDate,this.minDate,this.maxDate,"left"));this.container.find(".calendar.right").empty().html(this.renderCalendar(this.rightCalendar.calendar,this.endDate,this.singleDatePicker?this.minDate:this.startDate,this.maxDate,"right"));this.container.find(".ranges li").removeClass("active");t=!0;i=0;for(n in this.ranges)this.timePicker?this.startDate.isSame(this.ranges[n][0])&&this.endDate.isSame(this.ranges[n][1])&&(t=!1,this.chosenLabel=this.container.find(".ranges li:eq("+i+")").addClass("active").html()):this.startDate.format("YYYY-MM-DD")==this.ranges[n][0].format("YYYY-MM-DD")&&this.endDate.format("YYYY-MM-DD")==this.ranges[n][1].format("YYYY-MM-DD")&&(t=!1,this.chosenLabel=this.container.find(".ranges li:eq("+i+")").addClass("active").html()),i++;t&&(this.chosenLabel=this.container.find(".ranges li:last").addClass("active").html(),this.showCalendars())},buildCalendar:function(n,t,r,u,f,e){var k=i([t,n]).daysInMonth(),v=i([t,n,1]),d=i([t,n,k]),p=i(v).subtract(1,"month").month(),w=i(v).subtract(1,"month").year(),y=i([w,p]).daysInMonth(),b=v.day(),c,o=[],l,a,s,h;for(o.firstDay=v,o.lastDay=d,c=0;c<6;c++)o[c]=[];for(l=y-b+this.locale.firstDay+1,l>y&&(l-=7),b==this.locale.firstDay&&(l=y-6),a=i([w,p,l,12,u,f]).utcOffset(this.timeZone),c=0,s=0,h=0;c<42;c++,s++,a=i(a).add(24,"hour"))c>0&&s%7==0&&(s=0,h++),o[h][s]=a.clone().hour(r),a.hour(12),this.minDate&&o[h][s].format("YYYY-MM-DD")==this.minDate.format("YYYY-MM-DD")&&o[h][s].isBefore(this.minDate)&&e=="left"&&(o[h][s]=this.minDate.clone()),this.maxDate&&o[h][s].format("YYYY-MM-DD")==this.maxDate.format("YYYY-MM-DD")&&o[h][s].isAfter(this.maxDate)&&e=="right"&&(o[h][s]=this.maxDate.clone());return o},renderDropdowns:function(n,t,i){for(var e,u,c=n.month(),f=n.year(),s=i&&i.year()||f+5,h=t&&t.year()||f-50,o='<select class="monthselect">',l=f==h,a=f==s,r=0;r<12;r++)(!l||r>=t.month())&&(!a||r<=i.month())&&(o+="<option value='"+r+"'"+(r===c?" selected='selected'":"")+">"+this.locale.monthNames[r]+"<\/option>");for(o+="<\/select>",e='<select class="yearselect">',u=h;u<=s;u++)e+='<option value="'+u+'"'+(u===f?' selected="selected"':"")+">"+u+"<\/option>";return e+="<\/select>",o+e},renderCalendar:function(n,t,i,u,f){var e='<div class="calendar-date">',d,s,h,l,g,o,a,v,p,w,c,b,k;for(e+='<table class="table-condensed">',e+="<thead>",e+="<tr>",this.showWeekNumbers&&(e+="<th><\/th>"),e+=!i||i.isBefore(n.firstDay)?'<th class="prev available"><i class="fa fa-arrow-left icon icon-arrow-left glyphicon glyphicon-arrow-left"><\/i><\/th>':"<th><\/th>",d=this.locale.monthNames[n[1][1].month()]+n[1][1].format(" YYYY"),this.showDropdowns&&(d=this.renderDropdowns(n[1][1],i,u)),e+='<th colspan="5" class="month">'+d+"<\/th>",e+=!u||u.isAfter(n.lastDay)?'<th class="next available"><i class="fa fa-arrow-right icon icon-arrow-right glyphicon glyphicon-arrow-right"><\/i><\/th>':"<th><\/th>",e+="<\/tr>",e+="<tr>",this.showWeekNumbers&&(e+='<th class="week">'+this.locale.weekLabel+"<\/th>"),r.each(this.locale.daysOfWeek,function(n,t){e+="<th>"+t+"<\/th>"}),e+="<\/tr>",e+="<\/thead>",e+="<tbody>",s=0;s<6;s++){for(e+="<tr>",this.showWeekNumbers&&(e+='<td class="week">'+n[s][0].week()+"<\/td>"),h=0;h<7;h++)l="available ",l+=n[s][h].month()==n[1][1].month()?"":"off",i&&n[s][h].isBefore(i,"day")||u&&n[s][h].isAfter(u,"day")?l=" off disabled ":n[s][h].format("YYYY-MM-DD")==t.format("YYYY-MM-DD")?(l+=" active ",n[s][h].format("YYYY-MM-DD")==this.startDate.format("YYYY-MM-DD")&&(l+=" start-date "),n[s][h].format("YYYY-MM-DD")==this.endDate.format("YYYY-MM-DD")&&(l+=" end-date ")):n[s][h]>=this.startDate&&n[s][h]<=this.endDate&&(l+=" in-range ",n[s][h].isSame(this.startDate)&&(l+=" start-date "),n[s][h].isSame(this.endDate)&&(l+=" end-date ")),g="r"+s+"c"+h,e+='<td class="'+l.replace(/\s+/g," ").replace(/^\s?(.*?)\s?$/,"$1")+'" data-title="'+g+'">'+n[s][h].date()+"<\/td>";e+="<\/tr>"}if(e+="<\/tbody>",e+="<\/table>",e+="<\/div>",this.timePicker){e+='<div class="calendar-time">';e+='<select class="hourselect">';a=0;v=23;i&&(f=="left"||this.singleDatePicker)&&t.format("YYYY-MM-DD")==i.format("YYYY-MM-DD")&&(a=i.hour(),t.hour()<a&&t.hour(a),this.timePicker12Hour&&a>=12&&t.hour()>=12&&(a-=12),this.timePicker12Hour&&a==12&&(a=1));u&&(f=="right"||this.singleDatePicker)&&t.format("YYYY-MM-DD")==u.format("YYYY-MM-DD")&&(v=u.hour(),t.hour()>v&&t.hour(v),this.timePicker12Hour&&v>=12&&t.hour()>=12&&(v-=12));var nt=0,tt=23,y=t.hour();for(this.timePicker12Hour&&(nt=1,tt=12,y>=12&&(y-=12),y===0&&(y=12)),o=nt;o<=tt;o++)e+=o==y?'<option value="'+o+'" selected="selected">'+o+"<\/option>":o<a||o>v?'<option value="'+o+'" disabled="disabled" class="disabled">'+o+"<\/option>":'<option value="'+o+'">'+o+"<\/option>";for(e+="<\/select> : ",e+='<select class="minuteselect">',p=0,w=59,i&&(f=="left"||this.singleDatePicker)&&t.format("YYYY-MM-DD h A")==i.format("YYYY-MM-DD h A")&&(p=i.minute(),t.minute()<p&&t.minute(p)),u&&(f=="right"||this.singleDatePicker)&&t.format("YYYY-MM-DD h A")==u.format("YYYY-MM-DD h A")&&(w=u.minute(),t.minute()>w&&t.minute(w)),o=0;o<60;o+=this.timePickerIncrement)c=o,c<10&&(c="0"+c),e+=o==t.minute()?'<option value="'+o+'" selected="selected">'+c+"<\/option>":o<p||o>w?'<option value="'+o+'" disabled="disabled" class="disabled">'+c+"<\/option>":'<option value="'+o+'">'+c+"<\/option>";if(e+="<\/select> ",this.timePickerSeconds){for(e+=': <select class="secondselect">',o=0;o<60;o+=this.timePickerIncrement)c=o,c<10&&(c="0"+c),e+=o==t.second()?'<option value="'+o+'" selected="selected">'+c+"<\/option>":'<option value="'+o+'">'+c+"<\/option>";e+="<\/select>"}this.timePicker12Hour&&(e+='<select class="ampmselect">',b="",k="",i&&(f=="left"||this.singleDatePicker)&&t.format("YYYY-MM-DD")==i.format("YYYY-MM-DD")&&i.hour()>=12&&(b=' disabled="disabled" class="disabled"'),u&&(f=="right"||this.singleDatePicker)&&t.format("YYYY-MM-DD")==u.format("YYYY-MM-DD")&&u.hour()<12&&(k=' disabled="disabled" class="disabled"'),e+=t.hour()>=12?'<option value="AM"'+b+'>AM<\/option><option value="PM" selected="selected"'+k+">PM<\/option>":'<option value="AM" selected="selected"'+b+'>AM<\/option><option value="PM"'+k+">PM<\/option>",e+="<\/select>");e+="<\/div>"}return e},remove:function(){this.container.remove();this.element.off(".daterangepicker");this.element.removeData("daterangepicker")}};r.fn.daterangepicker=function(n,t){return this.each(function(){var i=r(this);i.data("daterangepicker")&&i.data("daterangepicker").remove();i.data("daterangepicker",new u(i,n,t))}),this}}),function(){var n;n=angular.module("daterangepicker",[]);n.value("dateRangePickerConfig",{separator:" - ",format:"DD/MM/YYYY"});n.directive("dateRangePicker",["$compile","$timeout","$parse","dateRangePickerConfig",function(t,i,r,u){return{require:"ngModel",restrict:"A",scope:{dateMin:"=min",dateMax:"=max",opts:"=options"},link:function(t,f,e,o){var v,h,s,y,p,c,l,a;return h=$(f),v=r(e.dateRangePicker)(t,{}),s=angular.extend({},u,v),y=function(n){var t;return t=function(n){return moment.isMoment(n)?n.format(s.format):moment(n).format(s.format)},s.singleDatePicker?t(n.startDate):[t(n.startDate),t(n.endDate)].join(s.separator)},a=function(n,t){var i;return n=moment(n),t=moment(t),i=n.isBefore(t)||n.isSame(t,"day"),o.$setValidity("min",i),i},l=function(n,t){var i;return n=moment(n),t=moment(t),i=n.isAfter(t)||n.isSame(t,"day"),o.$setValidity("max",i),i},o.$formatters.push(function(t){return t&&t.startDate&&t.endDate?(n=p(),n.setStartDate(t.startDate),n.setEndDate(t.endDate),t):""}),o.$parsers.push(function(n){return!angular.isObject(n)||!(n.hasOwnProperty("startDate")&&n.hasOwnProperty("endDate"))?o.$modelValue:(t.dateMin&&n.startDate?a(t.dateMin,n.startDate):o.$setValidity("min",!0),t.dateMax&&n.endDate?l(t.dateMax,n.endDate):o.$setValidity("max",!0),n)}),o.$isEmpty=function(n){return!n||n.startDate===null||n.endDate===null},o.$render=function(){return o.$modelValue?o.$modelValue.startDate===null?h.val(""):h.val(y(o.$modelValue)):h.val("")},c=function(){return h.daterangepicker(s,function(n,r){return i(function(){return t.$apply(function(){return o.$setViewValue({startDate:n.toDate(),endDate:r.toDate()}),o.$render()})})})},p=function(){return h.data("daterangepicker")},c(),h.change(function(){if($.trim(h.val())==="")return i(function(){return t.$apply(function(){return o.$setViewValue({startDate:null,endDate:null})})})}),e.min&&t.$watch("dateMin",function(n){return n?(o.$isEmpty(o.$modelValue)||a(n,o.$modelValue.startDate),s.minDate=moment(n)):s.minDate=!1,c()}),e.max&&t.$watch("dateMax",function(n){return n?(o.$isEmpty(o.$modelValue)||l(n,o.$modelValue.endDate),s.maxDate=moment(n)):s.maxDate=!1,c()}),e.options&&t.$watch("opts",function(n){return s=angular.extend(s,n),c()}),t.$on("$destroy",function(){return h.data("daterangepicker").remove()})}}}])}.call(this);
/**
 * @license AngularJS v1.3.14
 * (c) 2010-2014 Google, Inc. http://angularjs.org
 * License: MIT
 */
(function(n,t,i){"use strict";function e(n){return n!=null&&n!==""&&n!=="hasOwnProperty"&&f.test("."+n)}function o(n,t){var f,u,o,s;if(!e(t))throw r("badmember",'Dotted member path "@{0}" is invalid.',t);for(f=t.split("."),u=0,o=f.length;u<o&&n!==i;u++)s=f[u],n=n!==null?n[s]:i;return n}function u(n,i){i=i||{};t.forEach(i,function(n,t){delete i[t]});for(var r in n)!n.hasOwnProperty(r)||r.charAt(0)==="$"&&r.charAt(1)==="$"||(i[r]=n[r]);return i}var r=t.$$minErr("$resource"),f=/^(\.[a-zA-Z_$][0-9a-zA-Z_$]*)+$/;t.module("ngResource",["ng"]).provider("$resource",function(){var n=this;this.defaults={stripTrailingSlashes:!0,actions:{get:{method:"GET"},save:{method:"POST"},query:{method:"GET",isArray:!0},remove:{method:"DELETE"},"delete":{method:"DELETE"}}};this.$get=["$http","$q",function(f,e){function p(n){return w(n,!0).replace(/%26/gi,"&").replace(/%3D/gi,"=").replace(/%2B/gi,"+")}function w(n,t){return encodeURIComponent(n).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,t?"%20":"+")}function a(t,i){this.template=t;this.defaults=h({},n.defaults,i);this.urlParams={}}function v(p,w,b,k){function nt(n,t){var i={};return t=h({},w,t),s(t,function(t,r){c(t)&&(t=t());i[r]=t&&t.charAt&&t.charAt(0)=="@"?o(n,t.substr(1)):t}),i}function tt(n){return n.resource}function d(n){u(n||{},this)}var g=new a(p,k);return b=h({},n.defaults.actions,b),d.prototype.toJSON=function(){var n=h({},this);return delete n.$promise,delete n.$resolved,n},s(b,function(n,o){var a=/^(POST|PUT|PATCH)$/i.test(n.method);d[o]=function(v,p,w,b){var ot={},it,rt,ft,ut;switch(arguments.length){case 4:ft=b;rt=w;case 3:case 2:if(c(p)){if(c(v)){rt=v;ft=p;break}rt=p;ft=w}else{ot=v;it=p;rt=w;break}case 1:c(v)?rt=v:a?it=v:ot=v;break;case 0:break;default:throw r("badargs","Expected up to 4 arguments [params, data, success, error], got {0} arguments",arguments.length);}var st=this instanceof d,k=st?it:n.isArray?[]:new d(it),et={},ht=n.interceptor&&n.interceptor.response||tt,ct=n.interceptor&&n.interceptor.responseError||i;return(s(n,function(n,t){t!="params"&&t!="isArray"&&t!="interceptor"&&(et[t]=y(n))}),a&&(et.data=it),g.setUrlParams(et,h({},nt(it,n.params||{}),ot),n.url),ut=f(et).then(function(i){var f=i.data,e=k.$promise;if(f){if(t.isArray(f)!==!!n.isArray)throw r("badcfg","Error in resource configuration for action `{0}`. Expected response to contain an {1} but got an {2}",o,n.isArray?"array":"object",t.isArray(f)?"array":"object");n.isArray?(k.length=0,s(f,function(n){typeof n=="object"?k.push(new d(n)):k.push(n)})):(u(f,k),k.$promise=e)}return k.$resolved=!0,i.resource=k,i},function(n){return k.$resolved=!0,(ft||l)(n),e.reject(n)}),ut=ut.then(function(n){var t=ht(n);return(rt||l)(t,n.headers),t},ct),!st)?(k.$promise=ut,k.$resolved=!1,k):ut};d.prototype["$"+o]=function(n,t,i){c(n)&&(i=t,t=n,n={});var r=d[o].call(this,n,this,t,i);return r.$promise||r}}),d.bind=function(n){return v(p,h({},w,n),b)},d}var l=t.noop,s=t.forEach,h=t.extend,y=t.copy,c=t.isFunction;return a.prototype={setUrlParams:function(n,i,u){var e=this,f=u||e.template,o,h,c=e.urlParams={};s(f.split(/\W/),function(n){if(n==="hasOwnProperty")throw r("badname","hasOwnProperty is not a valid parameter name.");!new RegExp("^\\d+$").test(n)&&n&&new RegExp("(^|[^\\\\]):"+n+"(\\W|$)").test(f)&&(c[n]=!0)});f=f.replace(/\\:/g,":");i=i||{};s(e.urlParams,function(n,r){o=i.hasOwnProperty(r)?i[r]:e.defaults[r];t.isDefined(o)&&o!==null?(h=p(o),f=f.replace(new RegExp(":"+r+"(\\W|$)","g"),function(n,t){return h+t})):f=f.replace(new RegExp("(/?):"+r+"(\\W|$)","g"),function(n,t,i){return i.charAt(0)=="/"?i:t+i})});e.defaults.stripTrailingSlashes&&(f=f.replace(/\/+$/,"")||"/");f=f.replace(/\/\.(?=\w+($|\?))/,".");n.url=f.replace(/\/\\\./,"/.");s(i,function(t,i){e.urlParams[i]||(n.params=n.params||{},n.params[i]=t)})}},v}]})})(window,window.angular),function(){"use strict";angular.module("ngBackstretch",[]).directive("ngBackstretch",[function(){if(typeof $.fn.backstretch!="function")throw new Error("ngBackstretch | Please make sure the jquery backstretch plugin is included before this directive is added.");return{restrict:"E",scope:{configuration:"="},link:function(n,t){console.log("Backstretch directive");var i=n.configuration.images||[],r=n.configuration.options||{};if(i.length==0)throw new Error("myBackstretch | You have not declared an image to be stretched.");if(t.context.toString().match(/HTMLBodyElement/gi)||r.bodyBackground)return $.backstretch(i,r);$(t).backstretch(i,r)}}}])}.call(this),function(n){"use strict";function p(n,i,r,u){n.beginPath();n.arc(i,r,u,0,t,!1);n.fill()}function r(n,t,i,r,u){n.beginPath();n.moveTo(t,i);n.lineTo(r,u);n.stroke()}function w(n,i,r,u,f,e,o,s){var h=Math.cos(i*t),c=Math.sin(i*t);s-=o;p(n,r-c*f,u+h*e+s*.5,o+(1-h*.5)*s)}function f(n,t,i,r,u,f,e,o){for(var s=5;s--;)w(n,t+s/5,i,r,u,f,e,o)}function u(n,t,i,r,u,e,o){t/=3e4;var s=u*.21,h=u*.12,c=u*.24,l=u*.28;n.fillStyle=o;f(n,t,i,r,s,h,c,l);n.globalCompositeOperation="destination-out";f(n,t,i,r,s,h,c-e,l-e);n.globalCompositeOperation="source-over"}function l(n,i,u,f,e,o,s){i/=12e4;var p=e*.25-o*.5,v=e*.32+o*.5,y=e*.5-o*.5,h,c,l,a;for(n.strokeStyle=s,n.lineWidth=o,n.lineCap="round",n.lineJoin="round",n.beginPath(),n.arc(u,f,p,0,t,!1),n.stroke(),h=8;h--;)c=(i+h/8)*t,l=Math.cos(c),a=Math.sin(c),r(n,u+l*v,f+a*v,u+l*y,f+a*y)}function a(n,i,r,u,f,e,o){i/=15e3;var h=f*.29-e*.5,a=f*.05,l=Math.cos(i*t),s=l*t/-16;n.strokeStyle=o;n.lineWidth=e;n.lineCap="round";n.lineJoin="round";r+=l*a;n.beginPath();n.arc(r,u,h,s+t/8,s+t*7/8,!1);n.arc(r+Math.cos(s)*h*c,u+Math.sin(s)*h*c,h,s+t*5/8,s+t*3/8,!0);n.closePath();n.stroke()}function b(n,i,r,u,f,e,o){i/=1350;var a=f*.16,v=t*11/12,y=t*7/12,s,h,c,l;for(n.fillStyle=o,s=4;s--;)h=(i+s/4)%1,c=r+(s-1.5)/1.5*(s===1||s===2?-1:1)*a,l=u+h*h*f,n.beginPath(),n.moveTo(c,l-e*1.5),n.arc(c,l,e*.75,v,y,!1),n.fill()}function k(n,i,u,f,e,o,s){i/=750;var v=e*.1875,y=t*11/12,p=t*7/12,h,a,c,l;for(n.strokeStyle=s,n.lineWidth=o*.5,n.lineCap="round",n.lineJoin="round",h=4;h--;)a=(i+h/4)%1,c=Math.floor(u+(h-1.5)/1.5*(h===1||h===2?-1:1)*v)+.5,l=f+a*e,r(n,c,l-o*1.5,c,l+o*1.5)}function d(n,i,u,f,e,o,s){i/=3e3;var it=e*.16,l=o*.75,a=i*t*.7,p=Math.cos(a)*l,w=Math.sin(a)*l,b=a+t/3,k=Math.cos(b)*l,d=Math.sin(b)*l,g=a+t*2/3,nt=Math.cos(g)*l,tt=Math.sin(g)*l,v,y,h,c;for(n.strokeStyle=s,n.lineWidth=o*.5,n.lineCap="round",n.lineJoin="round",v=4;v--;)y=(i+v/4)%1,h=u+Math.sin((y+v/4)*t)*it,c=f+y*e,r(n,h-p,c-w,h+p,c+w),r(n,h-k,c-d,h+k,c+d),r(n,h-nt,c-tt,h+nt,c+tt)}function g(n,t,i,r,u,e,o){t/=3e4;var s=u*.21,h=u*.06,c=u*.21,l=u*.28;n.fillStyle=o;f(n,t,i,r,s,h,c,l);n.globalCompositeOperation="destination-out";f(n,t,i,r,s,h,c-e,l-e);n.globalCompositeOperation="source-over"}function nt(n,i,r,u,f,e,o){var l=f/8,h=l/3,c=2*h,s=i%1*t,a=Math.cos(s),v=Math.sin(s);n.fillStyle=o;n.strokeStyle=o;n.lineWidth=e;n.lineCap="round";n.lineJoin="round";n.beginPath();n.arc(r,u,l,s,s+Math.PI,!1);n.arc(r-h*a,u-h*v,c,s+Math.PI,s,!1);n.arc(r+c*a,u+c*v,h,s+Math.PI,s,!0);n.globalCompositeOperation="destination-out";n.fill();n.globalCompositeOperation="source-over";n.stroke()}function y(n,t,i,r,u,f,e,o,h){t/=2500;var c=v[e],w=(t+e-s[e].start)%o,a=(t+e-s[e].end)%o,b=(t+e)%o,p,l,k,y;if(n.strokeStyle=h,n.lineWidth=f,n.lineCap="round",n.lineJoin="round",w<1){if(n.beginPath(),w*=c.length/2-1,p=Math.floor(w),w-=p,p*=2,p+=2,n.moveTo(i+(c[p-2]*(1-w)+c[p]*w)*u,r+(c[p-1]*(1-w)+c[p+1]*w)*u),a<1){for(a*=c.length/2-1,l=Math.floor(a),a-=l,l*=2,l+=2,y=p;y!==l;y+=2)n.lineTo(i+c[y]*u,r+c[y+1]*u);n.lineTo(i+(c[l-2]*(1-a)+c[l]*a)*u,r+(c[l-1]*(1-a)+c[l+1]*a)*u)}else for(y=p;y!==c.length;y+=2)n.lineTo(i+c[y]*u,r+c[y+1]*u);n.stroke()}else if(a<1){for(n.beginPath(),a*=c.length/2-1,l=Math.floor(a),a-=l,l*=2,l+=2,n.moveTo(i+c[0]*u,r+c[1]*u),y=2;y!==l;y+=2)n.lineTo(i+c[y]*u,r+c[y+1]*u);n.lineTo(i+(c[l-2]*(1-a)+c[l]*a)*u,r+(c[l-1]*(1-a)+c[l+1]*a)*u);n.stroke()}b<1&&(b*=c.length/2-1,k=Math.floor(b),b-=k,k*=2,k+=2,nt(n,t,i+(c[k-2]*(1-b)+c[k]*b)*u,r+(c[k-1]*(1-b)+c[k+1]*b)*u,u,f,h))}var e,o,v,s;(function(){var t=n.requestAnimationFrame||n.webkitRequestAnimationFrame||n.mozRequestAnimationFrame||n.oRequestAnimationFrame||n.msRequestAnimationFrame,i=n.cancelAnimationFrame||n.webkitCancelAnimationFrame||n.mozCancelAnimationFrame||n.oCancelAnimationFrame||n.msCancelAnimationFrame;t&&i?(e=function(n){function r(){i.value=t(r);n()}var i={value:null};return r(),i},o=function(n){i(n.value)}):(e=setInterval,o=clearInterval)})();var h=500,i=.08,t=2*Math.PI,c=2/Math.sqrt(2);v=[[-.75,-.18,-.7219,-.1527,-.6971,-.1225,-.6739,-.091,-.6516,-.0588,-.6298,-.0262,-.6083,.0065,-.5868,.0396,-.5643,.0731,-.5372,.1041,-.5033,.1259,-.4662,.1406,-.4275,.1493,-.3881,.153,-.3487,.1526,-.3095,.1488,-.2708,.1421,-.2319,.1342,-.1943,.1217,-.16,.1025,-.129,.0785,-.1012,.0509,-.0764,.0206,-.0547,-.012,-.0378,-.0472,-.0324,-.0857,-.0389,-.1241,-.0546,-.1599,-.0814,-.1876,-.1193,-.1964,-.1582,-.1935,-.1931,-.1769,-.2157,-.1453,-.229,-.1085,-.2327,-.0697,-.224,-.0317,-.2064,.0033,-.1853,.0362,-.1613,.0672,-.135,.0961,-.1051,.1213,-.0706,.1397,-.0332,.1512,.0053,.158,.0442,.1624,.0833,.1636,.1224,.1615,.1613,.1565,.1999,.15,.2378,.1402,.2749,.1279,.3118,.1147,.3487,.1015,.3858,.0892,.4236,.0787,.4621,.0715,.5012,.0702,.5398,.0766,.5768,.089,.6123,.1055,.6466,.1244,.6805,.144,.7147,.163,.75,.18],[-.75,0,-.7033,.0195,-.6569,.0399,-.6104,.06,-.5634,.0789,-.5155,.0954,-.4667,.1089,-.4174,.1206,-.3676,.1299,-.3174,.1365,-.2669,.1398,-.2162,.1391,-.1658,.1347,-.1157,.1271,-.0661,.1169,-.017,.1046,.0316,.0903,.0791,.0728,.1259,.0534,.1723,.0331,.2188,.0129,.2656,-.0064,.3122,-.0263,.3586,-.0466,.4052,-.0665,.4525,-.0847,.5007,-.1002,.5497,-.113,.5991,-.124,.6491,-.1325,.6994,-.138,.75,-.14]];s=[{start:.36,end:.11},{start:.56,end:.16}];Skycons=function(n){this.list=[];this.interval=null;this.color=n&&n.color?n.color:"black";this.resizeClear=!!(n&&n.resizeClear)};Skycons.CLEAR_DAY=function(n,t,r){var u=n.canvas.width,f=n.canvas.height,e=Math.min(u,f);l(n,t,u*.5,f*.5,e,e*i,r)};Skycons.CLEAR_NIGHT=function(n,t,r){var u=n.canvas.width,f=n.canvas.height,e=Math.min(u,f);a(n,t,u*.5,f*.5,e,e*i,r)};Skycons.PARTLY_CLOUDY_DAY=function(n,t,r){var e=n.canvas.width,o=n.canvas.height,f=Math.min(e,o);l(n,t,e*.625,o*.375,f*.75,f*i,r);u(n,t,e*.375,o*.625,f*.75,f*i,r)};Skycons.PARTLY_CLOUDY_NIGHT=function(n,t,r){var e=n.canvas.width,o=n.canvas.height,f=Math.min(e,o);a(n,t,e*.667,o*.375,f*.75,f*i,r);u(n,t,e*.375,o*.625,f*.75,f*i,r)};Skycons.CLOUDY=function(n,t,r){var f=n.canvas.width,e=n.canvas.height,o=Math.min(f,e);u(n,t,f*.5,e*.5,o,o*i,r)};Skycons.RAIN=function(n,t,r){var e=n.canvas.width,o=n.canvas.height,f=Math.min(e,o);b(n,t,e*.5,o*.37,f*.9,f*i,r);u(n,t,e*.5,o*.37,f*.9,f*i,r)};Skycons.SLEET=function(n,t,r){var e=n.canvas.width,o=n.canvas.height,f=Math.min(e,o);k(n,t,e*.5,o*.37,f*.9,f*i,r);u(n,t,e*.5,o*.37,f*.9,f*i,r)};Skycons.SNOW=function(n,t,r){var e=n.canvas.width,o=n.canvas.height,f=Math.min(e,o);d(n,t,e*.5,o*.37,f*.9,f*i,r);u(n,t,e*.5,o*.37,f*.9,f*i,r)};Skycons.WIND=function(n,t,r){var f=n.canvas.width,e=n.canvas.height,u=Math.min(f,e);y(n,t,f*.5,e*.5,u,u*i,0,2,r);y(n,t,f*.5,e*.5,u,u*i,1,2,r)};Skycons.FOG=function(n,u,f){var o=n.canvas.width,h=n.canvas.height,s=Math.min(o,h),e=s*i;g(n,u,o*.5,h*.32,s*.75,e,f);u/=5e3;var v=Math.cos(u*t)*s*.02,y=Math.cos((u+.25)*t)*s*.02,p=Math.cos((u+.5)*t)*s*.02,w=Math.cos((u+.75)*t)*s*.02,c=h*.936,l=Math.floor(c-e*.5)+.5,a=Math.floor(c-e*2.5)+.5;n.strokeStyle=f;n.lineWidth=e;n.lineCap="round";n.lineJoin="round";r(n,v+o*.2+e*.5,l,y+o*.8-e*.5,l);r(n,p+o*.2+e*.5,a,w+o*.8-e*.5,a)};Skycons.prototype={add:function(n,t){var i;typeof n=="string"&&(n=document.getElementById(n));i={element:n,context:n.getContext("2d"),drawing:t};this.list.push(i);this.draw(i,h)},set:function(n,t){var i;for(typeof n=="string"&&(n=document.getElementById(n)),i=this.list.length;i--;)if(this.list[i].element===n){this.list[i].drawing=t;this.draw(this.list[i],h);return}this.add(n,t)},remove:function(n){var t;for(typeof n=="string"&&(n=document.getElementById(n)),t=this.list.length;t--;)if(this.list[t].element===n){this.list.splice(t,1);return}},draw:function(n,t){var i=n.context.canvas;this.resizeClear?i.width=i.width:n.context.clearRect(0,0,i.width,i.height);n.drawing(n.context,t,this.color)},play:function(){var n=this;this.pause();this.interval=e(function(){for(var i=Date.now(),t=n.list.length;t--;)n.draw(n.list[t],i)},1e3/60)},pause:function(){this.interval&&(o(this.interval),this.interval=null)}}}(this);!function(n){"use strict";function y(n,i,r,u){n.beginPath();n.arc(i,r,u,0,t,!1);n.fill()}function r(n,t,i,r,u){n.beginPath();n.moveTo(t,i);n.lineTo(r,u);n.stroke()}function p(n,i,r,u,f,e,o,s){var h=Math.cos(i*t),c=Math.sin(i*t);s-=o;y(n,r-c*f,u+h*e+.5*s,o+(1-.5*h)*s)}function f(n,t,i,r,u,f,e,o){for(var s=5;s--;)p(n,t+s/5,i,r,u,f,e,o)}function u(n,t,i,r,u,e,o){t/=3e4;var s=.21*u,h=.12*u,c=.24*u,l=.28*u;n.fillStyle=o;f(n,t,i,r,s,h,c,l);n.globalCompositeOperation="destination-out";f(n,t,i,r,s,h,c-e,l-e);n.globalCompositeOperation="source-over"}function s(n,i,u,f,e,o,s){i/=12e4;var h,c,l,a,p=.25*e-.5*o,v=.32*e+.5*o,y=.5*e-.5*o;for(n.strokeStyle=s,n.lineWidth=o,n.lineCap="round",n.beginPath(),n.arc(u,f,p,0,t,!1),n.stroke(),h=8;h--;)c=(i+h/8)*t,l=Math.cos(c),a=Math.sin(c),r(n,u+l*v,f+a*v,u+l*y,f+a*y)}function h(n,i,r,u,f,e,o){i/=15e3;var h=.29*f-.5*e,l=.05*f,c=Math.cos(i*t),s=c*t/-16;n.strokeStyle=o;n.lineWidth=e;n.lineCap="round";r+=c*l;n.beginPath();n.arc(r,u,h,s+t/8,s+7*t/8,!1);n.arc(r+Math.cos(s)*h*a,u+Math.sin(s)*h*a,h,s+5*t/8,s+3*t/8,!0);n.closePath();n.stroke()}function w(n,i,r,u,f,e,o){i/=1350;var s,h,c,l,a=.16*f,v=11*t/12,y=7*t/12;for(n.fillStyle=o,s=4;s--;)h=(i+s/4)%1,c=r+(s-1.5)/1.5*(1===s||2===s?-1:1)*a,l=u+h*h*f,n.beginPath(),n.moveTo(c,l-1.5*e),n.arc(c,l,.75*e,v,y,!1),n.fill()}function b(n,t,i,u,f,e,o){t/=750;var s,l,h,c,a=.1875*f;for(n.strokeStyle=o,n.lineWidth=.5*e,n.lineCap="round",s=4;s--;)l=(t+s/4)%1,h=Math.floor(i+(s-1.5)/1.5*(1===s||2===s?-1:1)*a)+.5,c=u+l*f,r(n,h,c-1.5*e,h,c+1.5*e)}function k(n,i,u,f,e,o,s){i/=3e3;var a,y,h,c,it=.16*e,l=.75*o,v=i*t*.7,p=Math.cos(v)*l,w=Math.sin(v)*l,b=v+t/3,k=Math.cos(b)*l,d=Math.sin(b)*l,g=v+2*t/3,nt=Math.cos(g)*l,tt=Math.sin(g)*l;for(n.strokeStyle=s,n.lineWidth=.5*o,n.lineCap="round",a=4;a--;)y=(i+a/4)%1,h=u+Math.sin((y+a/4)*t)*it,c=f+y*e,r(n,h-p,c-w,h+p,c+w),r(n,h-k,c-d,h+k,c+d),r(n,h-nt,c-tt,h+nt,c+tt)}function d(n,t,i,r,u,e,o){t/=3e4;var s=.21*u,h=.06*u,c=.21*u,l=.28*u;n.fillStyle=o;f(n,t,i,r,s,h,c,l);n.globalCompositeOperation="destination-out";f(n,t,i,r,s,h,c-e,l-e);n.globalCompositeOperation="source-over"}function g(n,i,r,u,f,e,o){var l=f/8,h=l/3,c=2*h,s=i%1*t,a=Math.cos(s),v=Math.sin(s);n.fillStyle=o;n.strokeStyle=o;n.lineWidth=e;n.lineCap="round";n.beginPath();n.arc(r,u,l,s,s+Math.PI,!1);n.arc(r-h*a,u-h*v,c,s+Math.PI,s,!1);n.arc(r+c*a,u+c*v,h,s+Math.PI,s,!0);n.globalCompositeOperation="destination-out";n.fill();n.globalCompositeOperation="source-over";n.stroke()}function c(n,t,i,r,u,f,e,o,s){t/=2500;var y,c,p,a,h=nt[e],w=(t+e-v[e].start)%o,l=(t+e-v[e].end)%o,b=(t+e)%o;if(n.strokeStyle=s,n.lineWidth=f,n.lineCap="round",1>w){if(n.beginPath(),w*=h.length/2-1,y=Math.floor(w),w-=y,y*=2,y+=2,n.moveTo(i+(h[y-2]*(1-w)+h[y]*w)*u,r+(h[y-1]*(1-w)+h[y+1]*w)*u),1>l){for(l*=h.length/2-1,c=Math.floor(l),l-=c,c*=2,c+=2,a=y;a!==c;a+=2)n.lineTo(i+h[a]*u,r+h[a+1]*u);n.lineTo(i+(h[c-2]*(1-l)+h[c]*l)*u,r+(h[c-1]*(1-l)+h[c+1]*l)*u)}else for(a=y;a!==h.length;a+=2)n.lineTo(i+h[a]*u,r+h[a+1]*u);n.stroke()}else if(1>l){for(n.beginPath(),l*=h.length/2-1,c=Math.floor(l),l-=c,c*=2,c+=2,n.moveTo(i+h[0]*u,r+h[1]*u),a=2;a!==c;a+=2)n.lineTo(i+h[a]*u,r+h[a+1]*u);n.lineTo(i+(h[c-2]*(1-l)+h[c]*l)*u,r+(h[c-1]*(1-l)+h[c+1]*l)*u);n.stroke()}1>b&&(b*=h.length/2-1,p=Math.floor(b),b-=p,p*=2,p+=2,g(n,t,i+(h[p-2]*(1-b)+h[p]*b)*u,r+(h[p-1]*(1-b)+h[p+1]*b)*u,u,f,s))}var e,o;!function(){var t=n.requestAnimationFrame||n.webkitRequestAnimationFrame||n.mozRequestAnimationFrame||n.oRequestAnimationFrame||n.msRequestAnimationFrame,i=n.cancelAnimationFrame||n.webkitCancelAnimationFrame||n.mozCancelAnimationFrame||n.oCancelAnimationFrame||n.msCancelAnimationFrame;t&&i?(e=function(n){function i(){r.value=t(i);n()}var r={value:null};return i(),r},o=function(n){i(n.value)}):(e=setInterval,o=clearInterval)}();var l=500,i=.08,t=2*Math.PI,a=2/Math.sqrt(2),nt=[[-.75,-.18,-.7219,-.1527,-.6971,-.1225,-.6739,-.091,-.6516,-.0588,-.6298,-.0262,-.6083,.0065,-.5868,.0396,-.5643,.0731,-.5372,.1041,-.5033,.1259,-.4662,.1406,-.4275,.1493,-.3881,.153,-.3487,.1526,-.3095,.1488,-.2708,.1421,-.2319,.1342,-.1943,.1217,-.16,.1025,-.129,.0785,-.1012,.0509,-.0764,.0206,-.0547,-.012,-.0378,-.0472,-.0324,-.0857,-.0389,-.1241,-.0546,-.1599,-.0814,-.1876,-.1193,-.1964,-.1582,-.1935,-.1931,-.1769,-.2157,-.1453,-.229,-.1085,-.2327,-.0697,-.224,-.0317,-.2064,.0033,-.1853,.0362,-.1613,.0672,-.135,.0961,-.1051,.1213,-.0706,.1397,-.0332,.1512,.0053,.158,.0442,.1624,.0833,.1636,.1224,.1615,.1613,.1565,.1999,.15,.2378,.1402,.2749,.1279,.3118,.1147,.3487,.1015,.3858,.0892,.4236,.0787,.4621,.0715,.5012,.0702,.5398,.0766,.5768,.089,.6123,.1055,.6466,.1244,.6805,.144,.7147,.163,.75,.18],[-.75,0,-.7033,.0195,-.6569,.0399,-.6104,.06,-.5634,.0789,-.5155,.0954,-.4667,.1089,-.4174,.1206,-.3676,.1299,-.3174,.1365,-.2669,.1398,-.2162,.1391,-.1658,.1347,-.1157,.1271,-.0661,.1169,-.017,.1046,.0316,.0903,.0791,.0728,.1259,.0534,.1723,.0331,.2188,.0129,.2656,-.0064,.3122,-.0263,.3586,-.0466,.4052,-.0665,.4525,-.0847,.5007,-.1002,.5497,-.113,.5991,-.124,.6491,-.1325,.6994,-.138,.75,-.14]],v=[{start:.36,end:.11},{start:.56,end:.16}];Skycons=function(n){this.list=[];this.interval=null;this.color=n&&n.color?n.color:"black"};Skycons.CLEAR_DAY=function(n,t,r){var u=n.canvas.width,f=n.canvas.height,e=Math.min(u,f);s(n,t,.5*u,.5*f,e,e*i,r)};Skycons.CLEAR_NIGHT=function(n,t,r){var u=n.canvas.width,f=n.canvas.height,e=Math.min(u,f);h(n,t,.5*u,.5*f,e,e*i,r)};Skycons.PARTLY_CLOUDY_DAY=function(n,t,r){var e=n.canvas.width,o=n.canvas.height,f=Math.min(e,o);s(n,t,.625*e,.375*o,.75*f,f*i,r);u(n,t,.375*e,.625*o,.75*f,f*i,r)};Skycons.PARTLY_CLOUDY_NIGHT=function(n,t,r){var e=n.canvas.width,o=n.canvas.height,f=Math.min(e,o);h(n,t,.667*e,.375*o,.75*f,f*i,r);u(n,t,.375*e,.625*o,.75*f,f*i,r)};Skycons.CLOUDY=function(n,t,r){var f=n.canvas.width,e=n.canvas.height,o=Math.min(f,e);u(n,t,.5*f,.5*e,o,o*i,r)};Skycons.RAIN=function(n,t,r){var e=n.canvas.width,o=n.canvas.height,f=Math.min(e,o);w(n,t,.5*e,.37*o,.9*f,f*i,r);u(n,t,.5*e,.37*o,.9*f,f*i,r)};Skycons.SLEET=function(n,t,r){var e=n.canvas.width,o=n.canvas.height,f=Math.min(e,o);b(n,t,.5*e,.37*o,.9*f,f*i,r);u(n,t,.5*e,.37*o,.9*f,f*i,r)};Skycons.SNOW=function(n,t,r){var e=n.canvas.width,o=n.canvas.height,f=Math.min(e,o);k(n,t,.5*e,.37*o,.9*f,f*i,r);u(n,t,.5*e,.37*o,.9*f,f*i,r)};Skycons.WIND=function(n,t,r){var f=n.canvas.width,e=n.canvas.height,u=Math.min(f,e);c(n,t,.5*f,.5*e,u,u*i,0,2,r);c(n,t,.5*f,.5*e,u,u*i,1,2,r)};Skycons.FOG=function(n,u,f){var o=n.canvas.width,h=n.canvas.height,s=Math.min(o,h),e=s*i;d(n,u,.5*o,.32*h,.75*s,e,f);u/=5e3;var v=Math.cos(u*t)*s*.02,y=Math.cos((u+.25)*t)*s*.02,p=Math.cos((u+.5)*t)*s*.02,w=Math.cos((u+.75)*t)*s*.02,c=.936*h,l=Math.floor(c-.5*e)+.5,a=Math.floor(c-2.5*e)+.5;n.strokeStyle=f;n.lineWidth=e;n.lineCap="round";r(n,v+.2*o+.5*e,l,y+.8*o-.5*e,l);r(n,p+.2*o+.5*e,a,w+.8*o-.5*e,a)};Skycons.prototype={add:function(n,t){var i;"string"==typeof n&&(n=document.getElementById(n));i={element:n,context:n.getContext("2d"),drawing:t};this.list.push(i);this.draw(i,l)},set:function(n,t){var i;for("string"==typeof n&&(n=document.getElementById(n)),i=this.list.length;i--;)if(this.list[i].element===n)return this.list[i].drawing=t,void this.draw(this.list[i],l);this.add(n,t)},remove:function(n){var t;for("string"==typeof n&&(n=document.getElementById(n)),t=this.list.length;t--;)if(this.list[t].element===n)return void this.list.splice(t,1)},draw:function(n,t){var i=n.context.canvas;n.context.globalCompositeOperation="destination-out";n.context.fillRect(0,0,i.width,i.height);n.context.globalCompositeOperation="source-over";n.drawing(n.context,t,this.color)},play:function(){var n=this;this.pause();this.interval=e(function(){for(var i=Date.now(),t=n.list.length;t--;)n.draw(n.list[t],i)},1e3/60)},pause:function(){this.interval&&(o(this.interval),this.interval=null)}}}(this);angularSkycons=angular.module("angular-skycons",[]);angularSkycons.directive("skycon",function(){return{restrict:"E",replace:!0,scope:{icon:"=",size:"=",animated:"=",color:"="},link:function(n,t,i){var r=document.createElement("canvas"),f,u;r.className=i.class?i.class:"";f={color:n.color||"black"};u=new Skycons(f);n.$watch("size",function(t){t?(r.height=t,r.width=t):(r.height=n.size||64,r.width=n.size||64)},!0);u.add(r,n.icon);n.$watch("icon",function(){u.set(r,n.icon)},!0);"false"===n.animated||n.animated===!1?u.pause():u.play();8===t[0].nodeType?t.replaceWith(r):t[0].appendChild(r);n.$on("$destroy",function(){u.remove(r);0===u.list.length&&u.pause(r)})}}});
/**
 * @license angular-iscroll v1.2.3, 2015-03-05T16:21:39+0100
 * (c) 2015 Martin Thorsen Ranang <mtr@ranang.org>
 * License: MIT
 */
!function(n,t){"function"==typeof define&&define.amd?define(["iscroll"],t):"object"==typeof exports?module.exports=t(require("iscroll")):n.angularIscroll=t(n.IScroll)}(this,function(n){"use strict";function u(){function i(t){angular.extend(n,t)}function r(){return n}function t(t,i,r){function f(n){n||(u.useIScroll=!1);t.$emit(r.disabled)}function e(n){n||(u.useIScroll=!0);t.$emit(r.enabled)}function o(n){u.useIScroll^n?f(n):e(n)}function s(n){t.$emit(r.refresh,n)}var u={useIScroll:!0};return{defaults:n,state:u,enable:e,disable:f,toggle:o,refresh:s}}var n={iScroll:{momentum:!0,mouseWheel:!0},directive:{asyncRefreshDelay:0,refreshInterval:!1}};this.configureDefaults=i;this.getDefaults=r;t.$inject=["$rootScope","$log","iScrollSignals"];this.$get=t}function i(n){n()}function r(r,u,f,e,o,s){function h(n,t){u(function(){n.refresh()},t.directive.asyncRefreshDelay)}function c(u,e,s,c){function v(){angular.isDefined(u.iscrollInstance)&&delete u.iscrollInstance;l.destroy();e.removeClass(t.on).addClass(t.off);e.children(".iscroll-scroller").attr("style",null);angular.forEach(p,i)}function y(){a&&(a=!1,h(l,c),a=!0)}function w(){a=!1}function b(){a=!0}var l=new n(e[0],c.iScroll),a=!0,p;return e.removeClass(t.off).addClass(t.on),angular.isDefined(s.iscrollInstance)&&(u.iscrollInstance=l),c.directive.asyncRefreshDelay!==!1&&h(l,c),l.on("scrollStart",w),l.on("scrollEnd",b),c.directive.refreshInterval!==!1&&f(y,c.directive.refreshInterval),p=[r.$on(o.disabled,v),r.$on(o.refresh,y),u.$on("$destroy",v)],l}function l(n,u,f){function h(){u.hasClass(t.on)||c(n,u,f,e)}function a(){angular.forEach(l,i)}var e={iScroll:angular.extend({},n.iscroll||{},s.defaults.iScroll),directive:angular.extend({},s.defaults.directive)},l;angular.forEach(e.iScroll,function(n,t){s.defaults.directive.hasOwnProperty(t)&&(e.directive[t]=n,delete e.iScroll[t])});l=[r.$on(o.enabled,h)];s.state.useIScroll?h():u.removeClass(t.on).addClass(t.off);n.$on("$destroy",a)}return{restrict:"A",link:l,scope:{iscroll:"=",iscrollInstance:"="}}}var t={on:"iscroll-on",off:"iscroll-off"};return r.$inject=["$rootScope","$timeout","$interval","$log","iScrollSignals","iScrollService"],angular.module("angular-iscroll",[]).directive("iscroll",r).provider("iScrollService",u).constant("iScrollSignals",{disabled:"iscroll:disabled",enabled:"iscroll:enabled",refresh:"iscroll:refresh"})});
/*!
 * Angular Background v0.1.0
 *
 * An Angular.js directive to dynamically switch the background of the element.
 *
 * Released under the MIT license
 * www.opensource.org/licenses/MIT
 *
 * Brought to you by 720kb.net
 *
 * 2015-03-13
 */
!function(n){"use strict";n.module("720kb.background",[]).directive("dynamicBackground",[function(){return{restrict:"A",link:function(t,i,r){t.setBg=function(){n.element(i[0]).css({"background-color":r.backgroundColor,"background-image":"url("+r.backgroundImage+")","background-repeat":r.backgroundRepeat,"background-position":r.backgroundPosition,"background-size":r.backgroundSize,"background-attachment":r.backgroundAttachment,"background-origin":r.backgroundOrigin,"background-clip":r.backgroundClip,background:r.background})};t.launchDynamicBg=function(){r.backgroundOnEvent?n.element(i[0]).bind(r.backgroundOnEvent,function(){t.setBg()}):t.setBg()};n.forEach(["backgroundImage","backgroundColor","backgroundSize","backgroundPosition","backgroundClip","backgroundAttachment","backgroundOnEvent","backgroundRepeat","backgroundOrigin","background"],function(n){r.$observe(n,function(n){n&&t.launchDynamicBg()})})}}}])}(angular);!function(){angular.module("angular-storage",["angular-storage.store"]);angular.module("angular-storage.internalStore",["angular-storage.storage"]).factory("InternalStore",["storage","$log",function(n,t){function i(n,t){this.namespace=n||null;this.delimiter=t||".";this.inMemoryCache={}}return i.prototype.getNamespacedKey=function(n){return this.namespace?[this.namespace,n].join(this.delimiter):n},i.prototype.set=function(t,i){this.inMemoryCache[t]=i;n.set(this.getNamespacedKey(t),JSON.stringify(i))},i.prototype.get=function(i){var u=null,r;if(i in this.inMemoryCache)return this.inMemoryCache[i];r=n.get(this.getNamespacedKey(i));try{u="undefined"==typeof r||"undefined"===r?void 0:JSON.parse(r);this.inMemoryCache[i]=u}catch(f){t.error("Error parsing saved value",f);this.remove(i)}return u},i.prototype.remove=function(t){this.inMemoryCache[t]=null;n.remove(this.getNamespacedKey(t))},i}]);angular.module("angular-storage.storage",[]).service("storage",["$window","$injector",function(n,t){if(n.localStorage)this.set=function(t,i){return n.localStorage.setItem(t,i)},this.get=function(t){return n.localStorage.getItem(t)},this.remove=function(t){return n.localStorage.removeItem(t)};else{var i=t.get("$cookieStore");this.set=function(n,t){return i.put(n,t)};this.get=function(n){return i.get(n)};this.remove=function(n){return i.remove(n)}}}]);angular.module("angular-storage.store",["angular-storage.internalStore"]).factory("store",["InternalStore",function(n){var t=new n;return t.getNamespacedStore=function(t,i){return new n(t,i)},t}])}();
/*!
 * ui-select
 * http://github.com/angular-ui/ui-select
 * Version: 0.11.1 - 2015-03-09T14:30:26.109Z
 * License: MIT
 */
!function(){"use strict";var n={TAB:9,ENTER:13,ESC:27,SPACE:32,LEFT:37,UP:38,RIGHT:39,DOWN:40,SHIFT:16,CTRL:17,ALT:18,PAGE_UP:33,PAGE_DOWN:34,HOME:36,END:35,BACKSPACE:8,DELETE:46,COMMAND:91,MAP:{91:"COMMAND",8:"BACKSPACE",9:"TAB",13:"ENTER",16:"SHIFT",17:"CTRL",18:"ALT",19:"PAUSEBREAK",20:"CAPSLOCK",27:"ESC",32:"SPACE",33:"PAGE_UP",34:"PAGE_DOWN",35:"END",36:"HOME",37:"LEFT",38:"UP",39:"RIGHT",40:"DOWN",43:"+",44:"PRINTSCREEN",45:"INSERT",46:"DELETE",48:"0",49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9",59:";",61:"=",65:"A",66:"B",67:"C",68:"D",69:"E",70:"F",71:"G",72:"H",73:"I",74:"J",75:"K",76:"L",77:"M",78:"N",79:"O",80:"P",81:"Q",82:"R",83:"S",84:"T",85:"U",86:"V",87:"W",88:"X",89:"Y",90:"Z",96:"0",97:"1",98:"2",99:"3",100:"4",101:"5",102:"6",103:"7",104:"8",105:"9",106:"*",107:"+",109:"-",110:".",111:"/",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NUMLOCK",145:"SCROLLLOCK",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},isControl:function(t){var i=t.which;switch(i){case n.COMMAND:case n.SHIFT:case n.CTRL:case n.ALT:return!0}return t.metaKey?!0:!1},isFunctionKey:function(n){return n=n.which?n.which:n,n>=112&&123>=n},isVerticalMovement:function(t){return~[n.UP,n.DOWN].indexOf(t)},isHorizontalMovement:function(t){return~[n.LEFT,n.RIGHT,n.BACKSPACE,n.DELETE].indexOf(t)}},i,t;void 0===angular.element.prototype.querySelectorAll&&(angular.element.prototype.querySelectorAll=function(n){return angular.element(this[0].querySelectorAll(n))});void 0===angular.element.prototype.closest&&(angular.element.prototype.closest=function(n){for(var t=this[0],i=t.matches||t.webkitMatchesSelector||t.mozMatchesSelector||t.msMatchesSelector;t;){if(i.bind(t)(n))return t;t=t.parentElement}return!1});i=0;t=angular.module("ui.select",[]).constant("uiSelectConfig",{theme:"bootstrap",searchEnabled:!0,sortable:!1,placeholder:"",refreshDelay:1e3,closeOnSelect:!0,generateId:function(){return i++}}).service("uiSelectMinErr",function(){var n=angular.$$minErr("ui.select");return function(){var t=n.apply(this,arguments),i=t.message.replace(new RegExp("\nhttp://errors.angularjs.org/.*"),"");return new Error(i)}}).directive("uisTranscludeAppend",function(){return{link:function(n,t,i,r,u){u(n,function(n){t.append(n)})}}}).filter("highlight",function(){function n(n){return n.replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1")}return function(t,i){return i&&t?t.replace(new RegExp(n(i),"gi"),'<span class="ui-select-highlight">$&<\/span>'):t}});t.service("RepeatParser",["uiSelectMinErr","$parse",function(n,t){var i=this;i.parse=function(i){var r=i.match(/^\s*(?:([\s\S]+?)\s+as\s+)?([\S]+?)\s+in\s+([\s\S]+?)(?:\s+track\s+by\s+([\s\S]+?))?\s*$/);if(!r)throw n("iexp","Expected expression in form of '_item_ in _collection_[ track by _id_]' but got '{0}'.",i);return{itemName:r[2],source:t(r[3]),trackByExp:r[4],modelMapper:t(r[1]||r[2])}};i.getGroupNgRepeatExpression=function(){return"$group in $select.groups"};i.getNgRepeatExpression=function(n,t,i,r){var u=n+" in "+(r?"$group.items":t);return i&&(u+=" track by "+i),u}}]);t.directive("uiSelectChoices",["uiSelectConfig","RepeatParser","uiSelectMinErr","$compile",function(n,t,i,r){return{restrict:"EA",require:"^uiSelect",replace:!0,transclude:!0,templateUrl:function(t){var i=t.parent().attr("theme")||n.theme;return i+"/choices.tpl.html"},compile:function(u,f){if(!f.repeat)throw i("repeat","Expected 'repeat' expression.");return function(u,f,e,o,s){var a=e.groupBy,h,c,l;if(o.parseRepeatAttr(e.repeat,a),o.disableChoiceExpression=e.uiDisableChoice,o.onHighlightCallback=e.onHighlight,a){if(h=f.querySelectorAll(".ui-select-choices-group"),1!==h.length)throw i("rows","Expected 1 .ui-select-choices-group but got '{0}'.",h.length);h.attr("ng-repeat",t.getGroupNgRepeatExpression())}if(c=f.querySelectorAll(".ui-select-choices-row"),1!==c.length)throw i("rows","Expected 1 .ui-select-choices-row but got '{0}'.",c.length);if(c.attr("ng-repeat",t.getNgRepeatExpression(o.parserResult.itemName,"$select.items",o.parserResult.trackByExp,a)).attr("ng-if","$select.open").attr("ng-mouseenter","$select.setActiveItem("+o.parserResult.itemName+")").attr("ng-click","$select.select("+o.parserResult.itemName+",false,$event)"),l=f.querySelectorAll(".ui-select-choices-row-inner"),1!==l.length)throw i("rows","Expected 1 .ui-select-choices-row-inner but got '{0}'.",l.length);l.attr("uis-transclude-append","");r(f,s)(u);u.$watch("$select.search",function(n){n&&!o.open&&o.multiple&&o.activate(!1,!0);o.activeIndex=o.tagging.isActivated?-1:0;o.refresh(e.refresh)});e.$observe("refreshDelay",function(){var t=u.$eval(e.refreshDelay);o.refreshDelay=void 0!==t?t:n.refreshDelay})}}}}]);t.controller("uiSelectCtrl",["$scope","$element","$timeout","$filter","RepeatParser","uiSelectMinErr","uiSelectConfig",function(t,i,r,u,f,e,o){function l(){(s.resetSearchInput||void 0===s.resetSearchInput&&o.resetSearchInput)&&(s.search=p,s.selected&&s.items.length&&!s.multiple&&(s.activeIndex=s.items.indexOf(s.selected)))}function w(t){var i=!0;switch(t){case n.DOWN:!s.open&&s.multiple?s.activate(!1,!0):s.activeIndex<s.items.length-1&&s.activeIndex++;break;case n.UP:!s.open&&s.multiple?s.activate(!1,!0):(s.activeIndex>0||0===s.search.length&&s.tagging.isActivated&&s.activeIndex>-1)&&s.activeIndex--;break;case n.TAB:(!s.multiple||s.open)&&s.select(s.items[s.activeIndex],!0);break;case n.ENTER:s.open&&s.activeIndex>=0?s.select(s.items[s.activeIndex]):s.activate(!1,!0);break;case n.ESC:s.close();break;default:i=!1}return i}function b(t){function e(){switch(t){case n.LEFT:return~s.activeMatchIndex?f:i;case n.RIGHT:return~s.activeMatchIndex&&r!==i?l:(s.activate(),!1);case n.BACKSPACE:return~s.activeMatchIndex?(s.removeChoice(r),f):i;case n.DELETE:return~s.activeMatchIndex?(s.removeChoice(s.activeMatchIndex),r):!1}}var o=k(h[0]),c=s.selected.length,i=c-1,r=s.activeMatchIndex,l=s.activeMatchIndex+1,f=s.activeMatchIndex-1,u=r;return o>0||s.search.length&&t==n.RIGHT?!1:(s.close(),u=e(),s.activeMatchIndex=s.selected.length&&u!==!1?Math.min(i,Math.max(0,u)):-1,!0)}function v(n){if(void 0===n||void 0===s.search)return!1;return n.filter(function(n){return void 0===s.search.toUpperCase()||void 0===n?!1:n.toUpperCase()===s.search.toUpperCase()}).length>0}function y(n,t){var u=-1,r,i,f;if(angular.isArray(n))for(r=angular.copy(n),i=0;i<r.length;i++)void 0===s.tagging.fct?r[i]+" "+s.taggingLabel===t&&(u=i):(f=r[i],f.isTag=!0,angular.equals(f,t)&&(u=i));return u}function k(n){return angular.isNumber(n.selectionStart)?n.selectionStart:n.value.length}function d(){var n=i.querySelectorAll(".ui-select-choices-content"),u=n.querySelectorAll(".ui-select-choices-row");if(u.length<1)throw e("choices","Expected multiple .ui-select-choices-row but got '{0}'.",u.length);if(!(s.activeIndex<0)){var t=u[s.activeIndex],r=t.offsetTop+t.clientHeight-n[0].scrollTop,f=n[0].offsetHeight;r>f?n[0].scrollTop+=r-f:r<t.clientHeight&&(s.isGrouped&&0===s.activeIndex?n[0].scrollTop=0:n[0].scrollTop-=t.clientHeight-r)}}var s=this,p="",h,a,c;if(s.placeholder=o.placeholder,s.search=p,s.activeIndex=0,s.activeMatchIndex=-1,s.items=[],s.selected=void 0,s.open=!1,s.focus=!1,s.focusser=void 0,s.disabled=!1,s.searchEnabled=o.searchEnabled,s.sortable=o.sortable,s.resetSearchInput=!0,s.multiple=void 0,s.refreshDelay=o.refreshDelay,s.disableChoiceExpression=void 0,s.tagging={isActivated:!1,fct:void 0},s.taggingTokens={isActivated:!1,tokens:void 0},s.lockChoiceExpression=void 0,s.closeOnSelect=!0,s.clickTriggeredSelect=!1,s.$filter=u,s.isEmpty=function(){return angular.isUndefined(s.selected)||null===s.selected||""===s.selected},h=i.querySelectorAll("input.ui-select-search"),1!==h.length)throw e("searchInput","Expected 1 input.ui-select-search but got '{0}'.",h.length);s.activate=function(n,t){s.disabled||s.open||(t||l(),s.focusser.prop("disabled",!0),s.open=!0,s.activeMatchIndex=-1,s.activeIndex=s.activeIndex>=s.items.length?0:s.activeIndex,-1===s.activeIndex&&s.taggingLabel!==!1&&(s.activeIndex=0),r(function(){s.search=n||s.search;h[0].focus()}))};s.findGroupByName=function(n){return s.groups&&s.groups.filter(function(t){return t.name===n})[0]};s.parseRepeatAttr=function(n,i){function u(n){s.groups=[];angular.forEach(n,function(n){var r=t.$eval(i),u=angular.isFunction(r)?r(n):n[r],f=s.findGroupByName(u);f?f.items.push(n):s.groups.push({name:u,items:[n]})});s.items=[];s.groups.forEach(function(n){s.items=s.items.concat(n.items)})}function o(n){s.items=n}var r=i?u:o;s.parserResult=f.parse(n);s.isGrouped=!!i;s.itemProperty=s.parserResult.itemName;t.$watchCollection(s.parserResult.source,function(n){if(void 0===n||null===n)s.items=[];else{if(!angular.isArray(n))throw e("items","Expected an array but got '{0}'.",n);if(s.multiple){var t=n.filter(function(n){return s.selected.indexOf(n)<0});r(t)}else r(n);s.ngModel.$modelValue=null}});s.multiple&&t.$watchCollection("$select.selected",function(n){var i=s.parserResult.source(t),u;n.length?void 0!==i&&(u=i.filter(function(t){return n.indexOf(t)<0}),r(u)):r(i);s.sizeSearchInput()})};s.refresh=function(n){void 0!==n&&(a&&r.cancel(a),a=r(function(){t.$eval(n)},s.refreshDelay))};s.setActiveItem=function(n){s.activeIndex=s.items.indexOf(n)};s.isActive=function(n){if(!s.open)return!1;var t=s.items.indexOf(n[s.itemProperty]),i=t===s.activeIndex;return!i||0>t&&s.taggingLabel!==!1||0>t&&s.taggingLabel===!1?!1:(i&&!angular.isUndefined(s.onHighlightCallback)&&n.$eval(s.onHighlightCallback),i)};s.isDisabled=function(n){if(s.open){var i,r=s.items.indexOf(n[s.itemProperty]),t=!1;return r>=0&&!angular.isUndefined(s.disableChoiceExpression)&&(i=s.items[r],t=!!n.$eval(s.disableChoiceExpression),i._uiSelectChoiceDisabled=t),t}};s.select=function(n,i,u){if(void 0===n||!n._uiSelectChoiceDisabled){if(!s.items&&!s.search)return;if(!n||!n._uiSelectChoiceDisabled){if(s.tagging.isActivated){if(s.taggingLabel===!1)if(s.activeIndex<0){if(n=void 0!==s.tagging.fct?s.tagging.fct(s.search):s.search,!n||angular.equals(s.items[0],n))return}else n=s.items[s.activeIndex];else if(0===s.activeIndex){if(void 0===n)return;if(void 0!==s.tagging.fct&&"string"==typeof n){if(n=s.tagging.fct(s.search),!n)return}else"string"==typeof n&&(n=n.replace(s.taggingLabel,"").trim())}if(s.selected&&angular.isArray(s.selected)&&s.selected.filter(function(t){return angular.equals(t,n)}).length>0)return s.close(i),void 0}var f={};f[s.parserResult.itemName]=n;s.multiple?(s.selected.push(n),s.sizeSearchInput()):s.selected=n;r(function(){s.onSelectCallback(t,{$item:n,$model:s.parserResult.modelMapper(t,f)})});(!s.multiple||s.closeOnSelect)&&s.close(i);u&&"click"===u.type&&(s.clickTriggeredSelect=!0)}}};s.close=function(n){s.open&&(s.ngModel&&s.ngModel.$setTouched&&s.ngModel.$setTouched(),l(),s.open=!1,s.multiple||r(function(){s.focusser.prop("disabled",!1);n||s.focusser[0].focus()},0,!1))};s.setFocus=function(){s.focus||s.multiple||s.focusser[0].focus();!s.focus&&s.multiple&&h[0].focus()};s.clear=function(n){s.select(void 0);n.stopPropagation();s.focusser[0].focus()};s.toggle=function(n){s.open?(s.close(),n.preventDefault(),n.stopPropagation()):s.activate()};s.isLocked=function(n,t){var i,r=s.selected[t];return r&&!angular.isUndefined(s.lockChoiceExpression)&&(i=!!n.$eval(s.lockChoiceExpression),r._uiSelectChoiceLocked=i),i};s.removeChoice=function(n){var i=s.selected[n],u;i._uiSelectChoiceLocked||(u={},u[s.parserResult.itemName]=i,s.selected.splice(n,1),s.activeMatchIndex=-1,s.sizeSearchInput(),r(function(){s.onRemoveCallback(t,{$item:i,$model:s.parserResult.modelMapper(t,u)})}))};s.getPlaceholder=function(){if(!s.multiple||!s.selected.length)return s.placeholder};c=null;s.sizeSearchInput=function(){var n=h[0],f=h.parent().parent()[0],i=function(){return f.clientWidth*!!n.offsetParent},u=function(t){if(0===t)return!1;var i=t-n.offsetLeft-10;return 50>i&&(i=t),h.css("width",i+"px"),!0};h.css("width","10px");r(function(){null!==c||u(i())||(c=t.$watch(i,function(n){u(n)&&(c(),c=null)}))})};h.on("keydown",function(i){var u=i.which;t.$apply(function(){var t=!1,e=!1,f;if(s.multiple&&n.isHorizontalMovement(u)&&(t=b(u)),!t&&(s.items.length>0||s.tagging.isActivated)&&(t=w(u),s.taggingTokens.isActivated)){for(f=0;f<s.taggingTokens.tokens.length;f++)s.taggingTokens.tokens[f]===n.MAP[i.keyCode]&&s.search.length>0&&(e=!0);e&&r(function(){h.triggerHandler("tagged");var t=s.search.replace(n.MAP[i.keyCode],"").trim();s.tagging.fct&&(t=s.tagging.fct(t));t&&s.select(t,!0)})}t&&u!=n.TAB&&(i.preventDefault(),i.stopPropagation())});n.isVerticalMovement(u)&&s.items.length>0&&d()});h.on("paste",function(n){var i=n.originalEvent.clipboardData.getData("text/plain"),t;i&&i.length>0&&s.taggingTokens.isActivated&&s.tagging.fct&&(t=i.split(s.taggingTokens.tokens[0]),t&&t.length>0&&(angular.forEach(t,function(n){var t=s.tagging.fct(n);t&&s.select(t,!0)}),n.preventDefault(),n.stopPropagation()))});h.on("keyup",function(i){if(n.isVerticalMovement(i.which)||t.$evalAsync(function(){s.activeIndex=s.taggingLabel===!1?-1:0}),s.tagging.isActivated&&s.search.length>0){if(i.which===n.TAB||n.isControl(i)||n.isFunctionKey(i)||i.which===n.ESC||n.isVerticalMovement(i.which))return;if(s.activeIndex=s.taggingLabel===!1?-1:0,s.taggingLabel===!1)return;var f,l,e,h,r=angular.copy(s.items),u=angular.copy(s.items),o=!1,c=-1;if(void 0!==s.tagging.fct){if(e=s.$filter("filter")(r,{isTag:!0}),e.length>0&&(h=e[0]),r.length>0&&h&&(o=!0,r=r.slice(1,r.length),u=u.slice(1,u.length)),f=s.tagging.fct(s.search),f.isTag=!0,u.filter(function(n){return angular.equals(n,s.tagging.fct(s.search))}).length>0)return;f.isTag=!0}else{if(e=s.$filter("filter")(r,function(n){return n.match(s.taggingLabel)}),e.length>0&&(h=e[0]),l=r[0],void 0!==l&&r.length>0&&h&&(o=!0,r=r.slice(1,r.length),u=u.slice(1,u.length)),f=s.search+" "+s.taggingLabel,y(s.selected,s.search)>-1)return;if(v(u.concat(s.selected)))return o&&(r=u,t.$evalAsync(function(){s.activeIndex=0;s.items=r})),void 0;if(v(u))return o&&(s.items=u.slice(1,u.length)),void 0}o&&(c=y(s.selected,f));c>-1?r=r.slice(c+1,r.length-1):(r=[],r.push(f),r=r.concat(u));t.$evalAsync(function(){s.activeIndex=0;s.items=r})}});h.on("tagged",function(){r(function(){l()})});h.on("blur",function(){r(function(){s.activeMatchIndex=-1})});t.$on("$destroy",function(){h.off("keyup keydown tagged blur paste")})}]);t.directive("uiSelect",["$document","uiSelectConfig","uiSelectMinErr","$compile","$parse","$timeout",function(t,i,r,u,f,e){return{restrict:"EA",templateUrl:function(n,t){var r=t.theme||i.theme;return r+(angular.isDefined(t.multiple)?"/select-multiple.tpl.html":"/select.tpl.html")},replace:!0,transclude:!0,require:["uiSelect","^ngModel"],scope:!0,controller:"uiSelectCtrl",controllerAs:"$select",link:function(o,s,h,c,l){function p(n){var t;if(a.open){if(t=!1,t=window.jQuery?window.jQuery.contains(s[0],n.target):s[0].contains(n.target),!t&&!a.clickTriggeredSelect){var i=angular.element(n.target).scope(),r=i&&i.$select&&i.$select!==a;r||(r=~["input","button","textarea"].indexOf(n.target.tagName.toLowerCase()));a.close(r);o.$digest()}a.clickTriggeredSelect=!1}}var a=c[0],v=c[1],w=s.querySelectorAll("input.ui-select-search"),y;a.generatedId=i.generateId();a.baseTitle=h.title||"Select box";a.focusserTitle=a.baseTitle+" focus";a.focusserId="focusser-"+a.generatedId;a.multiple=angular.isDefined(h.multiple)&&(""===h.multiple||"multiple"===h.multiple.toLowerCase()||"true"===h.multiple.toLowerCase());a.closeOnSelect=function(){return angular.isDefined(h.closeOnSelect)?f(h.closeOnSelect)():i.closeOnSelect}();a.onSelectCallback=f(h.onSelect);a.onRemoveCallback=f(h.onRemove);v.$parsers.unshift(function(n){var r,t={},u,i;if(a.multiple){for(u=[],i=a.selected.length-1;i>=0;i--)t={},t[a.parserResult.itemName]=a.selected[i],r=a.parserResult.modelMapper(o,t),u.unshift(r);return u}return t={},t[a.parserResult.itemName]=n,r=a.parserResult.modelMapper(o,t)});v.$formatters.unshift(function(n){var i,r=a.parserResult.source(o,{$select:{search:""}}),e={},t,s,u,h,f;if(r){if(a.multiple){if(t=[],s=function(n,r){var u,f;if(!n||!n.length)return t.unshift(r),!0;for(u=n.length-1;u>=0;u--)if((e[a.parserResult.itemName]=n[u],i=a.parserResult.modelMapper(o,e),a.parserResult.trackByExp)&&(f=/\.(.+)/.exec(a.parserResult.trackByExp),f.length>0&&i[f[1]]==r[f[1]])||i==r)return t.unshift(n[u]),!0;return!1},!n)return t;for(u=n.length-1;u>=0;u--)s(a.selected,n[u])||s(r,n[u]);return t}if(h=function(t){return e[a.parserResult.itemName]=t,i=a.parserResult.modelMapper(o,e),i==n},a.selected&&h(a.selected))return a.selected;for(f=r.length-1;f>=0;f--)if(h(r[f]))return r[f]}return n});a.ngModel=v;a.choiceGrouped=function(n){return a.isGrouped&&n&&n.name};y=angular.element("<input ng-disabled='$select.disabled' class='ui-select-focusser ui-select-offscreen' type='text' id='{{ $select.focusserId }}' aria-label='{{ $select.focusserTitle }}' aria-haspopup='true' role='button' />");h.tabindex&&h.$observe("tabindex",function(n){a.multiple?w.attr("tabindex",n):y.attr("tabindex",n);s.removeAttr("tabindex")});u(y)(o);a.focusser=y;a.multiple||(s.append(y),y.bind("focus",function(){o.$evalAsync(function(){a.focus=!0})}),y.bind("blur",function(){o.$evalAsync(function(){a.focus=!1})}),y.bind("keydown",function(t){return t.which===n.BACKSPACE?(t.preventDefault(),t.stopPropagation(),a.select(void 0),o.$apply(),void 0):(t.which===n.TAB||n.isControl(t)||n.isFunctionKey(t)||t.which===n.ESC||((t.which==n.DOWN||t.which==n.UP||t.which==n.ENTER||t.which==n.SPACE)&&(t.preventDefault(),t.stopPropagation(),a.activate()),o.$digest()),void 0)}),y.bind("keyup input",function(t){t.which===n.TAB||n.isControl(t)||n.isFunctionKey(t)||t.which===n.ESC||t.which==n.ENTER||t.which===n.BACKSPACE||(a.activate(y.val()),y.val(""),o.$digest())}));o.$watch("searchEnabled",function(){var n=o.$eval(h.searchEnabled);a.searchEnabled=void 0!==n?n:i.searchEnabled});o.$watch("sortable",function(){var n=o.$eval(h.sortable);a.sortable=void 0!==n?n:i.sortable});h.$observe("disabled",function(){a.disabled=void 0!==h.disabled?h.disabled:!1;a.multiple&&a.sizeSearchInput()});h.$observe("resetSearchInput",function(){var n=o.$eval(h.resetSearchInput);a.resetSearchInput=void 0!==n?n:!0});h.$observe("tagging",function(){if(void 0!==h.tagging){var n=o.$eval(h.tagging);a.tagging={isActivated:!0,fct:n!==!0?n:void 0}}else a.tagging={isActivated:!1,fct:void 0}});h.$observe("taggingLabel",function(){void 0!==h.tagging&&(a.taggingLabel="false"===h.taggingLabel?!1:void 0!==h.taggingLabel?h.taggingLabel:"(new)")});h.$observe("taggingTokens",function(){if(void 0!==h.tagging){var n=void 0!==h.taggingTokens?h.taggingTokens.split("|"):[",","ENTER"];a.taggingTokens={isActivated:!0,tokens:n}}});angular.isDefined(h.autofocus)&&e(function(){a.setFocus()});angular.isDefined(h.focusOn)&&o.$on(h.focusOn,function(){e(function(){a.setFocus()})});a.multiple?(o.$watchCollection(function(){return v.$modelValue},function(n,t){t!=n&&(v.$modelValue=null)}),a.firstPass=!0,o.$watchCollection("$select.selected",function(){a.firstPass?a.firstPass=!1:v.$setViewValue(Date.now())}),y.prop("disabled",!0)):o.$watch("$select.selected",function(n){v.$viewValue!==n&&v.$setViewValue(n)});v.$render=function(){if(a.multiple&&!angular.isArray(v.$viewValue)){if(!angular.isUndefined(v.$viewValue)&&null!==v.$viewValue)throw r("multiarr","Expected model value to be array but got '{0}'",v.$viewValue);a.selected=[]}a.selected=v.$viewValue};t.on("click",p);o.$on("$destroy",function(){t.off("click",p)});l(o,function(n){var u=angular.element("<div>").append(n),i=u.querySelectorAll(".ui-select-match"),t;if(i.removeAttr("ui-select-match"),i.removeAttr("data-ui-select-match"),1!==i.length)throw r("transcluded","Expected 1 .ui-select-match but got '{0}'.",i.length);if(s.querySelectorAll(".ui-select-match").replaceWith(i),t=u.querySelectorAll(".ui-select-choices"),t.removeAttr("ui-select-choices"),t.removeAttr("data-ui-select-choices"),1!==t.length)throw r("transcluded","Expected 1 .ui-select-choices but got '{0}'.",t.length);s.querySelectorAll(".ui-select-choices").replaceWith(t)})}}}]);t.directive("uiSelectMatch",["uiSelectConfig",function(n){return{restrict:"EA",require:"^uiSelect",replace:!0,transclude:!0,templateUrl:function(t){var i=t.parent().attr("theme")||n.theme,r=t.parent().attr("multiple");return i+(r?"/match-multiple.tpl.html":"/match.tpl.html")},link:function(t,i,r,u){u.lockChoiceExpression=r.uiLockChoice;r.$observe("placeholder",function(t){u.placeholder=void 0!==t?t:n.placeholder});u.allowClear=angular.isDefined(r.allowClear)?""===r.allowClear?!0:"true"===r.allowClear.toLowerCase():!1;u.multiple&&u.sizeSearchInput()}}}]);t.directive("uiSelectSort",["$timeout","uiSelectConfig","uiSelectMinErr",function(n,t,i){return{require:"^uiSelect",link:function(t,r,u,f){if(null===t[u.uiSelectSort])throw i("sort","Expected a list to sort");var y=angular.extend({axis:"horizontal"},t.$eval(u.uiSelectSortOptions)),l=y.axis,s="dragging",h="dropping",e="dropping-before",o="dropping-after";t.$watch(function(){return f.sortable},function(n){n?r.attr("draggable",!0):r.removeAttr("draggable")});r.on("dragstart",function(n){r.addClass(s);(n.dataTransfer||n.originalEvent.dataTransfer).setData("text/plain",t.$index)});r.on("dragend",function(){r.removeClass(s)});var a,p=function(n,t){this.splice(t,0,this.splice(n,1)[0])},v=function(n){n.preventDefault();var t="vertical"===l?n.offsetY||n.layerY||(n.originalEvent?n.originalEvent.offsetY:0):n.offsetX||n.layerX||(n.originalEvent?n.originalEvent.offsetX:0);t<this["vertical"===l?"offsetHeight":"offsetWidth"]/2?(r.removeClass(o),r.addClass(e)):(r.removeClass(e),r.addClass(o))},c=function(t){t.preventDefault();var i=parseInt((t.dataTransfer||t.originalEvent.dataTransfer).getData("text/plain"),10);n.cancel(a);a=n(function(){w(i)},20)},w=function(n){var i=t.$eval(u.uiSelectSort),s=i[n],f=null;f=r.hasClass(e)?n<t.$index?t.$index-1:t.$index:n<t.$index?t.$index:t.$index+1;p.apply(i,[n,f]);t.$apply(function(){t.$emit("uiSelectSort:change",{array:i,item:s,from:n,to:f})});r.removeClass(h);r.removeClass(e);r.removeClass(o);r.off("drop",c)};r.on("dragenter",function(){r.hasClass(s)||(r.addClass(h),r.on("dragover",v),r.on("drop",c))});r.on("dragleave",function(){r.removeClass(h);r.removeClass(e);r.removeClass(o);r.off("dragover",v);r.off("drop",c)})}}}])}();angular.module("ui.select").run(["$templateCache",function(n){n.put("bootstrap/choices.tpl.html",'<ul class="ui-select-choices ui-select-choices-content dropdown-menu" role="listbox" ng-show="$select.items.length > 0"><li class="ui-select-choices-group" id="ui-select-choices-{{ $select.generatedId }}"><div class="divider" ng-show="$select.isGrouped && $index > 0"><\/div><div ng-show="$select.isGrouped" class="ui-select-choices-group-label dropdown-header" ng-bind="$group.name"><\/div><div id="ui-select-choices-row-{{ $select.generatedId }}-{{$index}}" class="ui-select-choices-row" ng-class="{active: $select.isActive(this), disabled: $select.isDisabled(this)}" role="option"><a href="javascript:void(0)" class="ui-select-choices-row-inner"><\/a><\/div><\/li><\/ul>');n.put("bootstrap/match-multiple.tpl.html",'<span class="ui-select-match"><span ng-repeat="$item in $select.selected"><span class="ui-select-match-item btn btn-default btn-xs" tabindex="-1" type="button" ng-disabled="$select.disabled" ng-click="$select.activeMatchIndex = $index;" ng-class="{\'btn-primary\':$select.activeMatchIndex === $index, \'select-locked\':$select.isLocked(this, $index)}" ui-select-sort="$select.selected"><span class="close ui-select-match-close" ng-hide="$select.disabled" ng-click="$select.removeChoice($index)">&nbsp;&times;<\/span> <span uis-transclude-append=""><\/span><\/span><\/span><\/span>');n.put("bootstrap/match.tpl.html",'<div class="ui-select-match" ng-hide="$select.open" ng-disabled="$select.disabled" ng-class="{\'btn-default-focus\':$select.focus}"><span tabindex="-1" class="btn btn-default form-control ui-select-toggle" aria-label="{{ $select.baseTitle }} activate" ng-disabled="$select.disabled" ng-click="$select.activate()" style="outline: 0;"><span ng-show="$select.isEmpty()" class="ui-select-placeholder text-muted">{{$select.placeholder}}<\/span> <span ng-hide="$select.isEmpty()" class="ui-select-match-text pull-left" ng-class="{\'ui-select-allow-clear\': $select.allowClear && !$select.isEmpty()}" ng-transclude=""><\/span> <i class="caret pull-right" ng-click="$select.toggle($event)"><\/i> <a ng-show="$select.allowClear && !$select.isEmpty()" aria-label="{{ $select.baseTitle }} clear" style="margin-right: 10px" ng-click="$select.clear($event)" class="btn btn-xs btn-link pull-right"><i class="glyphicon glyphicon-remove" aria-hidden="true"><\/i><\/a><\/span><\/div>');n.put("bootstrap/select-multiple.tpl.html",'<div class="ui-select-container ui-select-multiple ui-select-bootstrap dropdown form-control" ng-class="{open: $select.open}"><div><div class="ui-select-match"><\/div><input type="text" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" class="ui-select-search input-xs" placeholder="{{$select.getPlaceholder()}}" ng-disabled="$select.disabled" ng-hide="$select.disabled" ng-click="$select.activate()" ng-model="$select.search" role="combobox" aria-label="{{ $select.baseTitle }}" ondrop="return false;"><\/div><div class="ui-select-choices"><\/div><\/div>');n.put("bootstrap/select.tpl.html",'<div class="ui-select-container ui-select-bootstrap dropdown" ng-class="{open: $select.open}"><div class="ui-select-match"><\/div><input type="text" autocomplete="off" tabindex="-1" aria-expanded="true" aria-label="{{ $select.baseTitle }}" aria-owns="ui-select-choices-{{ $select.generatedId }}" aria-activedescendant="ui-select-choices-row-{{ $select.generatedId }}-{{ $select.activeIndex }}" class="form-control ui-select-search" placeholder="{{$select.placeholder}}" ng-model="$select.search" ng-show="$select.searchEnabled && $select.open"><div class="ui-select-choices"><\/div><\/div>');n.put("select2/choices.tpl.html",'<ul class="ui-select-choices ui-select-choices-content select2-results"><li class="ui-select-choices-group" ng-class="{\'select2-result-with-children\': $select.choiceGrouped($group) }"><div ng-show="$select.choiceGrouped($group)" class="ui-select-choices-group-label select2-result-label" ng-bind="$group.name"><\/div><ul role="listbox" id="ui-select-choices-{{ $select.generatedId }}" ng-class="{\'select2-result-sub\': $select.choiceGrouped($group), \'select2-result-single\': !$select.choiceGrouped($group) }"><li role="option" id="ui-select-choices-row-{{ $select.generatedId }}-{{$index}}" class="ui-select-choices-row" ng-class="{\'select2-highlighted\': $select.isActive(this), \'select2-disabled\': $select.isDisabled(this)}"><div class="select2-result-label ui-select-choices-row-inner"><\/div><\/li><\/ul><\/li><\/ul>');n.put("select2/match-multiple.tpl.html",'<span class="ui-select-match"><li class="ui-select-match-item select2-search-choice" ng-repeat="$item in $select.selected" ng-class="{\'select2-search-choice-focus\':$select.activeMatchIndex === $index, \'select2-locked\':$select.isLocked(this, $index)}" ui-select-sort="$select.selected"><span uis-transclude-append=""><\/span> <a href="javascript:;" class="ui-select-match-close select2-search-choice-close" ng-click="$select.removeChoice($index)" tabindex="-1"><\/a><\/li><\/span>');n.put("select2/match.tpl.html",'<a class="select2-choice ui-select-match" ng-class="{\'select2-default\': $select.isEmpty()}" ng-click="$select.activate()" aria-label="{{ $select.baseTitle }} select"><span ng-show="$select.isEmpty()" class="select2-chosen">{{$select.placeholder}}<\/span> <span ng-hide="$select.isEmpty()" class="select2-chosen" ng-transclude=""><\/span> <abbr ng-if="$select.allowClear && !$select.isEmpty()" class="select2-search-choice-close" ng-click="$select.clear($event)"><\/abbr> <span class="select2-arrow ui-select-toggle" ng-click="$select.toggle($event)"><b><\/b><\/span><\/a>');n.put("select2/select-multiple.tpl.html",'<div class="ui-select-container ui-select-multiple select2 select2-container select2-container-multi" ng-class="{\'select2-container-active select2-dropdown-open open\': $select.open, \'select2-container-disabled\': $select.disabled}"><ul class="select2-choices"><span class="ui-select-match"><\/span><li class="select2-search-field"><input type="text" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" role="combobox" aria-expanded="true" aria-owns="ui-select-choices-{{ $select.generatedId }}" aria-label="{{ $select.baseTitle }}" aria-activedescendant="ui-select-choices-row-{{ $select.generatedId }}-{{ $select.activeIndex }}" class="select2-input ui-select-search" placeholder="{{$select.getPlaceholder()}}" ng-disabled="$select.disabled" ng-hide="$select.disabled" ng-model="$select.search" ng-click="$select.activate()" style="width: 34px;" ondrop="return false;"><\/li><\/ul><div class="select2-drop select2-with-searchbox select2-drop-active" ng-class="{\'select2-display-none\': !$select.open}"><div class="ui-select-choices"><\/div><\/div><\/div>');n.put("select2/select.tpl.html",'<div class="ui-select-container select2 select2-container" ng-class="{\'select2-container-active select2-dropdown-open open\': $select.open, \'select2-container-disabled\': $select.disabled, \'select2-container-active\': $select.focus, \'select2-allowclear\': $select.allowClear && !$select.isEmpty()}"><div class="ui-select-match"><\/div><div class="select2-drop select2-with-searchbox select2-drop-active" ng-class="{\'select2-display-none\': !$select.open}"><div class="select2-search" ng-show="$select.searchEnabled"><input type="text" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" role="combobox" aria-expanded="true" aria-owns="ui-select-choices-{{ $select.generatedId }}" aria-label="{{ $select.baseTitle }}" aria-activedescendant="ui-select-choices-row-{{ $select.generatedId }}-{{ $select.activeIndex }}" class="ui-select-search select2-input" ng-model="$select.search"><\/div><div class="ui-select-choices"><\/div><\/div><\/div>');n.put("selectize/choices.tpl.html",'<div ng-show="$select.open" class="ui-select-choices selectize-dropdown single"><div class="ui-select-choices-content selectize-dropdown-content"><div class="ui-select-choices-group optgroup" role="listbox"><div ng-show="$select.isGrouped" class="ui-select-choices-group-label optgroup-header" ng-bind="$group.name"><\/div><div role="option" class="ui-select-choices-row" ng-class="{active: $select.isActive(this), disabled: $select.isDisabled(this)}"><div class="option ui-select-choices-row-inner" data-selectable=""><\/div><\/div><\/div><\/div><\/div>');n.put("selectize/match.tpl.html",'<div ng-hide="($select.open || $select.isEmpty())" class="ui-select-match" ng-transclude=""><\/div>');n.put("selectize/select.tpl.html",'<div class="ui-select-container selectize-control single" ng-class="{\'open\': $select.open}"><div class="selectize-input" ng-class="{\'focus\': $select.open, \'disabled\': $select.disabled, \'selectize-focus\' : $select.focus}" ng-click="$select.activate()"><div class="ui-select-match"><\/div><input type="text" autocomplete="off" tabindex="-1" class="ui-select-search ui-select-toggle" ng-click="$select.toggle($event)" placeholder="{{$select.placeholder}}" ng-model="$select.search" ng-hide="!$select.searchEnabled || ($select.selected && !$select.open)" ng-disabled="$select.disabled" aria-label="{{ $select.baseTitle }}"><\/div><div class="ui-select-choices"><\/div><\/div>')}]);
/*!
Holder - client side image placeholders
Version 2.5.2+2mg3u
© 2015 Ivan Malopinsky - http://imsky.co
Site:     http://holderjs.com
Issues:   https://github.com/imsky/holder/issues
License:  http://opensource.org/licenses/MIT
*/
!function(n,t,i){t[n]=i}("onDomReady",this,function(n){"use strict";function e(n){if(!f){if(!t.body)return u(e);for(f=!0;n=nt.shift();)u(n)}}function i(n){(l||n.type===o||t[p]===y)&&(a(),e())}function a(){l?(t[g](k,i,r),n[g](o,i,r)):(t[b](d,i),n[b](v,i))}function u(n,t){setTimeout(n,+t>=0?t:1)}function h(n){f?u(n):nt.push(n)}null==document.readyState&&document.addEventListener&&(document.addEventListener("DOMContentLoaded",function tt(){document.removeEventListener("DOMContentLoaded",tt,!1);document.readyState="complete"},!1),document.readyState="loading");var t=n.document,it=t.documentElement,o="load",r=!1,v="on"+o,y="complete",p="readyState",w="attachEvent",b="detachEvent",c="addEventListener",k="DOMContentLoaded",d="onreadystatechange",g="removeEventListener",l=c in t,s=r,f=r,nt=[];if(t[p]===y)u(e);else if(l)t[c](k,i,r),n[c](o,i,r);else{t[w](d,i);n[w](v,i);try{s=null==n.frameElement&&it}catch(ut){}s&&s.doScroll&&!function rt(){if(!f){try{s.doScroll("left")}catch(n){return u(rt,50)}a();e()}}()}return h.version="1.4.0",h.isReady=function(){return f},h}(this));document.querySelectorAll||(document.querySelectorAll=function(n){var i,t=document.createElement("style"),r=[];for(document.documentElement.firstChild.appendChild(t),document._qsa=[],t.styleSheet.cssText=n+"{x-qsa:expression(document._qsa && document._qsa.push(this))}",window.scrollBy(0,0),t.parentNode.removeChild(t);document._qsa.length;)i=document._qsa.shift(),i.style.removeAttribute("x-qsa"),r.push(i);return document._qsa=null,r});document.querySelector||(document.querySelector=function(n){var t=document.querySelectorAll(n);return t.length?t[0]:null});document.getElementsByClassName||(document.getElementsByClassName=function(n){return n=String(n).replace(/^|\s+/g,"."),document.querySelectorAll(n)});Object.keys||(Object.keys=function(n){if(n!==Object(n))throw TypeError("Object.keys called on non-object");var t,i=[];for(t in n)Object.prototype.hasOwnProperty.call(n,t)&&i.push(t);return i}),function(n){var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";n.atob=n.atob||function(n){n=String(n);var e,f=0,r=[],i=0,u=0;if(n=n.replace(/\s/g,""),n.length%4==0&&(n=n.replace(/=+$/,"")),n.length%4==1)throw Error("InvalidCharacterError");if(/[^+/0-9A-Za-z]/.test(n))throw Error("InvalidCharacterError");for(;f<n.length;)e=t.indexOf(n.charAt(f)),i=i<<6|e,u+=6,24===u&&(r.push(String.fromCharCode(i>>16&255)),r.push(String.fromCharCode(i>>8&255)),r.push(String.fromCharCode(255&i)),u=0,i=0),f+=1;return 12===u?(i>>=4,r.push(String.fromCharCode(255&i))):18===u&&(i>>=2,r.push(String.fromCharCode(i>>8&255)),r.push(String.fromCharCode(255&i))),r.join("")};n.btoa=n.btoa||function(n){n=String(n);var u,f,e,s,h,o,r,i=0,c=[];if(/[^\x00-\xFF]/.test(n))throw Error("InvalidCharacterError");for(;i<n.length;)u=n.charCodeAt(i++),f=n.charCodeAt(i++),e=n.charCodeAt(i++),s=u>>2,h=(3&u)<<4|f>>4,o=(15&f)<<2|e>>6,r=63&e,i===n.length+2?(o=64,r=64):i===n.length+1&&(r=64),c.push(t.charAt(s),t.charAt(h),t.charAt(o),t.charAt(r));return c.join("")}}(this);Object.prototype.hasOwnProperty||(Object.prototype.hasOwnProperty=function(n){var t=this.__proto__||this.constructor.prototype;return n in this&&(!(n in t)||t[n]!==this[n])});window.requestAnimationFrame||(window.webkitRequestAnimationFrame?!function(n){n.requestAnimationFrame=function(t){return webkitRequestAnimationFrame(function(){t(n.performance.now())})};n.cancelAnimationFrame=webkitCancelAnimationFrame}(this):window.mozRequestAnimationFrame?!function(n){n.requestAnimationFrame=function(t){return mozRequestAnimationFrame(function(){t(n.performance.now())})};n.cancelAnimationFrame=mozCancelAnimationFrame}(this):!function(n){n.requestAnimationFrame=function(t){return n.setTimeout(t,1e3/60)};n.cancelAnimationFrame=n.clearTimeout}(this)),function(n,t){n.augment=t()}(this,function(){var t=function(){},i=Array.prototype.slice,n=function(n,r){var s=t.prototype="function"==typeof n?n.prototype:n,u=new t,f=r.apply(u,i.call(arguments,2).concat(s)),e,o;if("object"==typeof f)for(e in f)u[e]=f[e];return u.hasOwnProperty("constructor")?(o=u.constructor,o.prototype=u,o):u};return n.defclass=function(n){var t=n.constructor;return t.prototype=n,t},n.extend=function(t,i){return n(t,function(n){return this.uber=n,i})},n}),function(n,t){function s(n,t,i,r){var u=w(i.substr(i.lastIndexOf(n.domain)),n);u&&b({mode:null,el:r,flags:u,engineSettings:t})}function w(n,t){for(var r,f,l,a,u={theme:o(i.settings.themes.gray,null),stylesheets:t.stylesheets,holderURL:[]},s=!1,c=String.fromCharCode(11),h=n.replace(/([^\\])\//g,"$1"+c).split(c),v=/%[0-9a-f]{2}/gi,y=h.length,e=0;y>e;e++){if(r=h[e],r.match(v))try{r=decodeURIComponent(r)}catch(p){r=h[e]}f=!1;i.flags.dimensions.match(r)?(s=!0,u.dimensions=i.flags.dimensions.output(r),f=!0):i.flags.fluid.match(r)?(s=!0,u.dimensions=i.flags.fluid.output(r),u.fluid=!0,f=!0):i.flags.textmode.match(r)?(u.textmode=i.flags.textmode.output(r),f=!0):i.flags.colors.match(r)?(l=i.flags.colors.output(r),u.theme=o(u.theme,l),f=!0):t.themes[r]?(t.themes.hasOwnProperty(r)&&(u.theme=o(t.themes[r],null)),f=!0):i.flags.font.match(r)?(u.font=i.flags.font.output(r),f=!0):i.flags.auto.match(r)?(u.auto=!0,f=!0):i.flags.text.match(r)?(u.text=i.flags.text.output(r),f=!0):i.flags.size.match(r)?(u.size=i.flags.size.output(r),f=!0):i.flags.random.match(r)&&(null==i.vars.cache.themeKeys&&(i.vars.cache.themeKeys=Object.keys(t.themes)),a=i.vars.cache.themeKeys[0|Math.random()*i.vars.cache.themeKeys.length],u.theme=o(t.themes[a],null),f=!0);f&&u.holderURL.push(r)}return u.holderURL.unshift(t.domain),u.holderURL=u.holderURL.join("/"),s?u:!1}function b(n){var s=n.mode,t=n.el,u=n.flags,b=n.engineSettings,e=u.dimensions,c=u.theme,w=e.width+"x"+e.height,l,v,y,f,p;if(s=null==s?u.fluid?"fluid":"image":s,null!=u.text&&(c.text=u.text,"object"===t.nodeName.toLowerCase())){for(l=c.text.split("\\n"),v=0;v<l.length;v++)l[v]=ht(l[v]);c.text=l.join("\\n")}y=u.holderURL;f=o(b,null);u.font&&(c.font=u.font,!f.noFontFallback&&"img"===t.nodeName.toLowerCase()&&i.setup.supportsCanvas&&"svg"===f.renderer&&(f=o(f,{renderer:"canvas"})));u.font&&"canvas"==f.renderer&&(f.reRender=!0);"background"==s?null==t.getAttribute("data-background-src")&&r(t,{"data-background-src":y}):r(t,{"data-src":y});u.theme=c;t.holderData={flags:u,engineSettings:f};("image"==s||"fluid"==s)&&r(t,{alt:c.text?c.text+" ["+w+"]":w});p={mode:s,el:t,holderSettings:{dimensions:e,theme:c,flags:u},engineSettings:f};"image"==s?("html"!=f.renderer&&u.auto||(t.style.width=e.width+"px",t.style.height=e.height+"px"),"html"==f.renderer?t.style.backgroundColor=c.background:(a(p),"exact"==u.textmode&&(t.holderData.resizeUpdate=!0,i.vars.resizableImages.push(t),h(t)))):"background"==s&&"html"!=f.renderer?a(p):"fluid"==s&&(t.holderData.resizeUpdate=!0,"%"==e.height.slice(-1)?t.style.height=e.height:null!=u.auto&&u.auto||(t.style.height=e.height+"px"),"%"==e.width.slice(-1)?t.style.width=e.width:null!=u.auto&&u.auto||(t.style.width=e.width+"px"),("inline"==t.style.display||""===t.style.display||"none"==t.style.display)&&(t.style.display="block"),ut(t),"html"==f.renderer?t.style.backgroundColor=c.background:(i.vars.resizableImages.push(t),h(t)))}function a(n){function c(){var t=null;switch(o.renderer){case"canvas":t=yt(h,n);break;case"svg":t=pt(h,n);break;default:throw"Holder: invalid renderer: "+o.renderer;}return t}var f=null,l=n.mode,e=n.holderSettings,u=n.el,o=n.engineSettings,s,h;switch(o.renderer){case"svg":if(!i.setup.supportsSVG)return;break;case"canvas":if(!i.setup.supportsCanvas)return;break;default:return}if(s={width:e.dimensions.width,height:e.dimensions.height,theme:e.theme,flags:e.flags},h=it(s),f=c(),null==f)throw"Holder: couldn't render placeholder";"background"==l?(u.style.backgroundImage="url("+f+")",u.style.backgroundSize=s.width+"px "+s.height+"px"):("img"===u.nodeName.toLowerCase()?r(u,{src:f}):"object"===u.nodeName.toLowerCase()&&(r(u,{data:f}),r(u,{type:"image/svg+xml"})),o.reRender&&t.setTimeout(function(){var n=c();if(null==n)throw"Holder: couldn't render placeholder";"img"===u.nodeName.toLowerCase()?r(u,{src:n}):"object"===u.nodeName.toLowerCase()&&(r(u,{data:n}),r(u,{type:"image/svg+xml"}))},100));r(u,{"data-holder-rendered":!0})}function it(n){function y(n,t,i,r){t.width=i;t.height=r;n.width=Math.max(n.width,t.width);n.height+=t.height;n.add(t)}var l=i.defaults.size,t,u,e,r,c,h,v,b;switch(parseFloat(n.theme.size)?l=n.theme.size:parseFloat(n.flags.size)&&(l=n.flags.size),n.font={family:n.theme.font?n.theme.font:"Arial, Helvetica, Open Sans, sans-serif",size:rt(n.width,n.height,l),units:n.theme.units?n.theme.units:i.defaults.units,weight:n.theme.fontweight?n.theme.fontweight:"bold"},n.text=n.theme.text?n.theme.text:Math.floor(n.width)+"x"+Math.floor(n.height),n.flags.textmode){case"literal":n.text=n.flags.dimensions.width+"x"+n.flags.dimensions.height;break;case"exact":if(!n.flags.exactDimensions)break;n.text=Math.floor(n.flags.exactDimensions.width)+"x"+Math.floor(n.flags.exactDimensions.height)}var s=new wt({width:n.width,height:n.height}),f=s.Shape,p=new f.Rect("holderBg",{fill:n.theme.background});if(p.resize(n.width,n.height),s.root.add(p),t=new f.Group("holderTextGroup",{text:n.text,align:"center",font:n.font,fill:n.theme.foreground}),t.moveTo(null,null,1),s.root.add(t),u=t.textPositionData=vt(s),!u)throw"Holder: staging fallback not supported yet.";if(t.properties.leading=u.boundingBox.height,e=null,r=null,u.lineCount>1){var o=0,w=0,k=n.width*i.setup.lineWrapRatio,a=0;for(r=new f.Group("line"+a),c=0;c<u.words.length;c++)h=u.words[c],e=new f.Text(h.text),v="\\n"==h.text,(o+h.width>=k||v===!0)&&(y(t,r,o,t.properties.leading),o=0,w+=t.properties.leading,a+=1,r=new f.Group("line"+a),r.y=w),v!==!0&&(e.moveTo(o,0),o+=u.spaceWidth+h.width,r.add(e));y(t,r,o,t.properties.leading);for(b in t.children)r=t.children[b],r.moveTo((t.width-r.width)/2,null,null);t.moveTo((n.width-t.width)/2,(n.height-t.height)/2,null);(n.height-t.height)/2<0&&t.moveTo(null,0,null)}else e=new f.Text(n.text),r=new f.Group("line0"),r.add(e),t.add(r),t.moveTo((n.width-u.boundingBox.width)/2,(n.height-u.boundingBox.height)/2,null);return s}function rt(n,t,r){var u=parseInt(n,10),f=parseInt(t,10),e=Math.max(u,f),o=Math.min(u,f),s=.8*Math.min(o,e*i.defaults.scale);return Math.round(Math.max(r,s))}function h(n){var o,f,h,t,r,u,e,s;for(o=null==n||null==n.nodeType?i.vars.resizableImages:[n],f=0,h=o.length;h>f;f++)if(t=o[f],t.holderData)if(r=t.holderData.flags,u=v(t),u){if(!t.holderData.resizeUpdate)continue;if(r.fluid&&r.auto){e=t.holderData.fluidConfig;switch(e.mode){case"width":u.height=u.width/e.ratio;break;case"height":u.width=u.height*e.ratio}}s={mode:"image",holderSettings:{dimensions:u,theme:r.theme,flags:r},el:t,engineSettings:t.holderData.engineSettings};"exact"==r.textmode&&(r.exactDimensions=u,s.holderSettings.dimensions=r.dimensions);a(s)}else d(t)}function ut(n){var r,i,t;n.holderData&&(r=v(n),r?(i=n.holderData.flags,t={fluidHeight:"%"==i.dimensions.height.slice(-1),fluidWidth:"%"==i.dimensions.width.slice(-1),mode:null,initialDimensions:r},t.fluidWidth&&!t.fluidHeight?(t.mode="width",t.ratio=t.initialDimensions.width/parseFloat(i.dimensions.height)):!t.fluidWidth&&t.fluidHeight&&(t.mode="height",t.ratio=parseFloat(i.dimensions.width)/t.initialDimensions.height),n.holderData.fluidConfig=t):d(n))}function v(n){var t={height:n.clientHeight,width:n.clientWidth};return t.height&&t.width?t:!1}function k(){for(var n,u=[],f=Object.keys(i.vars.invisibleImages),r=0,e=f.length;e>r;r++)n=i.vars.invisibleImages[f[r]],v(n)&&"img"==n.nodeName.toLowerCase()&&(u.push(n),delete i.vars.invisibleImages[f[r]]);u.length&&l.run({images:u});t.requestAnimationFrame(k)}function ft(){i.vars.visibilityCheckStarted||(t.requestAnimationFrame(k),i.vars.visibilityCheckStarted=!0)}function d(n){n.holderData.invisibleId||(i.vars.invisibleId+=1,i.vars.invisibleImages["i"+i.vars.invisibleId]=n,n.holderData.invisibleId=i.vars.invisibleId)}function f(n,t){return null==t?u.createElement(n):u.createElementNS(t,n)}function r(n,t){for(var i in t)n.setAttribute(i,t[i])}function y(n,t,i){var o,u;for(null==n&&(n=f("svg",e),o=f("defs",e),n.appendChild(o)),n.webkitMatchesSelector&&n.setAttribute("xmlns",e),u=0;u<n.childNodes.length;u++)n.childNodes[u].nodeType===lt&&n.removeChild(n.childNodes[u]);return r(n,{width:t,height:i,viewBox:"0 0 "+t+" "+i,preserveAspectRatio:"none"}),n}function et(n,i){var r,u,h,c,f;if(t.XMLSerializer){var e=new XMLSerializer,o="",s=i.stylesheets;if(n.querySelector("defs"),i.svgXMLStylesheet){for(r=(new DOMParser).parseFromString("<xml />","application/xml"),u=s.length-1;u>=0;u--)h=r.createProcessingInstruction("xml-stylesheet",'href="'+s[u]+'" rel="stylesheet"'),r.insertBefore(h,r.firstChild);c=r.createProcessingInstruction("xml",'version="1.0" encoding="UTF-8" standalone="yes"');r.insertBefore(c,r.firstChild);r.removeChild(r.documentElement);o=e.serializeToString(r)}return f=e.serializeToString(n),f=f.replace(/\&amp;(\#[0-9]{2,}\;)/g,"&$1"),o+f}}function o(n,t){var u={},i,r;for(i in n)n.hasOwnProperty(i)&&(u[i]=n[i]);if(null!=t)for(r in t)t.hasOwnProperty(r)&&(u[r]=t[r]);return u}function g(n){var i=[];for(var t in n)n.hasOwnProperty(t)&&i.push(t+":"+n[t]);return i.join(";")}function ot(n){i.vars.debounceTimer||n.call(this);i.vars.debounceTimer&&t.clearTimeout(i.vars.debounceTimer);i.vars.debounceTimer=t.setTimeout(function(){i.vars.debounceTimer=null;n.call(this)},i.setup.debounce)}function p(){ot(function(){h(null)})}function c(n){var i=null;return"string"==typeof n?i=u.querySelectorAll(n):t.NodeList&&n instanceof t.NodeList?i=n:t.Node&&n instanceof t.Node?i=[n]:t.HTMLCollection&&n instanceof t.HTMLCollection?i=n:n instanceof Array?i=n:null===n&&(i=[]),i}function st(n,t){var i=new Image;i.onerror=function(){t.call(this,!1)};i.onload=function(){t.call(this,!0)};i.src=n}function ht(n){for(var r=[],i=0,t=n.length-1;t>=0;t--)i=n.charCodeAt(t),r.unshift(i>128?["&#",i,";"].join(""):n[t]);return r.join("")}function ct(n){return n.replace(/&#(\d+);/g,function(n,t){return String.fromCharCode(t)})}var e="http://www.w3.org/2000/svg",lt=8,u=t.document,nt="2.5.2",at="\nCreated with Holder.js "+nt+".\nLearn more at http://holderjs.com\n(c) 2012-2015 Ivan Malopinsky - http://imsky.co\n",l={version:nt,addTheme:function(n,t){return null!=n&&null!=t&&(i.settings.themes[n]=t),delete i.vars.cache.themeKeys,this},addImage:function(n,t){var e=u.querySelectorAll(t),i,s,o;if(e.length)for(i=0,s=e.length;s>i;i++)o=f("img"),r(o,{"data-src":n}),e[i].appendChild(o);return this},setResizeUpdate:function(n,t){n.holderData&&(n.holderData.resizeUpdate=!!t,n.holderData.resizeUpdate&&h(n))},run:function(n){var e,r,u,p,et,v,ot,k,nt,ct,tt,it,d,l,lt,at,a,h;n=n||{};e={};i.vars.preempted=!0;r=o(i.settings,n);e.renderer=r.renderer?r.renderer:i.setup.renderer;-1===i.setup.renderers.join(",").indexOf(e.renderer)&&(e.renderer=i.setup.supportsSVG?"svg":i.setup.supportsCanvas?"canvas":"html");var rt=c(r.images),g=c(r.bgnodes),ut=c(r.stylenodes),ft=c(r.objects);for(e.stylesheets=[],e.svgXMLStylesheet=!0,e.noFontFallback=r.noFontFallback?r.noFontFallback:!1,u=0;u<ut.length;u++)p=ut[u],p.attributes.rel&&p.attributes.href&&"stylesheet"==p.attributes.rel.value&&(et=p.attributes.href.value,v=f("a"),v.href=et,ot=v.protocol+"//"+v.host+v.pathname+v.search,e.stylesheets.push(ot));for(u=0;u<g.length;u++)if(t.getComputedStyle){var yt=t.getComputedStyle(g[u],null).getPropertyValue("background-image"),ht=g[u].getAttribute("data-background-src"),y=null;y=null==ht?yt:ht;k=null;nt="?"+r.domain+"/";0===y.indexOf(nt)?k=y.slice(1):-1!=y.indexOf(nt)&&(ct=y.substr(y.indexOf(nt)).slice(1),tt=ct.match(/([^\"]*)"?\)/),null!=tt&&(k=tt[1]));null!=k&&(it=w(k,r),it&&b({mode:"background",el:g[u],flags:it,engineSettings:e}))}for(u=0;u<ft.length;u++){d=ft[u];l={};try{l.data=d.getAttribute("data");l.dataSrc=d.getAttribute("data-src")}catch(bt){}lt=null!=l.data&&0===l.data.indexOf(r.domain);at=null!=l.dataSrc&&0===l.dataSrc.indexOf(r.domain);lt?s(r,e,l.data,d):at&&s(r,e,l.dataSrc,d)}for(u=0;u<rt.length;u++){a=rt[u];h={};try{h.src=a.getAttribute("src");h.dataSrc=a.getAttribute("data-src");h.rendered=a.getAttribute("data-holder-rendered")}catch(bt){}var pt=null!=h.src,vt=null!=h.dataSrc&&0===h.dataSrc.indexOf(r.domain),wt=null!=h.rendered&&"true"==h.rendered;pt?0===h.src.indexOf(r.domain)?s(r,e,h.src,a):vt&&(wt?s(r,e,h.dataSrc,a):!function(n,t,i,r,u){st(n,function(n){n||s(t,i,r,u)})}(h.src,r,e,h.dataSrc,a)):vt&&s(r,e,h.dataSrc,a)}return this}},i={settings:{domain:"holder.js",images:"img",objects:"object",bgnodes:"body .holderjs",stylenodes:"head link.holderjs",stylesheets:[],themes:{gray:{background:"#EEEEEE",foreground:"#AAAAAA"},social:{background:"#3a5a97",foreground:"#FFFFFF"},industrial:{background:"#434A52",foreground:"#C2F200"},sky:{background:"#0D8FDB",foreground:"#FFFFFF"},vine:{background:"#39DBAC",foreground:"#1E292C"},lava:{background:"#F8591A",foreground:"#1C2846"}}},defaults:{size:10,units:"pt",scale:1/16},flags:{dimensions:{regex:/^(\d+)x(\d+)$/,output:function(n){var t=this.regex.exec(n);return{width:+t[1],height:+t[2]}}},fluid:{regex:/^([0-9]+%?)x([0-9]+%?)$/,output:function(n){var t=this.regex.exec(n);return{width:t[1],height:t[2]}}},colors:{regex:/(?:#|\^)([0-9a-f]{3,})\:(?:#|\^)([0-9a-f]{3,})/i,output:function(n){var t=this.regex.exec(n);return{foreground:"#"+t[2],background:"#"+t[1]}}},text:{regex:/text\:(.*)/,output:function(n){return this.regex.exec(n)[1].replace("\\/","/")}},font:{regex:/font\:(.*)/,output:function(n){return this.regex.exec(n)[1]}},auto:{regex:/^auto$/},textmode:{regex:/textmode\:(.*)/,output:function(n){return this.regex.exec(n)[1]}},random:{regex:/^random$/},size:{regex:/size\:(\d+)/,output:function(n){return this.regex.exec(n)[1]}}}},vt=function(){var n=null,t=null,o=null;return function(s){var a=s.root,v,b,k,h,c,tt;if(i.setup.supportsSVG){v=!1;b=function(n){return u.createTextNode(n)};(null==n||n.parentNode!==u.body)&&(v=!0);n=y(n,a.properties.width,a.properties.height);n.style.display="block";v&&(t=f("text",e),o=b(null),r(t,{x:0}),t.appendChild(o),n.appendChild(t),u.body.appendChild(n),n.style.visibility="hidden",n.style.position="absolute",n.style.top="-100%",n.style.left="-100%");k=a.children.holderTextGroup;h=k.properties;r(t,{y:h.font.size,style:g({"font-weight":h.font.weight,"font-size":h.font.size+h.font.units,"font-family":h.font.family})});o.nodeValue=h.text;var p=t.getBBox(),w=Math.ceil(p.width/(a.properties.width*i.setup.lineWrapRatio)),l=h.text.split(" "),d=h.text.match(/\\n/g);w+=null==d?0:d.length;o.nodeValue=h.text.replace(/[ ]+/g,"");var it=t.getComputedTextLength(),rt=p.width-it,ut=Math.round(rt/Math.max(1,l.length-1)),nt=[];if(w>1)for(o.nodeValue="",c=0;c<l.length;c++)0!==l[c].length&&(o.nodeValue=ct(l[c]),tt=t.getBBox(),nt.push({text:l[c],width:tt.width}));return n.style.display="none",{spaceWidth:ut,lineCount:w,boundingBox:p,words:nt}}return!1}}(),yt=function(){var t=f("canvas"),n=null;return function(r){var f,u,s,e,h;null==n&&(n=t.getContext("2d"));f=r.root;t.width=i.dpr(f.properties.width);t.height=i.dpr(f.properties.height);n.textBaseline="middle";n.fillStyle=f.children.holderBg.properties.fill;n.fillRect(0,0,i.dpr(f.children.holderBg.width),i.dpr(f.children.holderBg.height));u=f.children.holderTextGroup;u.properties;n.font=u.properties.font.weight+" "+i.dpr(u.properties.font.size)+u.properties.font.units+" "+u.properties.font.family+", monospace";n.fillStyle=u.properties.fill;for(s in u.children){e=u.children[s];for(h in e.children){var o=e.children[h],c=i.dpr(u.x+e.x+o.x),l=i.dpr(u.y+e.y+o.y+u.properties.leading/2);n.fillText(o.properties.text,c,l)}}return t.toDataURL("image/png")}}(),pt=function(){if(t.XMLSerializer){var n=y(null,0,0),i=f("rect",e);return n.appendChild(i),function(t,o){var h=t.root,tt=o.holderSettings.flags.holderURL,it=u.createComment("\nSource URL: "+tt+at),v,c,k,a,d;for(y(n,h.properties.width,h.properties.height),n.insertBefore(it,n.firstChild),v=n.querySelectorAll("g"),c=0;c<v.length;c++)v[c].parentNode.removeChild(v[c]);r(i,{width:h.children.holderBg.width,height:h.children.holderBg.height,fill:h.children.holderBg.properties.fill});var s=h.children.holderTextGroup,l=s.properties,b=f("g",e),rt=s.textPositionData;n.appendChild(b);s.y+=.8*rt.boundingBox.height;for(k in s.children){a=s.children[k];for(d in a.children){var p=a.children[d],ut=s.x+a.x+p.x,ft=s.y+a.y+p.y,w=f("text",e),nt=u.createTextNode(null);r(w,{x:ut,y:ft,style:g({fill:l.fill,"font-weight":l.font.weight,"font-family":l.font.family+", monospace","font-size":l.font.size+l.font.units})});nt.nodeValue=p.properties.text;w.appendChild(nt);b.appendChild(w)}}return"data:image/svg+xml;base64,"+btoa(unescape(encodeURIComponent(et(n,o.engineSettings))))}}}(),wt=function(n){function r(n,t){for(var i in t)n[i]=t[i];return n}var t=1,i=augment.defclass({constructor:function(n){t++;this.parent=null;this.children={};this.id=t;this.name="n"+t;null!=n&&(this.name=n);this.x=0;this.y=0;this.z=0;this.width=0;this.height=0},resize:function(n,t){null!=n&&(this.width=n);null!=t&&(this.height=t)},moveTo:function(n,t,i){this.x=null!=n?n:this.x;this.y=null!=t?t:this.y;this.z=null!=i?i:this.z},add:function(n){var t=n.name;if(null!=this.children[t])throw"SceneGraph: child with that name already exists: "+t;this.children[t]=n;n.parent=this}}),u=augment(i,function(t){this.constructor=function(){t.constructor.call(this,"root");this.properties=n}}),f=augment(i,function(n){function t(t,i){if(n.constructor.call(this,t),this.properties={fill:"#000"},null!=i)r(this.properties,i);else if(null!=t&&"string"!=typeof t)throw"SceneGraph: invalid node name";}this.Group=augment.extend(this,{constructor:t,type:"group"});this.Rect=augment.extend(this,{constructor:t,type:"rect"});this.Text=augment.extend(this,{constructor:function(n){t.call(this);this.properties.text=n},type:"text"})}),e=new u;return this.Shape=f,this.root=e,this};for(var tt in i.flags)i.flags.hasOwnProperty(tt)&&(i.flags[tt].match=function(n){return n.match(this.regex)});i.setup={renderer:"html",debounce:100,ratio:1,supportsCanvas:!1,supportsSVG:!1,lineWrapRatio:.9,renderers:["html","canvas","svg"]};i.dpr=function(n){return n*i.setup.ratio};i.vars={preempted:!1,resizableImages:[],invisibleImages:{},invisibleId:0,visibilityCheckStarted:!1,debounceTimer:null,cache:{}},function(){var o=1,s=1,r=f("canvas"),n=null;r.getContext&&-1!=r.toDataURL("image/png").indexOf("data:image/png")&&(i.setup.renderer="canvas",n=r.getContext("2d"),i.setup.supportsCanvas=!0);i.setup.supportsCanvas&&(o=t.devicePixelRatio||1,s=n.webkitBackingStorePixelRatio||n.mozBackingStorePixelRatio||n.msBackingStorePixelRatio||n.oBackingStorePixelRatio||n.backingStorePixelRatio||1);i.setup.ratio=o/s;u.createElementNS&&u.createElementNS(e,"svg").createSVGRect&&(i.setup.renderer="svg",i.setup.supportsSVG=!0)}();ft();n(l,"Holder",t);t.onDomReady&&t.onDomReady(function(){i.vars.preempted||l.run();t.addEventListener?(t.addEventListener("resize",p,!1),t.addEventListener("orientationchange",p,!1)):t.attachEvent("onresize",p);"object"==typeof t.Turbolinks&&t.document.addEventListener("page:change",function(){l.run()})})}(function(n,t,i){var r="function"==typeof define&&define.amd;"object"==typeof exports;r?define(n):i[t]=n},this),function(n,t){"use strict";var i=t.module("ngHolder",[]);i.directive("holder",[function(){return{link:function(n,t,i){i.holder&&i.$set("data-src",i.holder);Holder.run({images:t[0]})}}}])}(window,window.angular);
/*! perfect-scrollbar - v0.4.11
* http://noraesae.github.com/perfect-scrollbar/
* Copyright (c) 2014 Hyeonje Alex Jun; Licensed MIT */
(function(n){"use strict";"function"==typeof define&&define.amd?define(["jquery"],n):"object"==typeof exports?n(require("jquery")):n(jQuery)})(function(n){"use strict";var t={wheelSpeed:10,wheelPropagation:!1,minScrollbarLength:null,maxScrollbarLength:null,useBothWheelAxes:!1,useKeyboard:!0,suppressScrollX:!1,suppressScrollY:!1,scrollXMarginOffset:0,scrollYMarginOffset:0,includePadding:!1},i=function(){var n=0;return function(){var t=n;return n+=1,".perfect-scrollbar-"+t}}();n.fn.perfectScrollbar=function(r,u){return this.each(function(){var o=n.extend(!0,{},t),f=n(this);if("object"==typeof r?n.extend(!0,o,r):u=r,"update"===u)return f.data("perfect-scrollbar-update")&&f.data("perfect-scrollbar-update")(),f;if("destroy"===u)return f.data("perfect-scrollbar-destroy")&&f.data("perfect-scrollbar-destroy")(),f;if(f.data("perfect-scrollbar"))return f.data("perfect-scrollbar");f.addClass("ps-container");var d,g,h,c,y,nt,a,w,v,b,s=n("<div class='ps-scrollbar-x-rail'><\/div>").appendTo(f),l=n("<div class='ps-scrollbar-y-rail'><\/div>").appendTo(f),k=n("<div class='ps-scrollbar-x'><\/div>").appendTo(s),p=n("<div class='ps-scrollbar-y'><\/div>").appendTo(l),it=parseInt(s.css("bottom"),10),rt=it===it,ot=rt?null:parseInt(s.css("top"),10),tt=parseInt(l.css("right"),10),ut=tt===tt,ft=ut?null:parseInt(l.css("left"),10),st="rtl"===f.css("direction"),e=i(),at=parseInt(s.css("borderLeftWidth"),10)+parseInt(s.css("borderRightWidth"),10),vt=parseInt(s.css("borderTopWidth"),10)+parseInt(s.css("borderBottomWidth"),10),yt=function(n,t){var r=n+t,u=c-v,i;b=0>r?0:r>u?u:r;i=parseInt(b*(nt-c)/(c-v),10);f.scrollTop(i);rt?s.css({bottom:it-i}):s.css({top:ot+i})},pt=function(n,t){var r=n+t,u=h-a,i;w=0>r?0:r>u?u:r;i=parseInt(w*(y-h)/(h-a),10);f.scrollLeft(i);ut?l.css({right:tt-i}):l.css({left:ft+i})},ht=function(n){return o.minScrollbarLength&&(n=Math.max(n,o.minScrollbarLength)),o.maxScrollbarLength&&(n=Math.min(n,o.maxScrollbarLength)),n},ct=function(){var n={width:h,display:d?"inherit":"none"},t;n.left=st?f.scrollLeft()+h-y:f.scrollLeft();rt?n.bottom=it-f.scrollTop():n.top=ot+f.scrollTop();s.css(n);t={top:f.scrollTop(),height:c,display:g?"inherit":"none"};ut?t.right=st?y-f.scrollLeft()-tt-p.outerWidth():tt-f.scrollLeft():t.left=st?f.scrollLeft()+2*h-y-ft-p.outerWidth():ft+f.scrollLeft();l.css(t);k.css({left:w,width:a-at});p.css({top:b,height:v-vt});d?f.addClass("ps-active-x"):f.removeClass("ps-active-x");g?f.addClass("ps-active-y"):f.removeClass("ps-active-y")},et=function(){h=o.includePadding?f.innerWidth():f.width();c=o.includePadding?f.innerHeight():f.height();y=f.prop("scrollWidth");nt=f.prop("scrollHeight");!o.suppressScrollX&&y>h+o.scrollXMarginOffset?(d=!0,a=ht(parseInt(h*h/y,10)),w=parseInt(f.scrollLeft()*(h-a)/(y-h),10)):(d=!1,a=0,w=0,f.scrollLeft(0));!o.suppressScrollY&&nt>c+o.scrollYMarginOffset?(g=!0,v=ht(parseInt(c*c/nt,10)),b=parseInt(f.scrollTop()*(c-v)/(nt-c),10)):(g=!1,v=0,b=0,f.scrollTop(0));b>=c-v&&(b=c-v);w>=h-a&&(w=h-a);ct()},wt=function(){var t,i;k.bind("mousedown"+e,function(n){i=n.pageX;t=k.position().left;s.addClass("in-scrolling");n.stopPropagation();n.preventDefault()});n(document).bind("mousemove"+e,function(n){s.hasClass("in-scrolling")&&(pt(t,n.pageX-i),n.stopPropagation(),n.preventDefault())});n(document).bind("mouseup"+e,function(){s.hasClass("in-scrolling")&&s.removeClass("in-scrolling")});t=i=null},bt=function(){var t,i;p.bind("mousedown"+e,function(n){i=n.pageY;t=p.position().top;l.addClass("in-scrolling");n.stopPropagation();n.preventDefault()});n(document).bind("mousemove"+e,function(n){l.hasClass("in-scrolling")&&(yt(t,n.pageY-i),n.stopPropagation(),n.preventDefault())});n(document).bind("mouseup"+e,function(){l.hasClass("in-scrolling")&&l.removeClass("in-scrolling")});t=i=null},lt=function(n,t){var r=f.scrollTop(),i;if(0===n){if(!g)return!1;if(0===r&&t>0||r>=nt-c&&0>t)return!o.wheelPropagation}if(i=f.scrollLeft(),0===t){if(!d)return!1;if(0===i&&0>n||i>=y-h&&n>0)return!o.wheelPropagation}return!0},kt=function(){o.wheelSpeed/=10;var n=!1;f.bind("mousewheel"+e,function(t,i,r,u){var e=t.deltaX*t.deltaFactor||r,s=t.deltaY*t.deltaFactor||u;n=!1;o.useBothWheelAxes?g&&!d?(s?f.scrollTop(f.scrollTop()-s*o.wheelSpeed):f.scrollTop(f.scrollTop()+e*o.wheelSpeed),n=!0):d&&!g&&(e?f.scrollLeft(f.scrollLeft()+e*o.wheelSpeed):f.scrollLeft(f.scrollLeft()-s*o.wheelSpeed),n=!0):(f.scrollTop(f.scrollTop()-s*o.wheelSpeed),f.scrollLeft(f.scrollLeft()+e*o.wheelSpeed));et();n=n||lt(e,s);n&&(t.stopPropagation(),t.preventDefault())});f.bind("MozMousePixelScroll"+e,function(t){n&&t.preventDefault()})},dt=function(){var t=!1,i;f.bind("mouseenter"+e,function(){t=!0});f.bind("mouseleave"+e,function(){t=!1});i=!1;n(document).bind("keydown"+e,function(r){if(!(r.isDefaultPrevented&&r.isDefaultPrevented()||!t||n(document.activeElement).is(":input,[contenteditable]"))){var e=0,u=0;switch(r.which){case 37:e=-30;break;case 38:u=30;break;case 39:e=30;break;case 40:u=-30;break;case 33:u=90;break;case 32:case 34:u=-90;break;case 35:u=-c;break;case 36:u=c;break;default:return}f.scrollTop(f.scrollTop()-u);f.scrollLeft(f.scrollLeft()+e);i=lt(e,u);i&&r.preventDefault()}})},gt=function(){var n=function(n){n.stopPropagation()};p.bind("click"+e,n);l.bind("click"+e,function(n){var i=parseInt(v/2,10),r=n.pageY-l.offset().top-i,u=c-v,t=r/u;0>t?t=0:t>1&&(t=1);f.scrollTop((nt-c)*t)});k.bind("click"+e,n);s.bind("click"+e,function(n){var i=parseInt(a/2,10),r=n.pageX-s.offset().left-i,u=h-a,t=r/u;0>t?t=0:t>1&&(t=1);f.scrollLeft((y-h)*t)})},ni=function(){var s=function(n,t){f.scrollTop(f.scrollTop()-t);f.scrollLeft(f.scrollLeft()-n);et()},i={},u=0,t={},r=null,o=!1;n(window).bind("touchstart"+e,function(){o=!0});n(window).bind("touchend"+e,function(){o=!1});f.bind("touchstart"+e,function(n){var t=n.originalEvent.targetTouches[0];i.pageX=t.pageX;i.pageY=t.pageY;u=(new Date).getTime();null!==r&&clearInterval(r);n.stopPropagation()});f.bind("touchmove"+e,function(n){var e,r,h,c,l,f;o||1!==n.originalEvent.targetTouches.length||(e=n.originalEvent.targetTouches[0],r={},r.pageX=e.pageX,r.pageY=e.pageY,h=r.pageX-i.pageX,c=r.pageY-i.pageY,s(h,c),i=r,l=(new Date).getTime(),f=l-u,f>0&&(t.x=h/f,t.y=c/f,u=l),n.preventDefault())});f.bind("touchend"+e,function(){clearInterval(r);r=setInterval(function(){return.01>Math.abs(t.x)&&.01>Math.abs(t.y)?(clearInterval(r),void 0):(s(30*t.x,30*t.y),t.x*=.8,t.y*=.8,void 0)},10)})},ti=function(){f.bind("scroll"+e,function(){et()})},ii=function(){f.unbind(e);n(window).unbind(e);n(document).unbind(e);f.data("perfect-scrollbar",null);f.data("perfect-scrollbar-update",null);f.data("perfect-scrollbar-destroy",null);k.remove();p.remove();s.remove();l.remove();s=l=k=p=d=g=h=c=y=nt=a=w=it=rt=ot=v=b=tt=ut=ft=st=e=null},ri=function(t){f.addClass("ie").addClass("ie"+t);var i=function(){var t=function(){n(this).addClass("hover")},i=function(){n(this).removeClass("hover")};f.bind("mouseenter"+e,t).bind("mouseleave"+e,i);s.bind("mouseenter"+e,t).bind("mouseleave"+e,i);l.bind("mouseenter"+e,t).bind("mouseleave"+e,i);k.bind("mouseenter"+e,t).bind("mouseleave"+e,i);p.bind("mouseenter"+e,t).bind("mouseleave"+e,i)},r=function(){ct=function(){var t={left:w+f.scrollLeft(),width:a},n;rt?t.bottom=it:t.top=ot;k.css(t);n={top:b+f.scrollTop(),height:v};ut?n.right=tt:n.left=ft;p.css(n);k.hide().show();p.hide().show()}};6===t&&(i(),r())},ui="ontouchstart"in window||window.DocumentTouch&&document instanceof window.DocumentTouch,fi=function(){var n=navigator.userAgent.toLowerCase().match(/(msie) ([\w.]+)/);n&&"msie"===n[1]&&ri(parseInt(n[2],10));et();ti();wt();bt();gt();ui&&ni();f.mousewheel&&kt();o.useKeyboard&&dt();f.data("perfect-scrollbar",f);f.data("perfect-scrollbar-update",et);f.data("perfect-scrollbar-destroy",ii)};return fi(),f})}});
/*! perfect-scrollbar - v0.4.11
* http://noraesae.github.com/perfect-scrollbar/
* Copyright (c) 2014 Hyeonje Alex Jun; Licensed MIT */
(function(n){"use strict";"function"==typeof define&&define.amd?define(["jquery"],n):"object"==typeof exports?n(require("jquery")):n(jQuery)})(function(n){"use strict";var t={wheelSpeed:10,wheelPropagation:!1,minScrollbarLength:null,maxScrollbarLength:null,useBothWheelAxes:!1,useKeyboard:!0,suppressScrollX:!1,suppressScrollY:!1,scrollXMarginOffset:0,scrollYMarginOffset:0,includePadding:!1},i=function(){var n=0;return function(){var t=n;return n+=1,".perfect-scrollbar-"+t}}();n.fn.perfectScrollbar=function(r,u){return this.each(function(){var o=n.extend(!0,{},t),f=n(this);if("object"==typeof r?n.extend(!0,o,r):u=r,"update"===u)return f.data("perfect-scrollbar-update")&&f.data("perfect-scrollbar-update")(),f;if("destroy"===u)return f.data("perfect-scrollbar-destroy")&&f.data("perfect-scrollbar-destroy")(),f;if(f.data("perfect-scrollbar"))return f.data("perfect-scrollbar");f.addClass("ps-container");var d,g,h,c,y,nt,a,w,v,b,s=n("<div class='ps-scrollbar-x-rail'><\/div>").appendTo(f),l=n("<div class='ps-scrollbar-y-rail'><\/div>").appendTo(f),k=n("<div class='ps-scrollbar-x'><\/div>").appendTo(s),p=n("<div class='ps-scrollbar-y'><\/div>").appendTo(l),it=parseInt(s.css("bottom"),10),rt=it===it,ot=rt?null:parseInt(s.css("top"),10),tt=parseInt(l.css("right"),10),ut=tt===tt,ft=ut?null:parseInt(l.css("left"),10),st="rtl"===f.css("direction"),e=i(),at=parseInt(s.css("borderLeftWidth"),10)+parseInt(s.css("borderRightWidth"),10),vt=parseInt(s.css("borderTopWidth"),10)+parseInt(s.css("borderBottomWidth"),10),yt=function(n,t){var r=n+t,u=c-v,i;b=0>r?0:r>u?u:r;i=parseInt(b*(nt-c)/(c-v),10);f.scrollTop(i);rt?s.css({bottom:it-i}):s.css({top:ot+i})},pt=function(n,t){var r=n+t,u=h-a,i;w=0>r?0:r>u?u:r;i=parseInt(w*(y-h)/(h-a),10);f.scrollLeft(i);ut?l.css({right:tt-i}):l.css({left:ft+i})},ht=function(n){return o.minScrollbarLength&&(n=Math.max(n,o.minScrollbarLength)),o.maxScrollbarLength&&(n=Math.min(n,o.maxScrollbarLength)),n},ct=function(){var n={width:h,display:d?"inherit":"none"},t;n.left=st?f.scrollLeft()+h-y:f.scrollLeft();rt?n.bottom=it-f.scrollTop():n.top=ot+f.scrollTop();s.css(n);t={top:f.scrollTop(),height:c,display:g?"inherit":"none"};ut?t.right=st?y-f.scrollLeft()-tt-p.outerWidth():tt-f.scrollLeft():t.left=st?f.scrollLeft()+2*h-y-ft-p.outerWidth():ft+f.scrollLeft();l.css(t);k.css({left:w,width:a-at});p.css({top:b,height:v-vt});d?f.addClass("ps-active-x"):f.removeClass("ps-active-x");g?f.addClass("ps-active-y"):f.removeClass("ps-active-y")},et=function(){h=o.includePadding?f.innerWidth():f.width();c=o.includePadding?f.innerHeight():f.height();y=f.prop("scrollWidth");nt=f.prop("scrollHeight");!o.suppressScrollX&&y>h+o.scrollXMarginOffset?(d=!0,a=ht(parseInt(h*h/y,10)),w=parseInt(f.scrollLeft()*(h-a)/(y-h),10)):(d=!1,a=0,w=0,f.scrollLeft(0));!o.suppressScrollY&&nt>c+o.scrollYMarginOffset?(g=!0,v=ht(parseInt(c*c/nt,10)),b=parseInt(f.scrollTop()*(c-v)/(nt-c),10)):(g=!1,v=0,b=0,f.scrollTop(0));b>=c-v&&(b=c-v);w>=h-a&&(w=h-a);ct()},wt=function(){var t,i;k.bind("mousedown"+e,function(n){i=n.pageX;t=k.position().left;s.addClass("in-scrolling");n.stopPropagation();n.preventDefault()});n(document).bind("mousemove"+e,function(n){s.hasClass("in-scrolling")&&(pt(t,n.pageX-i),n.stopPropagation(),n.preventDefault())});n(document).bind("mouseup"+e,function(){s.hasClass("in-scrolling")&&s.removeClass("in-scrolling")});t=i=null},bt=function(){var t,i;p.bind("mousedown"+e,function(n){i=n.pageY;t=p.position().top;l.addClass("in-scrolling");n.stopPropagation();n.preventDefault()});n(document).bind("mousemove"+e,function(n){l.hasClass("in-scrolling")&&(yt(t,n.pageY-i),n.stopPropagation(),n.preventDefault())});n(document).bind("mouseup"+e,function(){l.hasClass("in-scrolling")&&l.removeClass("in-scrolling")});t=i=null},lt=function(n,t){var r=f.scrollTop(),i;if(0===n){if(!g)return!1;if(0===r&&t>0||r>=nt-c&&0>t)return!o.wheelPropagation}if(i=f.scrollLeft(),0===t){if(!d)return!1;if(0===i&&0>n||i>=y-h&&n>0)return!o.wheelPropagation}return!0},kt=function(){o.wheelSpeed/=10;var n=!1;f.bind("mousewheel"+e,function(t,i,r,u){var e=t.deltaX*t.deltaFactor||r,s=t.deltaY*t.deltaFactor||u;n=!1;o.useBothWheelAxes?g&&!d?(s?f.scrollTop(f.scrollTop()-s*o.wheelSpeed):f.scrollTop(f.scrollTop()+e*o.wheelSpeed),n=!0):d&&!g&&(e?f.scrollLeft(f.scrollLeft()+e*o.wheelSpeed):f.scrollLeft(f.scrollLeft()-s*o.wheelSpeed),n=!0):(f.scrollTop(f.scrollTop()-s*o.wheelSpeed),f.scrollLeft(f.scrollLeft()+e*o.wheelSpeed));et();n=n||lt(e,s);n&&(t.stopPropagation(),t.preventDefault())});f.bind("MozMousePixelScroll"+e,function(t){n&&t.preventDefault()})},dt=function(){var t=!1,i;f.bind("mouseenter"+e,function(){t=!0});f.bind("mouseleave"+e,function(){t=!1});i=!1;n(document).bind("keydown"+e,function(r){if(!(r.isDefaultPrevented&&r.isDefaultPrevented()||!t||n(document.activeElement).is(":input,[contenteditable]"))){var e=0,u=0;switch(r.which){case 37:e=-30;break;case 38:u=30;break;case 39:e=30;break;case 40:u=-30;break;case 33:u=90;break;case 32:case 34:u=-90;break;case 35:u=-c;break;case 36:u=c;break;default:return}f.scrollTop(f.scrollTop()-u);f.scrollLeft(f.scrollLeft()+e);i=lt(e,u);i&&r.preventDefault()}})},gt=function(){var n=function(n){n.stopPropagation()};p.bind("click"+e,n);l.bind("click"+e,function(n){var i=parseInt(v/2,10),r=n.pageY-l.offset().top-i,u=c-v,t=r/u;0>t?t=0:t>1&&(t=1);f.scrollTop((nt-c)*t)});k.bind("click"+e,n);s.bind("click"+e,function(n){var i=parseInt(a/2,10),r=n.pageX-s.offset().left-i,u=h-a,t=r/u;0>t?t=0:t>1&&(t=1);f.scrollLeft((y-h)*t)})},ni=function(){var s=function(n,t){f.scrollTop(f.scrollTop()-t);f.scrollLeft(f.scrollLeft()-n);et()},i={},u=0,t={},r=null,o=!1;n(window).bind("touchstart"+e,function(){o=!0});n(window).bind("touchend"+e,function(){o=!1});f.bind("touchstart"+e,function(n){var t=n.originalEvent.targetTouches[0];i.pageX=t.pageX;i.pageY=t.pageY;u=(new Date).getTime();null!==r&&clearInterval(r);n.stopPropagation()});f.bind("touchmove"+e,function(n){var e,r,h,c,l,f;o||1!==n.originalEvent.targetTouches.length||(e=n.originalEvent.targetTouches[0],r={},r.pageX=e.pageX,r.pageY=e.pageY,h=r.pageX-i.pageX,c=r.pageY-i.pageY,s(h,c),i=r,l=(new Date).getTime(),f=l-u,f>0&&(t.x=h/f,t.y=c/f,u=l),n.preventDefault())});f.bind("touchend"+e,function(){clearInterval(r);r=setInterval(function(){return.01>Math.abs(t.x)&&.01>Math.abs(t.y)?(clearInterval(r),void 0):(s(30*t.x,30*t.y),t.x*=.8,t.y*=.8,void 0)},10)})},ti=function(){f.bind("scroll"+e,function(){et()})},ii=function(){f.unbind(e);n(window).unbind(e);n(document).unbind(e);f.data("perfect-scrollbar",null);f.data("perfect-scrollbar-update",null);f.data("perfect-scrollbar-destroy",null);k.remove();p.remove();s.remove();l.remove();s=l=k=p=d=g=h=c=y=nt=a=w=it=rt=ot=v=b=tt=ut=ft=st=e=null},ri=function(t){f.addClass("ie").addClass("ie"+t);var i=function(){var t=function(){n(this).addClass("hover")},i=function(){n(this).removeClass("hover")};f.bind("mouseenter"+e,t).bind("mouseleave"+e,i);s.bind("mouseenter"+e,t).bind("mouseleave"+e,i);l.bind("mouseenter"+e,t).bind("mouseleave"+e,i);k.bind("mouseenter"+e,t).bind("mouseleave"+e,i);p.bind("mouseenter"+e,t).bind("mouseleave"+e,i)},r=function(){ct=function(){var t={left:w+f.scrollLeft(),width:a},n;rt?t.bottom=it:t.top=ot;k.css(t);n={top:b+f.scrollTop(),height:v};ut?n.right=tt:n.left=ft;p.css(n);k.hide().show();p.hide().show()}};6===t&&(i(),r())},ui="ontouchstart"in window||window.DocumentTouch&&document instanceof window.DocumentTouch,fi=function(){var n=navigator.userAgent.toLowerCase().match(/(msie) ([\w.]+)/);n&&"msie"===n[1]&&ri(parseInt(n[2],10));et();ti();wt();bt();gt();ui&&ni();f.mousewheel&&kt();o.useKeyboard&&dt();f.data("perfect-scrollbar",f);f.data("perfect-scrollbar-update",et);f.data("perfect-scrollbar-destroy",ii)};return fi(),f})}}),function(n){"function"==typeof define&&define.amd?define(["jquery"],n):"object"==typeof exports?module.exports=n:n(jQuery)}(function(n){function u(i){var r=i||window.event,y=c.call(arguments,1),s=0,e=0,u=0,l=0,a,v;if(i=n.event.fix(r),i.type="mousewheel","detail"in r&&(u=-1*r.detail),"wheelDelta"in r&&(u=r.wheelDelta),"wheelDeltaY"in r&&(u=r.wheelDeltaY),"wheelDeltaX"in r&&(e=-1*r.wheelDeltaX),"axis"in r&&r.axis===r.HORIZONTAL_AXIS&&(e=-1*u,u=0),s=0===u?e:u,"deltaY"in r&&(u=-1*r.deltaY,s=u),"deltaX"in r&&(e=r.deltaX,0===u&&(s=-1*e)),0!==u||0!==e)return 1===r.deltaMode?(a=n.data(this,"mousewheel-line-height"),s*=a,u*=a,e*=a):2===r.deltaMode&&(v=n.data(this,"mousewheel-page-height"),s*=v,u*=v,e*=v),l=Math.max(Math.abs(u),Math.abs(e)),(!t||t>l)&&(t=l,o(r,l)&&(t/=40)),o(r,l)&&(s/=40,e/=40,u/=40),s=Math[s>=1?"floor":"ceil"](s/t),e=Math[e>=1?"floor":"ceil"](e/t),u=Math[u>=1?"floor":"ceil"](u/t),i.deltaX=e,i.deltaY=u,i.deltaFactor=t,i.deltaMode=0,y.unshift(i,s,e,u),f&&clearTimeout(f),f=setTimeout(h,200),(n.event.dispatch||n.event.handle).apply(this,y)}function h(){t=null}function o(n,t){return r.settings.adjustOldDeltas&&"mousewheel"===n.type&&0==t%120}var f,t,s=["wheel","mousewheel","DOMMouseScroll","MozMousePixelScroll"],i="onwheel"in document||document.documentMode>=9?["wheel"]:["mousewheel","DomMouseScroll","MozMousePixelScroll"],c=Array.prototype.slice,e,r;if(n.event.fixHooks)for(e=s.length;e;)n.event.fixHooks[s[--e]]=n.event.mouseHooks;r=n.event.special.mousewheel={version:"3.1.9",setup:function(){if(this.addEventListener)for(var t=i.length;t;)this.addEventListener(i[--t],u,!1);else this.onmousewheel=u;n.data(this,"mousewheel-line-height",r.getLineHeight(this));n.data(this,"mousewheel-page-height",r.getPageHeight(this))},teardown:function(){if(this.removeEventListener)for(var n=i.length;n;)this.removeEventListener(i[--n],u,!1);else this.onmousewheel=null},getLineHeight:function(t){return parseInt(n(t)["offsetParent"in n.fn?"offsetParent":"parent"]().css("fontSize"),10)},getPageHeight:function(t){return n(t).height()},settings:{adjustOldDeltas:!0}};n.fn.extend({mousewheel:function(n){return n?this.bind("mousewheel",n):this.trigger("mousewheel")},unmousewheel:function(n){return this.unbind("mousewheel",n)}})});angular.module("perfect_scrollbar",[]).directive("perfectScrollbar",["$parse","$window",function(n,t){var i=["wheelSpeed","wheelPropagation","minScrollbarLength","useBothWheelAxes","useKeyboard","suppressScrollX","suppressScrollY","scrollXMarginOffset","scrollYMarginOffset","includePadding"];return{restrict:"EA",transclude:!0,template:"<div><div ng-transclude><\/div><\/div>",replace:!0,link:function(r,u,f){function s(n){r.$evalAsync(function(){f.scrollDown=="true"&&n!="mouseenter"&&setTimeout(function(){$(u).scrollTop($(u).prop("scrollHeight"))},100);u.perfectScrollbar("update")})}var h=angular.element(t),c={},e,l,o;for(u.bind("mouseover",function(n){n.stopPropagation();n.preventDefault();u.perfectScrollbar("update")}),e=0,l=i.length;e<l;e++)o=i[e],f[o]!==undefined&&(c[o]=n(f[o])());if(r.$evalAsync(function(){u.perfectScrollbar(c);var t=n(f.onScroll);u.scroll(function(){var n=u.scrollTop(),i=u.prop("scrollHeight")-u.height();r.$apply(function(){t(r,{scrollTop:n,scrollHeight:i})})})}),u.bind("mouseenter",s("mouseenter")),f.refreshOnChange&&r.$watchCollection(f.refreshOnChange,function(){s()}),f.refreshOnResize)h.on("resize",s);u.bind("$destroy",function(){h.off("resize",s);u.perfectScrollbar("destroy")})}}}]);angular.module("toggle-switch",["ng"]).directive("toggleSwitch",["$compile",function(n){return{restrict:"EA",replace:!0,scope:{model:"=",isDisabled:"@",onLabel:"@",offLabel:"@",knobLabel:"@",html:"=",onChange:"&"},template:'<div class="ats-switch" ng-click="toggle()" ng-class="{ \'disabled\': isDisabled }"><div class="switch-animate" ng-class="{\'switch-off\': !model, \'switch-on\': model}"><span class="switch-left"><\/span><span class="knob"><\/span><span class="switch-right"><\/span><\/div><\/div>',controller:["$scope",function(n){n.toggle=function(){n.isDisabled||(n.model=!n.model);n.onChange()}}],compile:function(t,i){return angular.isUndefined(i.onLabel)&&(i.onLabel="On"),angular.isUndefined(i.offLabel)&&(i.offLabel="Off"),angular.isUndefined(i.knobLabel)&&(i.knobLabel=" "),angular.isUndefined(i.isDisabled)&&(i.isDisabled=!1),angular.isUndefined(i.html)&&(i.html=!1),function(t,i){var r=function(i,r){i=angular.element(i);var u=r===!0?"ng-bind-html":"ng-bind";i.removeAttr("ng-bind-html");i.removeAttr("ng-bind");angular.element(i).hasClass("switch-left")&&i.attr(u,"onLabel");i.hasClass("knob")&&i.attr(u,"knobLabel");i.hasClass("switch-right")&&i.attr(u,"offLabel");n(i)(t,function(n){i.replaceWith(n)})},u=function(n,t){angular.forEach(n[0].children[0].children,function(n){r(n,t)})};t.$watch("html",function(n){u(i,n)})}}}}]);
/*!
Copyright 2014 Vadim Kazakov
Adapted from source by Maarten Baijs
Permission is hereby granted, free of charge, to any person obtaining
a copy of this software and associated documentation files (the
"Software"), to deal in the Software without restriction, including
without limitation the rights to use, copy, modify, merge, publish,
distribute, sublicense, and/or sell copies of the Software, and to
permit persons to whom the Software is furnished to do so, subject to
the following conditions:
The above copyright notice and this permission notice shall be
included in all copies or substantial portions of the Software.
THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 */
angular.module("ngTinyScrollbar",[]).directive("scrollbar",["$window","$timeout","$parse","$animate",function(n,t,i,r){return{restrict:"A",transclude:!0,template:'<div class="scroll-bar"><div class="scroll-thumb"><\/div><\/div><div class="scroll-viewport"><div class="scroll-overview" ng-transclude><\/div><\/div>',controller:function(u,f,e){function it(){o.contentRatio<=1&&o.contentPosition>o.contentSize-o.viewportSize?o.contentPosition=o.contentSize-o.viewportSize:o.contentRatio>1&&o.contentPosition>0&&(o.contentPosition=0)}function at(){if(ot)d.on("touchstart",ht);h.on("mousedown",ut);s.on("mousedown",v);angular.element(n).on("load",rt);angular.element(n).on("resize",rt);if(o.options.wheel)f.on(g,ct)}function rt(){o.update()}function ht(t){var i=t&&t.originalEvent||t||n.event;1===i.touches.length&&(t.stopPropagation(),ut(i.touches[0]))}function ut(n){if(et.addClass("scroll-no-select"),f.addClass("scroll-no-select"),o.options.alwaysVisible||s.addClass("visible"),w=b?n.pageX:n.pageY,o.thumbPosition=parseInt(h.css(l),10)||0,ot){c.on("touchmove",lt);c.on("touchend",a)}c.on("mousemove",v);c.on("mouseup",a);h.on("mouseup",a)}function ct(i){var c;if(!(o.contentRatio>=1)){o.options.alwaysVisible||(tt&&t.cancel(tt),s.addClass("visible"),tt=t(function(){s.removeClass("visible")},100));var r=i&&i.originalEvent||i||n.event,a=o.options.axis.toUpperCase(),u={X:r.deltaX,Y:r.deltaY},e=r.deltaMode==0?o.options.wheelSpeed:1;o.options.scrollInvert&&(e*=-1);g==="mousewheel"&&(u.Y=r.wheelDelta/-40,r.wheelDeltaX&&(u.X=r.wheelDeltaX/-40));u.X*=-1/e;u.Y*=-1/e;c=u[a];o.contentPosition-=c*o.options.wheelSpeed;o.contentPosition=Math.min(o.contentSize-o.viewportSize,Math.max(0,o.contentPosition));f[0].dispatchEvent(nt);it();h.css(l,o.contentPosition/o.trackRatio+"px");p.css(l,-o.contentPosition+"px");(o.options.wheelLock||o.contentPosition!==o.contentSize-o.viewportSize&&o.contentPosition!==0)&&r.preventDefault()}}function lt(t){var i=t&&t.originalEvent||t||n.event;1===i.touches.length&&(t.preventDefault(),v(i.touches[0]))}function v(n){var t,i,r;o.contentRatio>=1||(t=b?n.pageX:n.pageY,i=t-w,(o.options.scrollInvert&&n.type==="mousemove"||n.type!=="mousemove"&&!o.options.scrollInvert)&&(i=w-t),r=Math.min(o.trackSize-o.thumbSize,Math.max(0,o.thumbPosition+i)),o.contentPosition=r*o.trackRatio,f[0].dispatchEvent(nt),it(),h.css(l,r+"px"),p.css(l,-o.contentPosition+"px"))}function a(){et.removeClass("scroll-no-select");f.removeClass("scroll-no-select");o.options.alwaysVisible||s.removeClass("visible");c.off("mousemove",v);c.off("mouseup",a);h.off("mouseup",a);c.off("touchmove",lt);c.off("ontouchend",a)}var ft={axis:"y",wheel:!0,wheelSpeed:40,wheelLock:!0,scrollInvert:!1,trackSize:!1,thumbSize:!1,alwaysVisible:!0},y=e.scrollbar;y=y?i(y)(u):{};this.options=angular.extend({},ft,y);this._defaults=ft;var o=this,et=angular.element(document.querySelectorAll("body")[0]),c=angular.element(document),d=angular.element(f[0].querySelectorAll(".scroll-viewport")[0]),p=angular.element(f[0].querySelectorAll(".scroll-overview")[0]),s=angular.element(f[0].querySelectorAll(".scroll-bar")[0]),h=angular.element(f[0].querySelectorAll(".scroll-thumb")[0]),w=0,b=this.options.axis==="x",ot="ontouchstart"in n,g="onwheel"in document?"wheel":document.onmousewheel!==undefined?"mousewheel":"DOMMouseScroll",k=b?"width":"height",st=k.charAt(0).toUpperCase()+k.slice(1).toLowerCase(),l=b?"left":"top",nt=document.createEvent("HTMLEvents"),tt;nt.initEvent("move",!0,!0);this.contentPosition=0;this.viewportSize=0;this.contentSize=0;this.contentRatio=0;this.trackSize=0;this.trackRatio=0;this.thumbSize=0;this.thumbPosition=0;this.initialize=function(){return this.options.alwaysVisible||s.css("opacity",0),o.update(),at(),o};this.update=function(n){if(this.viewportSize=d.prop("offset"+st),this.contentSize=p.prop("scroll"+st),this.contentRatio=this.viewportSize/this.contentSize,this.trackSize=this.options.trackSize||this.viewportSize,this.thumbSize=Math.min(this.trackSize,Math.max(0,this.options.thumbSize||this.trackSize*this.contentRatio)),this.trackRatio=this.options.thumbSize?(this.contentSize-this.viewportSize)/(this.trackSize-this.thumbSize):this.contentSize/this.trackSize,w=s.prop("offsetTop"),s.toggleClass("disable",this.contentRatio>=1||isNaN(this.contentRatio)),!this.options.alwaysVisible&&this.contentRatio<1&&this.viewportSize>0&&r.addClass(s,"visible").then(function(){r.removeClass(s,"visible");u.$digest()}),n!=null)switch(n){case"bottom":this.contentPosition=this.contentSize-this.viewportSize;break;default:this.contentPosition=parseInt(n,10)||0}return it(),h.css(l,o.contentPosition/o.trackRatio+"px"),s.css(k,o.trackSize+"px"),h.css(k,o.thumbSize+"px"),p.css(l,-o.contentPosition+"px"),this};this.cleanup=function(){d.off("touchstart",ht);h.off("mousedown",ut);s.off("mousedown",v);angular.element(n).off("resize",rt);f.off(g,ct);o.options.alwaysVisible=!0;a()}},link:function(t,i,r,u){var f=n.getComputedStyle(i[0]).getPropertyValue("position");f!=="relative"&&f!=="absolute"&&i.css("position","relative");u.initialize();i.on("$destroy",function(){u.cleanup()})}}}]);
/*!
 * ng-backstretch
 * https://github.com/rprovost/ng-backstretch
 *
 * Copyright (c) 2014-2015 Ryan Provost
 * Licensed under the MIT license.
 */
angular.module("ng-backstretch",[]).directive("backstretch",["$window","$timeout",function(n,t){return{restrict:"A",scope:{images:"&backstretchImages",duration:"&backstretchDuration",fade:"&backstretchFade"},link:function(i,r){if(i.images=Array.isArray(i.images())?i.images():[i.images()],i.duration=i.duration()||5e3,i.fade=i.fade()||1,0===i.images.length)return!1;var u={wrapper:{left:0,top:0,overflow:"hidden",margin:0,padding:0,height:"100%",width:"100%",zIndex:-999998,position:"absolute"},image:{position:"absolute",opacity:0,margin:0,padding:0,border:"none",width:"auto",height:"auto",maxHeight:"none",maxWidth:"none",zIndex:-999999,transition:"all "+i.fade+"s"}};i.wrapper=angular.element('<div class="backstretch"><\/div>');i.wrapper.css(u.wrapper);i.images.forEach(function(n){i.image=angular.element("<img>");i.image[0].src=n;i.image.css(u.image);i.wrapper.append(i.image)});r.append(i.wrapper);i.index=0;i.load=function(){i.ratio=this.width/this.height;i.resize();i.show(i.index++)};i.resize=function(){var u,n={left:0,top:0,width:"auto",height:"auto"},s=r[0].offsetWidth,f=s,e=r[0].offsetHeight,t=f/i.ratio,o,h;for(t>=e?(u=(t-e)/2,n.top="-"+u+"px"):(t=e,f=t*i.ratio,u=(f-s)/2,n.left="-"+u+"px"),n.width=f+"px",n.height=t+"px",i.wrapper.css({width:s,height:e}),o=0;o<i.wrapper.children().length;o++)h=angular.element(i.wrapper.children()[o]),h.css(n)};i.show=function(n){var r=i.wrapper.children()[n];return i.image=angular.element(r),1===i.images.length?void i.image.css({opacity:1}):(n>=i.images.length-1&&(i.index=0),i.image.css({opacity:1}),t(function(){i.image.css({opacity:0})},i.duration),void t(function(){i.show(i.index++)},i.duration))};i.image.bind("load",i.load);angular.element(n).bind("resize",i.resize)}}}]),function(n,t,i){"use strict";function d(n){var i=[];return o(i,t.noop).chars(n),i.join("")}function r(n){var i={},t;for(n=n.split(","),t=0;t<n.length;t++)i[n[t]]=!0;return i}function g(n,i){function k(n,r,e,s){if(r=t.lowercase(r),v[r])for(;f.last()&&y[f.last()];)o("",f.last());a[r]&&f.last()==r&&o("",r);(s=l[r]||!!s)||f.push(r);var h={};e.replace(tt,function(n,t,i,r,f){h[t]=u(i||r||f||"")});i.start&&i.start(r,h,s)}function o(n,r){var u=0,e;if(r=t.lowercase(r))for(u=f.length-1;0<=u&&f[u]!=r;u--);if(0<=u){for(e=f.length-1;e>=u;e--)i.end&&i.end(f[e]);f.length=u}}"string"!=typeof n&&(n=null===n||"undefined"==typeof n?"":""+n);var r,e,f=[],b=n,w;for(f.last=function(){return f[f.length-1]};n;){if(w="",e=!0,f.last()&&p[f.last()]?(n=n.replace(new RegExp("([\\W\\w]*)<\\s*\\/\\s*"+f.last()+"[^>]*>","i"),function(n,t){return t=t.replace(ut,"$1").replace(ft,"$1"),i.chars&&i.chars(u(t)),""}),o("",f.last())):(0===n.indexOf("<!--")?(r=n.indexOf("--",4),0<=r&&n.lastIndexOf("-->",r)===r&&(i.comment&&i.comment(n.substring(4,r)),n=n.substring(r+3),e=!1)):c.test(n)?(r=n.match(c))&&(n=n.replace(r[0],""),e=!1):rt.test(n)?(r=n.match(h))&&(n=n.substring(r[0].length),r[0].replace(h,o),e=!1):it.test(n)&&((r=n.match(s))?(r[4]&&(n=n.substring(r[0].length),r[0].replace(s,k)),e=!1):(w+="<",n=n.substring(1))),e&&(r=n.indexOf("<"),w+=0>r?n:n.substring(0,r),n=0>r?"":n.substring(r),i.chars&&i.chars(u(w)))),n==b)throw nt("badparse",n);b=n}o()}function u(n){return n?(f.innerHTML=n.replace(/</g,"&lt;"),f.textContent):""}function e(n){return n.replace(/&/g,"&amp;").replace(et,function(n){var t=n.charCodeAt(0);return n=n.charCodeAt(1),"&#"+(1024*(t-55296)+(n-56320)+65536)+";"}).replace(ot,function(n){return"&#"+n.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}function o(n,i){var u=!1,r=t.bind(n,n.push);return{start:function(n,f,o){n=t.lowercase(n);!u&&p[n]&&(u=n);u||!0!==w[n]||(r("<"),r(n),t.forEach(f,function(u,f){var o=t.lowercase(f),s="img"===n&&"src"===o||"background"===o;!0===k[o]&&(!0!==b[o]||i(u,s))&&(r(" "),r(f),r('="'),r(e(u)),r('"'))}),r(o?"/>":">"))},end:function(n){n=t.lowercase(n);u||!0!==w[n]||(r("<\/"),r(n),r(">"));n==u&&(u=!1)},chars:function(n){u||r(e(n))}}}var nt=t.$$minErr("$sanitize"),s=/^<((?:[a-zA-Z])[\w:-]*)((?:\s+[\w:-]+(?:\s*=\s*(?:(?:"[^"]*")|(?:'[^']*')|[^>\s]+))?)*)\s*(\/?)\s*(>?)/,h=/^<\/\s*([\w:-]+)[^>]*>/,tt=/([\w:-]+)(?:\s*=\s*(?:(?:"((?:[^"])*)")|(?:'((?:[^'])*)')|([^>\s]+)))?/g,it=/^</,rt=/^<\//,ut=/\x3c!--(.*?)--\x3e/g,c=/<!DOCTYPE([^>]*?)>/i,ft=/<!\[CDATA\[(.*?)]]\x3e/g,et=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,ot=/([^\#-~| |!])/g,l=r("area,br,col,hr,img,wbr"),k,f;n=r("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr");i=r("rp,rt");var a=t.extend({},i,n),v=t.extend({},n,r("address,article,aside,blockquote,caption,center,del,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,map,menu,nav,ol,pre,script,section,table,ul")),y=t.extend({},i,r("a,abbr,acronym,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,q,ruby,rp,rt,s,samp,small,span,strike,strong,sub,sup,time,tt,u,var"));n=r("animate,animateColor,animateMotion,animateTransform,circle,defs,desc,ellipse,font-face,font-face-name,font-face-src,g,glyph,hkern,image,linearGradient,line,marker,metadata,missing-glyph,mpath,path,polygon,polyline,radialGradient,rect,set,stop,svg,switch,text,title,tspan,use");var p=r("script,style"),w=t.extend({},l,v,y,a,n),b=r("background,cite,href,longdesc,src,usemap,xlink:href");n=r("abbr,align,alt,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,coords,dir,face,headers,height,hreflang,hspace,ismap,lang,language,nohref,nowrap,rel,rev,rows,rowspan,rules,scope,scrolling,shape,size,span,start,summary,target,title,type,valign,value,vspace,width");i=r("accent-height,accumulate,additive,alphabetic,arabic-form,ascent,attributeName,attributeType,baseProfile,bbox,begin,by,calcMode,cap-height,class,color,color-rendering,content,cx,cy,d,dx,dy,descent,display,dur,end,fill,fill-rule,font-family,font-size,font-stretch,font-style,font-variant,font-weight,from,fx,fy,g1,g2,glyph-name,gradientUnits,hanging,height,horiz-adv-x,horiz-origin-x,ideographic,k,keyPoints,keySplines,keyTimes,lang,marker-end,marker-mid,marker-start,markerHeight,markerUnits,markerWidth,mathematical,max,min,offset,opacity,orient,origin,overline-position,overline-thickness,panose-1,path,pathLength,points,preserveAspectRatio,r,refX,refY,repeatCount,repeatDur,requiredExtensions,requiredFeatures,restart,rotate,rx,ry,slope,stemh,stemv,stop-color,stop-opacity,strikethrough-position,strikethrough-thickness,stroke,stroke-dasharray,stroke-dashoffset,stroke-linecap,stroke-linejoin,stroke-miterlimit,stroke-opacity,stroke-width,systemLanguage,target,text-anchor,to,transform,type,u1,u2,underline-position,underline-thickness,unicode,unicode-range,units-per-em,values,version,viewBox,visibility,width,widths,x,x-height,x1,x2,xlink:actuate,xlink:arcrole,xlink:role,xlink:show,xlink:title,xlink:type,xml:base,xml:lang,xml:space,xmlns,xmlns:xlink,y,y1,y2,zoomAndPan");k=t.extend({},b,i,n);f=document.createElement("pre");t.module("ngSanitize",[]).provider("$sanitize",function(){this.$get=["$$sanitizeUri",function(n){return function(t){var i=[];return g(t,o(i,function(t,i){return!/^unsafe/.test(n(t,i))})),i.join("")}}]});t.module("ngSanitize").filter("linky",["$sanitize",function(n){var i=/((ftp|https?):\/\/|(www\.)|(mailto:)?[A-Za-z0-9._%+-]+@)\S*[^\s.;,(){}<>"\u201d\u2019]/,r=/^mailto:/;return function(u,f){function c(n){n&&o.push(d(n))}function a(n,i){o.push("<a ");t.isDefined(f)&&o.push('target="',f,'" ');o.push('href="',n.replace(/"/g,"&quot;"),'">');c(i);o.push("<\/a>")}if(!u)return u;for(var e,s=u,o=[],h,l;e=s.match(i);)h=e[0],e[2]||e[4]||(h=(e[3]?"http://":"mailto:")+h),l=e.index,c(s.substr(0,l)),a(h,e[0].replace(r,"")),s=s.substring(l+e[0].length);return c(s),n(o.join(""))}}])}(window,window.angular);angular.module("validation.match",[]);angular.module("validation.match").directive("match",match);!function(n,t){t["true"]=n;window.rangy=function(){function t(n,t){var i=typeof n[t];return i==g||!(i!=b||!n[t])||"unknown"==i}function f(n,t){return!(typeof n[t]!=b||!n[t])}function p(n,t){return typeof n[t]!=u}function s(n){return function(t,i){for(var r=i.length;r--;)if(!n(t,i[r]))return!1;return!0}}function w(n){return n&&c(n,rt)&&l(n,it)}function i(t){window.alert("Rangy not supported in your browser. Reason: "+t);n.initialized=!0;n.supported=!1}function k(t){var i="Rangy warning: "+t;n.config.alertOnWarn?window.alert(i):typeof console!=u&&typeof window.console.log!=u&&window.console.log(i)}function h(){var r,u,e,o;if(!n.initialized){u=!1;e=!1;t(document,"createRange")&&(r=document.createRange(),c(r,tt)&&l(r,nt)&&(u=!0),r.detach());o=f(document,"body")?document.body:document.getElementsByTagName("body")[0];o&&t(o,"createTextRange")&&(r=o.createTextRange(),w(r)&&(e=!0));u||e||i("Neither Range nor TextRange are implemented");n.initialized=!0;n.features={implementsDomRange:u,implementsTextRange:e};for(var h=v.concat(a),s=0,y=h.length;y>s;++s)try{h[s](n)}catch(p){f(window,"console")&&t(window.console,"log")&&window.console.log("Init listener threw an exception. Continuing.",p)}}}function d(n){n=n||window;h();for(var t=0,i=e.length;i>t;++t)e[t](n)}function r(n){this.name=n;this.initialized=!1;this.supported=!1}var b="object",g="function",u="undefined",nt=["startContainer","startOffset","endContainer","endOffset","collapsed","commonAncestorContainer","START_TO_START","START_TO_END","END_TO_START","END_TO_END"],tt=["setStart","setStartBefore","setStartAfter","setEnd","setEndBefore","setEndAfter","collapse","selectNode","selectNodeContents","compareBoundaryPoints","deleteContents","extractContents","cloneContents","insertNode","surroundContents","cloneRange","toString","detach"],it=["boundingHeight","boundingLeft","boundingTop","boundingWidth","htmlText","text"],rt=["collapse","compareEndPoints","duplicate","getBookmark","moveToBookmark","moveToElementText","parentElement","pasteHTML","select","setEndPoint","getBoundingClientRect"],c=s(t),ut=s(f),l=s(p),n={version:"1.2.3",initialized:!1,supported:!0,util:{isHostMethod:t,isHostObject:f,isHostProperty:p,areHostMethods:c,areHostObjects:ut,areHostProperties:l,isTextRange:w},features:{},modules:{},config:{alertOnWarn:!1,preferTextRange:!1}},a,v,e,y,o;return n.fail=i,n.warn=k,{}.hasOwnProperty?n.util.extend=function(n,t){for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i])}:i("hasOwnProperty not supported"),a=[],v=[],n.init=h,n.addInitListener=function(t){n.initialized?t(n):a.push(t)},e=[],n.addCreateMissingNativeApiListener=function(n){e.push(n)},n.createMissingNativeApi=d,r.prototype.fail=function(n){throw this.initialized=!0,this.supported=!1,new Error("Module '"+this.name+"' failed to load: "+n);},r.prototype.warn=function(t){n.warn("Module "+this.name+": "+t)},r.prototype.createError=function(n){return new Error("Error in Rangy "+this.name+" module: "+n)},n.createModule=function(t,i){var u=new r(t);n.modules[t]=u;v.push(function(n){i(n,u);u.initialized=!0;u.supported=!0})},n.requireModules=function(t){for(var i,u,f=0,e=t.length;e>f;++f){if(u=t[f],i=n.modules[u],!(i&&i instanceof r))throw new Error("Module '"+u+"' not found");if(!i.supported)throw new Error("Module '"+u+"' not supported");}},y=!1,o=function(){y||(y=!0,n.initialized||h())},typeof window==u?void i("No window found"):typeof document==u?void i("No document found"):(t(document,"addEventListener")&&document.addEventListener("DOMContentLoaded",o,!1),t(window,"addEventListener")?window.addEventListener("load",o,!1):t(window,"attachEvent")?window.attachEvent("onload",o):i("Window does not have required addEventListener or attachEvent method"),n)}();rangy.createModule("DomUtil",function(n,t){function b(n){var t;return typeof n.namespaceURI==i||null===(t=n.namespaceURI)||"http://www.w3.org/1999/xhtml"==t}function k(n){var t=n.parentNode;return 1==t.nodeType?t:null}function o(n){for(var t=0;n=n.previousSibling;)t++;return t}function d(n){var t;return s(n)?n.length:(t=n.childNodes)?t.length:0}function a(n,t){for(var r=[],i=n;i;i=i.parentNode)r.push(i);for(i=t;i;i=i.parentNode)if(l(r,i))return i;return null}function g(n,t,i){for(var r=i?t:t.parentNode;r;){if(r===n)return!0;r=r.parentNode}return!1}function u(n,t,i){for(var u,r=i?n:n.parentNode;r;){if(u=r.parentNode,u===t)return r;r=u}return null}function s(n){var t=n.nodeType;return 3==t||4==t||8==t}function v(n,t){var i=t.nextSibling,r=t.parentNode;return i?r.insertBefore(n,i):r.appendChild(n),n}function nt(n,t){var i=n.cloneNode(!1);return i.deleteData(0,t),n.deleteData(t,n.length-t),v(i,n),i}function e(n){if(9==n.nodeType)return n;if(typeof n.ownerDocument!=i)return n.ownerDocument;if(typeof n.document!=i)return n.document;if(n.parentNode)return e(n.parentNode);throw new Error("getDocument: no document found for node");}function tt(n){var t=e(n);if(typeof t.defaultView!=i)return t.defaultView;if(typeof t.parentWindow!=i)return t.parentWindow;throw new Error("Cannot get a window object for node");}function it(n){if(typeof n.contentDocument!=i)return n.contentDocument;if(typeof n.contentWindow!=i)return n.contentWindow.document;throw new Error("getIframeWindow: No Document object found for iframe element");}function rt(n){if(typeof n.contentWindow!=i)return n.contentWindow;if(typeof n.contentDocument!=i)return n.contentDocument.defaultView;throw new Error("getIframeWindow: No Window object found for iframe element");}function ut(n){return r.isHostObject(n,"body")?n.body:n.getElementsByTagName("body")[0]}function ft(n){for(var t;t=n.parentNode;)n=t;return n}function et(n,t,i,r){var s,f,h,c,e;if(n==i)return t===r?0:r>t?-1:1;if(s=u(i,n,!0))return t<=o(s)?-1:1;if(s=u(n,i,!0))return o(s)<r?-1:1;if(f=a(n,i),h=n===f?f:u(n,f,!0),c=i===f?f:u(i,f,!0),h===c)throw new Error("comparePoints got to case 4 and childA and childB are the same!");for(e=f.firstChild;e;){if(e===h)return-1;if(e===c)return 1;e=e.nextSibling}throw new Error("Should not be here!");}function ot(n){for(var t,i=e(n).createDocumentFragment();t=n.firstChild;)i.appendChild(t);return i}function y(n){if(!n)return"[No node]";if(s(n))return'"'+n.data+'"';if(1==n.nodeType){var t=n.id?' id="'+n.id+'"':"";return"<"+n.nodeName+t+">["+n.childNodes.length+"]"}return n.nodeName}function p(n){this.root=n;this._next=n}function st(n){return new p(n)}function w(n,t){this.node=n;this.offset=t}function h(n){this.code=this[n];this.codeName=n;this.message="DOMException: "+this.codeName}var i="undefined",r=n.util,f,c,l;r.areHostMethods(document,["createDocumentFragment","createElement","createTextNode"])||t.fail("document missing a Node creation method");r.isHostMethod(document,"getElementsByTagName")||t.fail("document missing getElementsByTagName method");f=document.createElement("div");r.areHostMethods(f,["insertBefore","appendChild","cloneNode"]||!r.areHostObjects(f,["previousSibling","nextSibling","childNodes","parentNode"]))||t.fail("Incomplete Element implementation");r.isHostProperty(f,"innerHTML")||t.fail("Element is missing innerHTML property");c=document.createTextNode("test");r.areHostMethods(c,["splitText","deleteData","insertData","appendData","cloneNode"]||!r.areHostObjects(f,["previousSibling","nextSibling","childNodes","parentNode"])||!r.areHostProperties(c,["data"]))||t.fail("Incomplete Text Node implementation");l=function(n,t){for(var i=n.length;i--;)if(n[i]===t)return!0;return!1};p.prototype={_current:null,hasNext:function(){return!!this._next},next:function(){var i,t,n=this._current=this._next;if(this._current)if(i=n.firstChild)this._next=i;else{for(t=null;n!==this.root&&!(t=n.nextSibling);)n=n.parentNode;this._next=t}return this._current},detach:function(){this._current=this._next=this.root=null}};w.prototype={equals:function(n){return this.node===n.node&this.offset==n.offset},inspect:function(){return"[DomPosition("+y(this.node)+":"+this.offset+")]"}};h.prototype={INDEX_SIZE_ERR:1,HIERARCHY_REQUEST_ERR:3,WRONG_DOCUMENT_ERR:4,NO_MODIFICATION_ALLOWED_ERR:7,NOT_FOUND_ERR:8,NOT_SUPPORTED_ERR:9,INVALID_STATE_ERR:11};h.prototype.toString=function(){return this.message};n.dom={arrayContains:l,isHtmlNamespace:b,parentElement:k,getNodeIndex:o,getNodeLength:d,getCommonAncestor:a,isAncestorOf:g,getClosestAncestorIn:u,isCharacterDataNode:s,insertAfter:v,splitDataNode:nt,getDocument:e,getWindow:tt,getIframeWindow:rt,getIframeDocument:it,getBody:ut,getRootContainer:ft,comparePoints:et,inspectNode:y,fragmentFromNodeChildren:ot,createIterator:st,DomPosition:w};n.DOMException=h});rangy.createModule("DomRange",function(n){function c(n,i){return 3!=n.nodeType&&(t.isAncestorOf(n,i.startContainer,!0)||t.isAncestorOf(n,i.endContainer,!0))}function r(n){return t.getDocument(n.startContainer)}function ft(n,t,i){var u=n._listeners[t],r,f;if(u)for(r=0,f=u.length;f>r;++r)u[r].call(n,{target:n,args:i})}function et(n){return new ii(n.parentNode,t.getNodeIndex(n))}function w(n){return new ii(n.parentNode,t.getNodeIndex(n)+1)}function ot(n,i,r){var u=11==n.nodeType?n.firstChild:n;return t.isCharacterDataNode(i)?r==i.length?t.insertAfter(n,i):i.parentNode.insertBefore(n,0==r?i:t.splitDataNode(i,r)):r>=i.childNodes.length?i.appendChild(n):i.insertBefore(n,i.childNodes[r]),u}function st(n){for(var i,t,u,f=r(n.range).createDocumentFragment();t=n.next();){if(i=n.isPartiallySelectedSubtree(),t=t.cloneNode(!i),i&&(u=n.getSubtreeIterator(),t.appendChild(st(u)),u.detach(!0)),10==t.nodeType)throw new e("HIERARCHY_REQUEST_ERR");f.appendChild(t)}return f}function y(n,i,r){var e,o,u,f;for(r=r||{stop:!1};u=n.next();)if(n.isPartiallySelectedSubtree()){if(i(u)===!1)return void(r.stop=!0);if(f=n.getSubtreeIterator(),y(f,i,r),f.detach(!0),r.stop)return}else for(e=t.createIterator(u);o=e.next();)if(i(o)===!1)return void(r.stop=!0)}function ht(n){for(var t;n.next();)n.isPartiallySelectedSubtree()?(t=n.getSubtreeIterator(),ht(t),t.detach(!0)):n.remove()}function ct(n){for(var t,i,u=r(n.range).createDocumentFragment();t=n.next();){if(n.isPartiallySelectedSubtree()?(t=t.cloneNode(!1),i=n.getSubtreeIterator(),t.appendChild(ct(i)),i.detach(!0)):n.remove(),10==t.nodeType)throw new e("HIERARCHY_REQUEST_ERR");u.appendChild(t)}return u}function lt(n,t,i){var u,f=!(!t||!t.length),e=!!i,r;return f&&(u=new RegExp("^("+t.join("|")+")$")),r=[],y(new o(n,!1),function(n){f&&!u.test(n.nodeType)||e&&!i(n)||r.push(n)}),r}function at(n){var i="undefined"==typeof n.getName?"Range":n.getName();return"["+i+"("+t.inspectNode(n.startContainer)+":"+n.startOffset+", "+t.inspectNode(n.endContainer)+":"+n.endOffset+")]"}function o(n,i){if(this.range=n,this.clonePartiallySelectedTextNodes=i,!n.collapsed){this.sc=n.startContainer;this.so=n.startOffset;this.ec=n.endContainer;this.eo=n.endOffset;var r=n.commonAncestorContainer;this.sc===this.ec&&t.isCharacterDataNode(this.sc)?(this.isSingleCharacterDataNode=!0,this._first=this._last=this._next=this.sc):(this._first=this._next=this.sc!==r||t.isCharacterDataNode(this.sc)?t.getClosestAncestorIn(this.sc,r,!0):this.sc.childNodes[this.so],this._last=this.ec!==r||t.isCharacterDataNode(this.ec)?t.getClosestAncestorIn(this.ec,r,!0):this.ec.childNodes[this.eo-1])}}function s(n){this.code=this[n];this.codeName=n;this.message="RangeException: "+this.codeName}function vt(n,t,i){this.nodes=lt(n,t,i);this._next=this.nodes[0];this._position=0}function b(n){return function(i,r){for(var f,u=r?i:i.parentNode;u;){if(f=u.nodeType,t.arrayContains(n,f))return u;u=u.parentNode}return null}}function l(n,t){if(pi(n,t))throw new s("INVALID_NODE_TYPE_ERR");}function f(n){if(!n.startContainer)throw new e("INVALID_STATE_ERR");}function a(n,i){if(!t.arrayContains(i,n.nodeType))throw new s("INVALID_NODE_TYPE_ERR");}function k(n,i){if(0>i||i>(t.isCharacterDataNode(n)?n.length:n.childNodes.length))throw new e("INDEX_SIZE_ERR");}function d(n,t){if(nt(n,!0)!==nt(t,!0))throw new e("WRONG_DOCUMENT_ERR");}function h(n){if(yi(n,!0))throw new e("NO_MODIFICATION_ALLOWED_ERR");}function p(n,t){if(!n)throw new e(t);}function yt(n){return!t.arrayContains(ui,n.nodeType)&&!nt(n,!0)}function pt(n,i){return i<=(t.isCharacterDataNode(n)?n.length:n.childNodes.length)}function wt(n){return!!n.startContainer&&!!n.endContainer&&!yt(n.startContainer)&&!yt(n.endContainer)&&pt(n.startContainer,n.startOffset)&&pt(n.endContainer,n.endOffset)}function i(n){if(f(n),!wt(n))throw new Error("Range error: Range is no longer valid after DOM mutation ("+n.inspect()+")");}function g(){}function bt(n){n.START_TO_START=rt;n.START_TO_END=ei;n.END_TO_END=bi;n.END_TO_START=oi;n.NODE_BEFORE=si;n.NODE_AFTER=hi;n.NODE_BEFORE_AND_AFTER=ci;n.NODE_INSIDE=ut}function kt(n){bt(n);bt(n.prototype)}function dt(n,r){return function(){var a;i(this);var c,e,u=this.startContainer,s=this.startOffset,l=this.commonAncestorContainer,f=new o(this,!0);return u!==l&&(c=t.getClosestAncestorIn(u,l,!0),e=w(c),u=e.node,s=e.offset),y(f,h),f.reset(),a=n(f),f.detach(),r(this,u,s,u,s),a}}function gt(r,u,e){function s(n,t){return function(i){f(this);a(i,ri);a(v(i),ui);var r=(n?et:w)(i);(t?y:p)(this,r.node,r.offset)}}function y(n,i,r){var f=n.endContainer,e=n.endOffset;(i!==n.startContainer||r!==n.startOffset)&&((v(i)!=v(f)||1==t.comparePoints(i,r,f,e))&&(f=i,e=r),u(n,i,r,f,e))}function p(n,i,r){var f=n.startContainer,e=n.startOffset;(i!==n.endContainer||r!==n.endOffset)&&((v(i)!=v(f)||-1==t.comparePoints(i,r,f,e))&&(f=i,e=r),u(n,f,e,i,r))}function b(n,t,i){(t!==n.startContainer||i!==n.startOffset||t!==n.endContainer||i!==n.endOffset)&&u(n,t,i,t,i)}r.prototype=new g;n.util.extend(r.prototype,{setStart:function(n,t){f(this);l(n,!0);k(n,t);y(this,n,t)},setEnd:function(n,t){f(this);l(n,!0);k(n,t);p(this,n,t)},setStartBefore:s(!0,!0),setStartAfter:s(!1,!0),setEndBefore:s(!0,!1),setEndAfter:s(!1,!1),collapse:function(n){i(this);n?u(this,this.startContainer,this.startOffset,this.startContainer,this.startOffset):u(this,this.endContainer,this.endOffset,this.endContainer,this.endOffset)},selectNodeContents:function(n){f(this);l(n,!0);u(this,n,0,n,t.getNodeLength(n))},selectNode:function(n){f(this);l(n,!1);a(n,ri);var t=et(n),i=w(n);u(this,t.node,t.offset,i.node,i.offset)},extractContents:dt(ct,u),deleteContents:dt(ht,u),canSurroundContents:function(){i(this);h(this.startContainer);h(this.endContainer);var n=new o(this,!0),t=n._first&&c(n._first,this)||n._last&&c(n._last,this);return n.detach(),!t},detach:function(){e(this)},splitBoundaries:function(){i(this);var n=this.startContainer,e=this.startOffset,r=this.endContainer,f=this.endOffset,o=n===r;t.isCharacterDataNode(r)&&f>0&&f<r.length&&t.splitDataNode(r,f);t.isCharacterDataNode(n)&&e>0&&e<n.length&&(n=t.splitDataNode(n,e),o?(f-=e,r=n):r==n.parentNode&&f>=t.getNodeIndex(n)&&f++,e=0);u(this,n,e,r,f)},normalizeBoundaries:function(){var o,s;i(this);var f=this.startContainer,e=this.startOffset,n=this.endContainer,r=this.endOffset,h=function(t){var i=t.nextSibling;i&&i.nodeType==t.nodeType&&(n=t,r=t.length,t.appendData(i.data),i.parentNode.removeChild(i))},c=function(i){var u=i.previousSibling,s,o;u&&u.nodeType==i.nodeType&&(f=i,s=i.length,(e=u.length,i.insertData(0,u.data),u.parentNode.removeChild(u),f==n)?(r+=e,n=f):n==i.parentNode&&(o=t.getNodeIndex(i),r==o?(n=i,r=s):r>o&&r--))},l=!0;t.isCharacterDataNode(n)?n.length==r&&h(n):(r>0&&(o=n.childNodes[r-1],o&&t.isCharacterDataNode(o)&&h(o)),l=!this.collapsed);l?t.isCharacterDataNode(f)?0==e&&c(f):e<f.childNodes.length&&(s=f.childNodes[e],s&&t.isCharacterDataNode(s)&&c(s)):(f=n,e=r);u(this,f,e,n,r)},collapseToPoint:function(n,t){f(this);l(n,!0);k(n,t);b(this,n,t)}});kt(r)}function ni(n){n.collapsed=n.startContainer===n.endContainer&&n.startOffset===n.endOffset;n.commonAncestorContainer=n.collapsed?n.startContainer:t.getCommonAncestor(n.startContainer,n.endContainer)}function ti(n,t,i,r,u){var f=n.startContainer!==t||n.startOffset!==i,e=n.endContainer!==r||n.endOffset!==u;n.startContainer=t;n.startOffset=i;n.endContainer=r;n.endOffset=u;ni(n);ft(n,"boundarychange",{startMoved:f,endMoved:e})}function li(n){f(n);n.startContainer=n.startOffset=n.endContainer=n.endOffset=null;n.collapsed=n.commonAncestorContainer=null;ft(n,"detach",null);n._listeners=null}function u(n){this.startContainer=n;this.startOffset=0;this.endContainer=n;this.endOffset=0;this._listeners={boundarychange:[],detach:[]};ni(this)}n.requireModules(["DomUtil"]);var t=n.dom,ii=t.DomPosition,e=n.DOMException;o.prototype={_current:null,_next:null,_first:null,_last:null,isSingleCharacterDataNode:!1,reset:function(){this._current=null;this._next=this._first},hasNext:function(){return!!this._next},next:function(){var n=this._current=this._next;return n&&(this._next=n!==this._last?n.nextSibling:null,t.isCharacterDataNode(n)&&this.clonePartiallySelectedTextNodes&&(n===this.ec&&(n=n.cloneNode(!0)).deleteData(this.eo,n.length-this.eo),this._current===this.sc&&(n=n.cloneNode(!0)).deleteData(0,this.so))),n},remove:function(){var i,r,n=this._current;!t.isCharacterDataNode(n)||n!==this.sc&&n!==this.ec?n.parentNode&&n.parentNode.removeChild(n):(i=n===this.sc?this.so:0,r=n===this.ec?this.eo:n.length,i!=r&&n.deleteData(i,r-i))},isPartiallySelectedSubtree:function(){var n=this._current;return c(n,this.range)},getSubtreeIterator:function(){var n;if(this.isSingleCharacterDataNode)n=this.range.cloneRange(),n.collapse();else{n=new u(r(this.range));var i=this._current,f=i,e=0,s=i,h=t.getNodeLength(i);t.isAncestorOf(i,this.sc,!0)&&(f=this.sc,e=this.so);t.isAncestorOf(i,this.ec,!0)&&(s=this.ec,h=this.eo);ti(n,f,e,s,h)}return new o(n,this.clonePartiallySelectedTextNodes)},detach:function(n){n&&this.range.detach();this.range=this._current=this._next=this._first=this._last=this.sc=this.so=this.ec=this.eo=null}};s.prototype={BAD_BOUNDARYPOINTS_ERR:1,INVALID_NODE_TYPE_ERR:2};s.prototype.toString=function(){return this.message};vt.prototype={_current:null,hasNext:function(){return!!this._next},next:function(){return this._current=this._next,this._next=this.nodes[++this._position],this._current},detach:function(){this._current=this._next=this.nodes=null}};var ri=[1,3,4,5,7,8,10],ui=[2,9,11],ai=[1,3,4,5,7,8,10,11],vi=[1,3,4,5,7,8],v=t.getRootContainer,nt=b([9,11]),yi=b([5,6,10,12]),pi=b([6,10,12]),fi=document.createElement("style"),tt=!1;try{fi.innerHTML="<b>x<\/b>";tt=3==fi.firstChild.nodeType}catch(ki){}n.features.htmlParsingConforms=tt;var wi=tt?function(n){var r=this.startContainer,u=t.getDocument(r),i;if(!r)throw new e("INVALID_STATE_ERR");return i=null,1==r.nodeType?i=r:t.isCharacterDataNode(r)&&(i=t.parentElement(r)),i=null===i||"HTML"==i.nodeName&&t.isHtmlNamespace(t.getDocument(i).documentElement)&&t.isHtmlNamespace(i)?u.createElement("body"):i.cloneNode(!1),i.innerHTML=n,t.fragmentFromNodeChildren(i)}:function(n){f(this);var u=r(this),i=u.createElement("body");return i.innerHTML=n,t.fragmentFromNodeChildren(i)},it=["startContainer","startOffset","endContainer","endOffset","collapsed","commonAncestorContainer"],rt=0,ei=1,bi=2,oi=3,si=0,hi=1,ci=2,ut=3;g.prototype={attachListener:function(n,t){this._listeners[n].push(t)},compareBoundaryPoints:function(n,r){i(this);d(this.startContainer,r.startContainer);var u,f,e,o,s=n==oi||n==rt?"start":"end",h=n==ei||n==rt?"start":"end";return u=this[s+"Container"],f=this[s+"Offset"],e=r[h+"Container"],o=r[h+"Offset"],t.comparePoints(u,f,e,o)},insertNode:function(n){if(i(this),a(n,ai),h(this.startContainer),t.isAncestorOf(n,this.startContainer,!0))throw new e("HIERARCHY_REQUEST_ERR");var r=ot(n,this.startContainer,this.startOffset);this.setStartBefore(r)},cloneContents:function(){var n,u,f;return(i(this),this.collapsed)?r(this).createDocumentFragment():this.startContainer===this.endContainer&&t.isCharacterDataNode(this.startContainer)?(n=this.startContainer.cloneNode(!0),n.data=n.data.slice(this.startOffset,this.endOffset),u=r(this).createDocumentFragment(),u.appendChild(n),u):(f=new o(this,!0),n=st(f),f.detach(),n)},canSurroundContents:function(){i(this);h(this.startContainer);h(this.endContainer);var n=new o(this,!0),t=n._first&&c(n._first,this)||n._last&&c(n._last,this);return n.detach(),!t},surroundContents:function(n){if(a(n,vi),!this.canSurroundContents())throw new s("BAD_BOUNDARYPOINTS_ERR");var t=this.extractContents();if(n.hasChildNodes())for(;n.lastChild;)n.removeChild(n.lastChild);ot(n,this.startContainer,this.startOffset);n.appendChild(t);this.selectNode(n)},cloneRange:function(){i(this);for(var n,t=new u(r(this)),f=it.length;f--;)n=it[f],t[n]=this[n];return t},toString:function(){var n,r,u;return(i(this),n=this.startContainer,n===this.endContainer&&t.isCharacterDataNode(n))?3==n.nodeType||4==n.nodeType?n.data.slice(this.startOffset,this.endOffset):"":(r=[],u=new o(this,!0),y(u,function(n){(3==n.nodeType||4==n.nodeType)&&r.push(n.data)}),u.detach(),r.join(""))},compareNode:function(n){var r,u,o,f;if(i(this),r=n.parentNode,u=t.getNodeIndex(n),!r)throw new e("NOT_FOUND_ERR");return o=this.comparePoint(r,u),f=this.comparePoint(r,u+1),0>o?f>0?ci:si:f>0?hi:ut},comparePoint:function(n,r){return i(this),p(n,"HIERARCHY_REQUEST_ERR"),d(n,this.startContainer),t.comparePoints(n,r,this.startContainer,this.startOffset)<0?-1:t.comparePoints(n,r,this.endContainer,this.endOffset)>0?1:0},createContextualFragment:wi,toHtml:function(){i(this);var n=r(this).createElement("div");return n.appendChild(this.cloneContents()),n.innerHTML},intersectsNode:function(n,u){var f,e,o,s;return(i(this),p(n,"NOT_FOUND_ERR"),t.getDocument(n)!==r(this))?!1:(f=n.parentNode,e=t.getNodeIndex(n),p(f,"NOT_FOUND_ERR"),o=t.comparePoints(f,e,this.endContainer,this.endOffset),s=t.comparePoints(f,e+1,this.startContainer,this.startOffset),u?0>=o&&s>=0:0>o&&s>0)},isPointInRange:function(n,r){return i(this),p(n,"HIERARCHY_REQUEST_ERR"),d(n,this.startContainer),t.comparePoints(n,r,this.startContainer,this.startOffset)>=0&&t.comparePoints(n,r,this.endContainer,this.endOffset)<=0},intersectsRange:function(n,u){if(i(this),r(n)!=r(this))throw new e("WRONG_DOCUMENT_ERR");var f=t.comparePoints(this.startContainer,this.startOffset,n.endContainer,n.endOffset),o=t.comparePoints(this.endContainer,this.endOffset,n.startContainer,n.startOffset);return u?0>=f&&o>=0:0>f&&o>0},intersection:function(n){if(this.intersectsRange(n)){var r=t.comparePoints(this.startContainer,this.startOffset,n.startContainer,n.startOffset),u=t.comparePoints(this.endContainer,this.endOffset,n.endContainer,n.endOffset),i=this.cloneRange();return-1==r&&i.setStart(n.startContainer,n.startOffset),1==u&&i.setEnd(n.endContainer,n.endOffset),i}return null},union:function(n){if(this.intersectsRange(n,!0)){var i=this.cloneRange();return-1==t.comparePoints(n.startContainer,n.startOffset,this.startContainer,this.startOffset)&&i.setStart(n.startContainer,n.startOffset),1==t.comparePoints(n.endContainer,n.endOffset,this.endContainer,this.endOffset)&&i.setEnd(n.endContainer,n.endOffset),i}throw new s("Ranges do not intersect");},containsNode:function(n,t){return t?this.intersectsNode(n,!1):this.compareNode(n)==ut},containsNodeContents:function(n){return this.comparePoint(n,0)>=0&&this.comparePoint(n,t.getNodeLength(n))<=0},containsRange:function(n){return this.intersection(n).equals(n)},containsNodeText:function(n){var t=this.cloneRange(),i,r,u;return(t.selectNode(n),i=t.getNodes([3]),i.length>0)?(t.setStart(i[0],0),r=i.pop(),t.setEnd(r,r.length),u=this.containsRange(t),t.detach(),u):this.containsNodeContents(n)},createNodeIterator:function(n,t){return i(this),new vt(this,n,t)},getNodes:function(n,t){return i(this),lt(this,n,t)},getDocument:function(){return r(this)},collapseBefore:function(n){f(this);this.setEndBefore(n);this.collapse(!1)},collapseAfter:function(n){f(this);this.setStartAfter(n);this.collapse(!0)},getName:function(){return"DomRange"},equals:function(n){return u.rangesEqual(this,n)},isValid:function(){return wt(this)},inspect:function(){return at(this)}};gt(u,ti,li);n.rangePrototype=g.prototype;u.rangeProperties=it;u.RangeIterator=o;u.copyComparisonConstants=kt;u.createPrototypeRange=gt;u.inspect=at;u.getRangeDocument=r;u.rangesEqual=function(n,t){return n.startContainer===t.startContainer&&n.startOffset===t.startOffset&&n.endContainer===t.endContainer&&n.endOffset===t.endOffset};n.DomRange=u;n.RangeException=s});rangy.createModule("WrappedRange",function(n){function s(n){var e=n.parentElement(),i=n.duplicate(),r,f,u;return i.collapse(!0),r=i.parentElement(),i=n.duplicate(),i.collapse(!1),f=i.parentElement(),u=r==f?r:t.getCommonAncestor(r,f),u==e?u:t.getCommonAncestor(e,u)}function h(n){return 0==n.compareEndPoints("StartToEnd",n)}function f(n,i,u,f){var s=n.duplicate(),o,y,c,a,p,l,e,w,v,h,b;if(s.collapse(u),o=s.parentElement(),t.isAncestorOf(i,o,!0)||(o=i),!o.canHaveHTML)return new r(o.parentNode,t.getNodeIndex(o));e=t.getDocument(o).createElement("span");w=u?"StartToStart":"StartToEnd";do o.insertBefore(e,e.previousSibling),s.moveToElementText(e);while((y=s.compareEndPoints(w,n))>0&&e.previousSibling);if(l=e.nextSibling,-1==y&&l&&t.isCharacterDataNode(l)){if(s.setEndPoint(u?"EndToStart":"EndToEnd",n),/[\r\n]/.test(l.data))for(h=s.duplicate(),b=h.text.replace(/\r\n/g,"\r").length,v=h.moveStart("character",b);-1==(y=h.compareEndPoints("StartToEnd",h));)v++,h.moveStart("character",1);else v=s.text.length;p=new r(l,v)}else c=(f||!u)&&e.previousSibling,a=(f||u)&&e.nextSibling,p=a&&t.isCharacterDataNode(a)?new r(a,0):c&&t.isCharacterDataNode(c)?new r(c,c.length):new r(o,t.getNodeIndex(e));return e.parentNode.removeChild(e),p}function e(n,i){var u,f,r,o,s=n.offset,h=t.getDocument(n.node),e=h.body.createTextRange(),c=t.isCharacterDataNode(n.node);return c?(u=n.node,f=u.parentNode):(o=n.node.childNodes,u=s<o.length?o[s]:null,f=n.node),r=h.createElement("span"),r.innerHTML="&#feff;",u?f.insertBefore(r,u):f.appendChild(r),e.moveToElementText(r),e.collapse(!i),f.removeChild(r),c&&e[i?"moveStart":"moveEnd"]("character",s),e}var o;n.requireModules(["DomUtil","DomRange"]);var i,t=n.dom,r=t.DomPosition,u=n.DomRange;!n.features.implementsDomRange||n.features.implementsTextRange&&n.config.preferTextRange?n.features.implementsTextRange&&(i=function(n){this.textRange=n;this.refresh()},i.prototype=new u(document),i.prototype.refresh=function(){var n,t,i=s(this.textRange);h(this.textRange)?t=n=f(this.textRange,i,!0,!0):(n=f(this.textRange,i,!0,!1),t=f(this.textRange,i,!1,!1));this.setStart(n.node,n.offset);this.setEnd(t.node,t.offset)},u.copyComparisonConstants(i),o=function(){return this}(),"undefined"==typeof o.Range&&(o.Range=i),n.createNativeRange=function(n){return n=n||document,n.body.createTextRange()}):(!function(){function o(n){for(var t,i=c.length;i--;)t=c[i],n[t]=n.nativeRange[t]}function a(n,t,i,r,u){var f=n.startContainer!==t||n.startOffset!=i,e=n.endContainer!==r||n.endOffset!=u;(f||e)&&(n.setEnd(r,u),n.setStart(t,i))}function v(n){n.nativeRange.detach();n.detached=!0;for(var t,i=c.length;i--;)t=c[i],n[t]=null}var r,l,h,c=u.rangeProperties,e,f,s;i=function(n){if(!n)throw new Error("Range must be specified");this.nativeRange=n;o(this)};u.createPrototypeRange(i,a,v);r=i.prototype;r.selectNode=function(n){this.nativeRange.selectNode(n);o(this)};r.deleteContents=function(){this.nativeRange.deleteContents();o(this)};r.extractContents=function(){var n=this.nativeRange.extractContents();return o(this),n};r.cloneContents=function(){return this.nativeRange.cloneContents()};r.surroundContents=function(n){this.nativeRange.surroundContents(n);o(this)};r.collapse=function(n){this.nativeRange.collapse(n);o(this)};r.cloneRange=function(){return new i(this.nativeRange.cloneRange())};r.refresh=function(){o(this)};r.toString=function(){return this.nativeRange.toString()};e=document.createTextNode("test");t.getBody(document).appendChild(e);f=document.createRange();f.setStart(e,0);f.setEnd(e,0);try{f.setStart(e,1);l=!0;r.setStart=function(n,t){this.nativeRange.setStart(n,t);o(this)};r.setEnd=function(n,t){this.nativeRange.setEnd(n,t);o(this)};h=function(n){return function(t){this.nativeRange[n](t);o(this)}}}catch(y){l=!1;r.setStart=function(n,t){try{this.nativeRange.setStart(n,t)}catch(i){this.nativeRange.setEnd(n,t);this.nativeRange.setStart(n,t)}o(this)};r.setEnd=function(n,t){try{this.nativeRange.setEnd(n,t)}catch(i){this.nativeRange.setStart(n,t);this.nativeRange.setEnd(n,t)}o(this)};h=function(n,t){return function(i){try{this.nativeRange[n](i)}catch(r){this.nativeRange[t](i);this.nativeRange[n](i)}o(this)}}}r.setStartBefore=h("setStartBefore","setEndBefore");r.setStartAfter=h("setStartAfter","setEndAfter");r.setEndBefore=h("setEndBefore","setStartBefore");r.setEndAfter=h("setEndAfter","setStartAfter");f.selectNodeContents(e);r.selectNodeContents=f.startContainer==e&&f.endContainer==e&&0==f.startOffset&&f.endOffset==e.length?function(n){this.nativeRange.selectNodeContents(n);o(this)}:function(n){this.setStart(n,0);this.setEnd(n,u.getEndOffset(n))};f.selectNodeContents(e);f.setEnd(e,3);s=document.createRange();s.selectNodeContents(e);s.setEnd(e,4);s.setStart(e,2);r.compareBoundaryPoints=-1==f.compareBoundaryPoints(f.START_TO_END,s)&1==f.compareBoundaryPoints(f.END_TO_START,s)?function(n,t){return t=t.nativeRange||t,n==t.START_TO_END?n=t.END_TO_START:n==t.END_TO_START&&(n=t.START_TO_END),this.nativeRange.compareBoundaryPoints(n,t)}:function(n,t){return this.nativeRange.compareBoundaryPoints(n,t.nativeRange||t)};n.util.isHostMethod(f,"createContextualFragment")&&(r.createContextualFragment=function(n){return this.nativeRange.createContextualFragment(n)});t.getBody(document).removeChild(e);f.detach();s.detach()}(),n.createNativeRange=function(n){return n=n||document,n.createRange()});n.features.implementsTextRange&&(i.rangeToTextRange=function(n){if(n.collapsed)return e(new r(n.startContainer,n.startOffset),!0);var u=e(new r(n.startContainer,n.startOffset),!0),f=e(new r(n.endContainer,n.endOffset),!1),i=t.getDocument(n.startContainer).body.createTextRange();return i.setEndPoint("StartToStart",u),i.setEndPoint("EndToEnd",f),i});i.prototype.getName=function(){return"WrappedRange"};n.WrappedRange=i;n.createRange=function(t){return t=t||document,new i(n.createNativeRange(t))};n.createRangyRange=function(n){return n=n||document,new u(n)};n.createIframeRange=function(i){return n.createRange(t.getIframeDocument(i))};n.createIframeRangyRange=function(i){return n.createRangyRange(t.getIframeDocument(i))};n.addCreateMissingNativeApiListener(function(t){var i=t.document;"undefined"==typeof i.createRange&&(i.createRange=function(){return n.createRange(this)});i=t=null})});rangy.createModule("WrappedSelection",function(n,t){function ri(n){return(n||window).getSelection()}function at(n){return(n||window).document.selection}function l(n,t,i){var r=i?"end":"start",u=i?"start":"end";n.anchorNode=t[r+"Container"];n.anchorOffset=t[r+"Offset"];n.focusNode=t[u+"Container"];n.focusOffset=t[u+"Offset"]}function ui(n){var t=n.nativeSelection;n.anchorNode=t.anchorNode;n.anchorOffset=t.anchorOffset;n.focusNode=t.focusNode;n.focusOffset=t.focusOffset}function o(n){n.anchorNode=n.focusNode=null;n.anchorOffset=n.focusOffset=0;n.rangeCount=0;n.isCollapsed=!0;n._ranges.length=0}function ft(t){var i;return t instanceof h?(i=t._selectionNativeRange,i||(i=n.createNativeRange(r.getDocument(t.startContainer)),i.setEnd(t.endContainer,t.endOffset),i.setStart(t.startContainer,t.startOffset),t._selectionNativeRange=i,t.attachListener("detach",function(){this._selectionNativeRange=null}))):t instanceof g?i=t.nativeRange:n.features.implementsDomRange&&t instanceof r.getWindow(t.startContainer).Range&&(i=t),i}function fi(n){if(!n.length||1!=n[0].nodeType)return!1;for(var t=1,i=n.length;i>t;++t)if(!r.isAncestorOf(n[0],n[t]))return!1;return!0}function et(n){var t=n.getNodes();if(!fi(t))throw new Error("getSingleElementFromRange: range "+n.inspect()+" did not consist of a single element");return t[0]}function vt(n){return!!n&&"undefined"!=typeof n.text}function yt(n,t){var i=new g(t);n._ranges=[i];l(n,i,!1);n.rangeCount=1;n.isCollapsed=i.collapsed}function a(t){var i,f,e,u;if(t._ranges.length=0,"None"==t.docSelection.type)o(t);else if(i=t.docSelection.createRange(),vt(i))yt(t,i);else{for(t.rangeCount=i.length,e=r.getDocument(i.item(0)),u=0;u<t.rangeCount;++u)f=n.createRange(e),f.selectNode(i.item(u)),t._ranges.push(f);t.isCollapsed=1==t.rangeCount&&t._ranges[0].collapsed;l(t,t._ranges[t.rangeCount-1],!1)}}function pt(n,t){for(var i=n.docSelection.createRange(),e=et(t),o=r.getDocument(i.item(0)),u=r.getBody(o).createControlRange(),f=0,s=i.length;s>f;++f)u.add(i.item(f));try{u.add(e)}catch(h){throw new Error("addRange(): Element within the specified Range could not be added to control selection (does it have layout?)");}u.select();a(n)}function k(n,t,i){this.nativeSelection=n;this.docSelection=t;this._ranges=[];this.win=i;this.refresh()}function wt(n,t){for(var u,e=r.getDocument(t[0].startContainer),f=r.getBody(e).createControlRange(),i=0;i<rangeCount;++i){u=et(t[i]);try{f.add(u)}catch(o){throw new Error("setRanges(): Element within the one of the specified Ranges could not be added to control selection (does it have layout?)");}}f.select();a(n)}function bt(n,t){if(n.anchorNode&&r.getDocument(n.anchorNode)!==r.getDocument(t))throw new nt("WRONG_DOCUMENT_ERR");}function kt(n){var i=[],u=new gt(n.anchorNode,n.anchorOffset),f=new gt(n.focusNode,n.focusOffset),e="function"==typeof n.getName?n.getName():"Selection",t,r;if("undefined"!=typeof n.rangeCount)for(t=0,r=n.rangeCount;r>t;++t)i[t]=h.inspect(n.getRangeAt(t));return"["+e+"(Ranges: "+i.join(", ")+")(anchor: "+u.inspect()+", focus: "+f.inspect()+"]"}var tt,st,it,ht,ii,e,rt,i,ct,ut,lt,b;n.requireModules(["DomUtil","DomRange","WrappedRange"]);n.config.checkSelectionRanges=!0;var v,d,dt="boolean",ot="_rangySelection",r=n.dom,f=n.util,h=n.DomRange,g=n.WrappedRange,nt=n.DOMException,gt=r.DomPosition,s="Control",ni=n.util.isHostMethod(window,"getSelection"),y=n.util.isHostObject(document,"selection"),p=y&&(!ni||n.config.preferTextRange);p?(v=at,n.isSelectionValid=function(n){var t=(n||window).document,i=t.selection;return"None"!=i.type||r.getDocument(i.createRange().parentElement())==t}):ni?(v=ri,n.isSelectionValid=function(){return!0}):t.fail("Neither document.selection or window.getSelection() detected.");n.getNativeSelection=v;var u=v(),ti=n.createNativeRange(document),w=r.getBody(document),c=f.areHostObjects(u,["anchorNode","focusNode"]&&f.areHostProperties(u,["anchorOffset","focusOffset"]));if(n.features.selectionHasAnchorAndFocus=c,tt=f.isHostMethod(u,"extend"),n.features.selectionHasExtend=tt,st="number"==typeof u.rangeCount,n.features.selectionHasRangeCount=st,it=!1,ht=!0,f.areHostMethods(u,["addRange","getRangeAt","removeAllRanges"])&&"number"==typeof u.rangeCount&&n.features.implementsDomRange&&!function(){var n=document.createElement("iframe"),i,f;n.frameBorder=0;n.style.position="absolute";n.style.left="-10000px";w.appendChild(n);i=r.getIframeDocument(n);i.open();i.write("<html><head><\/head><body>12<\/body><\/html>");i.close();var u=r.getIframeWindow(n).getSelection(),o=i.documentElement,s=o.lastChild,e=s.firstChild,t=i.createRange();t.setStart(e,1);t.collapse(!0);u.addRange(t);ht=1==u.rangeCount;u.removeAllRanges();f=t.cloneRange();t.setStart(e,0);f.setEnd(e,2);u.addRange(t);u.addRange(f);it=2==u.rangeCount;t.detach();f.detach();w.removeChild(n)}(),n.features.selectionSupportsMultipleRanges=it,n.features.collapsedNonEditableSelectionsSupported=ht,e=!1,w&&f.isHostMethod(w,"createControlRange")&&(ii=w.createControlRange(),f.areHostProperties(ii,["item","add"])&&(e=!0)),n.features.implementsControlRange=e,d=c?function(n){return n.anchorNode===n.focusNode&&n.anchorOffset===n.focusOffset}:function(n){return n.rangeCount?n.getRangeAt(n.rangeCount-1).collapsed:!1},f.isHostMethod(u,"getRangeAt")?rt=function(n,t){try{return n.getRangeAt(t)}catch(i){return null}}:c&&(rt=function(t){var u=r.getDocument(t.anchorNode),i=n.createRange(u);return i.setStart(t.anchorNode,t.anchorOffset),i.setEnd(t.focusNode,t.focusOffset),i.collapsed!==this.isCollapsed&&(i.setStart(t.focusNode,t.focusOffset),i.setEnd(t.anchorNode,t.anchorOffset)),i}),n.getSelection=function(n){n=n||window;var t=n[ot],i=v(n),r=y?at(n):null;return t?(t.nativeSelection=i,t.docSelection=r,t.refresh(n)):(t=new k(i,r,n),n[ot]=t),t},n.getIframeSelection=function(t){return n.getSelection(r.getIframeWindow(t))},i=k.prototype,!p&&c&&f.areHostMethods(u,["removeAllRanges","addRange"]))i.removeAllRanges=function(){this.nativeSelection.removeAllRanges();o(this)},ct=function(t,i){var u=h.getRangeDocument(i),r=n.createRange(u);r.collapseToPoint(i.endContainer,i.endOffset);t.nativeSelection.addRange(ft(r));t.nativeSelection.extend(i.startContainer,i.startOffset);t.refresh()},i.addRange=st?function(t,i){var u,r;e&&y&&this.docSelection.type==s?pt(this,t):i&&tt?ct(this,t):(it?u=this.rangeCount:(this.removeAllRanges(),u=0),this.nativeSelection.addRange(ft(t)),this.rangeCount=this.nativeSelection.rangeCount,this.rangeCount==u+1)?(n.config.checkSelectionRanges&&(r=rt(this.nativeSelection,this.rangeCount-1),r&&!h.rangesEqual(r,t)&&(t=new g(r))),this._ranges[this.rangeCount-1]=t,l(this,t,b(this.nativeSelection)),this.isCollapsed=d(this)):this.refresh()}:function(n,t){t&&tt?ct(this,n):(this.nativeSelection.addRange(ft(n)),this.refresh())},i.setRanges=function(n){if(e&&n.length>1)wt(this,n);else{this.removeAllRanges();for(var t=0,i=n.length;i>t;++t)this.addRange(n[t])}};else{if(!(f.isHostMethod(u,"empty")&&f.isHostMethod(ti,"select")&&e&&p))return t.fail("No means of selecting a Range or TextRange was found"),!1;i.removeAllRanges=function(){var n,t,i;try{(this.docSelection.empty(),"None"!=this.docSelection.type)&&(this.anchorNode?n=r.getDocument(this.anchorNode):this.docSelection.type==s&&(t=this.docSelection.createRange(),t.length&&(n=r.getDocument(t.item(0)).body.createTextRange())),n&&(i=n.body.createTextRange(),i.select(),this.docSelection.empty()))}catch(u){}o(this)};i.addRange=function(n){this.docSelection.type==s?pt(this,n):(g.rangeToTextRange(n).select(),this._ranges[0]=n,this.rangeCount=1,this.isCollapsed=this._ranges[0].collapsed,l(this,n,!1))};i.setRanges=function(n){this.removeAllRanges();var t=n.length;t>1?wt(this,n):t&&this.addRange(n[0])}}if(i.getRangeAt=function(n){if(0>n||n>=this.rangeCount)throw new nt("INDEX_SIZE_ERR");return this._ranges[n]},p)ut=function(t){var i;n.isSelectionValid(t.win)?i=t.docSelection.createRange():(i=r.getBody(t.win.document).createTextRange(),i.collapse(!0));t.docSelection.type==s?a(t):vt(i)?yt(t,i):o(t)};else if(f.isHostMethod(u,"getRangeAt")&&"number"==typeof u.rangeCount)ut=function(t){if(e&&y&&t.docSelection.type==s)a(t);else if(t._ranges.length=t.rangeCount=t.nativeSelection.rangeCount,t.rangeCount){for(var i=0,r=t.rangeCount;r>i;++i)t._ranges[i]=new n.WrappedRange(t.nativeSelection.getRangeAt(i));l(t,t._ranges[t.rangeCount-1],b(t.nativeSelection));t.isCollapsed=d(t)}else o(t)};else{if(!c||typeof u.isCollapsed!=dt||typeof ti.collapsed!=dt||!n.features.implementsDomRange)return t.fail("No means of obtaining a Range or TextRange from the user's selection was found"),!1;ut=function(n){var t,i=n.nativeSelection;i.anchorNode?(t=rt(i,0),n._ranges=[t],n.rangeCount=1,ui(n),n.isCollapsed=d(n)):o(n)}}i.refresh=function(n){var i=n?this._ranges.slice(0):null,t;if(ut(this),n){if(t=i.length,t!=this._ranges.length)return!1;for(;t--;)if(!h.rangesEqual(i[t],this._ranges[t]))return!1;return!0}};lt=function(n,t){var r=n.getAllRanges(),u=!1,i,f;for(n.removeAllRanges(),i=0,f=r.length;f>i;++i)u||t!==r[i]?n.addRange(r[i]):u=!0;n.rangeCount||o(n)};i.removeRange=e?function(n){if(this.docSelection.type==s){for(var u,t=this.docSelection.createRange(),o=et(n),h=r.getDocument(t.item(0)),f=r.getBody(h).createControlRange(),e=!1,i=0,c=t.length;c>i;++i)u=t.item(i),u!==o||e?f.add(t.item(i)):e=!0;f.select();a(this)}else lt(this,n)}:function(n){lt(this,n)};!p&&c&&n.features.implementsDomRange?(b=function(n){var t=!1;return n.anchorNode&&(t=1==r.comparePoints(n.anchorNode,n.anchorOffset,n.focusNode,n.focusOffset)),t},i.isBackwards=function(){return b(this)}):b=i.isBackwards=function(){return!1};i.toString=function(){for(var t=[],n=0,i=this.rangeCount;i>n;++n)t[n]=""+this._ranges[n];return t.join("")};i.collapse=function(t,i){bt(this,t);var u=n.createRange(r.getDocument(t));u.collapseToPoint(t,i);this.removeAllRanges();this.addRange(u);this.isCollapsed=!0};i.collapseToStart=function(){if(!this.rangeCount)throw new nt("INVALID_STATE_ERR");var n=this._ranges[0];this.collapse(n.startContainer,n.startOffset)};i.collapseToEnd=function(){if(!this.rangeCount)throw new nt("INVALID_STATE_ERR");var n=this._ranges[this.rangeCount-1];this.collapse(n.endContainer,n.endOffset)};i.selectAllChildren=function(t){bt(this,t);var i=n.createRange(r.getDocument(t));i.selectNodeContents(t);this.removeAllRanges();this.addRange(i)};i.deleteFromDocument=function(){var n,t,i,r,u;if(e&&y&&this.docSelection.type==s){for(t=this.docSelection.createRange();t.length;)n=t.item(0),t.remove(n),n.parentNode.removeChild(n);this.refresh()}else if(this.rangeCount){for(i=this.getAllRanges(),this.removeAllRanges(),r=0,u=i.length;u>r;++r)i[r].deleteContents();this.addRange(i[u-1])}};i.getAllRanges=function(){return this._ranges.slice(0)};i.setSingleRange=function(n){this.setRanges([n])};i.containsNode=function(n,t){for(var i=0,r=this._ranges.length;r>i;++i)if(this._ranges[i].containsNode(n,t))return!0;return!1};i.toHtml=function(){var t="";if(this.rangeCount){for(var i=h.getRangeDocument(this._ranges[0]).createElement("div"),n=0,r=this._ranges.length;r>n;++n)i.appendChild(this._ranges[n].cloneContents());t=i.innerHTML}return t};i.getName=function(){return"WrappedSelection"};i.inspect=function(){return kt(this)};i.detach=function(){this.win[ot]=null;this.win=this.anchorNode=this.focusNode=null};k.inspect=kt;n.Selection=k;n.selectionPrototype=i;n.addCreateMissingNativeApiListener(function(t){"undefined"==typeof t.getSelection&&(t.getSelection=function(){return n.getSelection(this)});t=null})});rangy.createModule("SaveRestore",function(n,t){function i(n,t){return(t||document).getElementById(n)}function u(n,t){var i,f="selectionBoundary_"+ +new Date+"_"+(""+Math.random()).slice(2),u=c.getDocument(n.startContainer),r=n.cloneRange();return r.collapse(t),i=u.createElement("span"),i.id=f,i.style.lineHeight="0",i.style.display="none",i.className="rangySelectionBoundary",i.appendChild(u.createTextNode(l)),r.insertNode(i),r.detach(),i}function f(n,r,u,f){var e=i(u,n);e?(r[f?"setStartBefore":"setEndBefore"](e),e.parentNode.removeChild(e)):t.warn("Marker element has been removed. Cannot restore selection.")}function e(n,t){return t.compareBoundaryPoints(n.START_TO_START,n)}function o(r){var c,f,v;if(r=r||window,c=r.document,!n.isSelectionValid(r))return void t.warn("Cannot save selection. This usually happens when the selection is collapsed and the selection document has lost focus.");var y,l,o,a=n.getSelection(r),s=a.getAllRanges(),h=[];for(s.sort(e),f=0,v=s.length;v>f;++f)o=s[f],o.collapsed?(l=u(o,!1),h.push({markerId:l.id,collapsed:!0})):(l=u(o,!1),y=u(o,!0),h[f]={startMarkerId:y.id,endMarkerId:l.id,collapsed:!1,backwards:1==s.length&&a.isBackwards()});for(f=v-1;f>=0;--f)o=s[f],o.collapsed?o.collapseBefore(i(h[f].markerId,c)):(o.setEndBefore(i(h[f].endMarkerId,c)),o.setStartAfter(i(h[f].startMarkerId,c)));return a.setRanges(s),{win:r,doc:c,rangeInfos:h,restored:!1}}function s(r,u){var e,h;if(!r.restored){for(var s,o,l=r.rangeInfos,a=n.getSelection(r.win),v=[],y=l.length,c=y-1;c>=0;--c)(s=l[c],o=n.createRange(r.doc),s.collapsed)?(e=i(s.markerId,r.doc),e?(e.style.display="inline",h=e.previousSibling,h&&3==h.nodeType?(e.parentNode.removeChild(e),o.collapseToPoint(h,h.length)):(o.collapseBefore(e),e.parentNode.removeChild(e))):t.warn("Marker element has been removed. Cannot restore selection.")):(f(r.doc,o,s.startMarkerId,!0),f(r.doc,o,s.endMarkerId,!1)),1==y&&o.normalizeBoundaries(),v[c]=o;1==y&&u&&n.features.selectionHasExtend&&l[0].backwards?(a.removeAllRanges(),a.addRange(v[0],!0)):a.setRanges(v);r.restored=!0}}function r(n,t){var r=i(t,n);r&&r.parentNode.removeChild(r)}function h(n){for(var t,u=n.rangeInfos,i=0,f=u.length;f>i;++i)t=u[i],t.collapsed?r(n.doc,t.markerId):(r(n.doc,t.startMarkerId),r(n.doc,t.endMarkerId))}n.requireModules(["DomUtil","DomRange","WrappedRange"]);var c=n.dom,l="﻿";n.saveSelection=o;n.restoreSelection=s;n.removeMarkerElement=r;n.removeMarkers=h})}({},function(){return this}());
/*
@license textAngular
Author : Austin Anderson
License : 2013 MIT
Version 1.3.7
See README.md or https://github.com/fraywing/textAngular/wiki for requirements and use.
*/
angular.module("textAngularSetup",[]).value("taOptions",{toolbar:[["h1","h2","h3","h4","h5","h6","p","pre","quote"],["bold","italics","underline","strikeThrough","ul","ol","redo","undo","clear"],["justifyLeft","justifyCenter","justifyRight","indent","outdent"],["html","insertImage","insertLink","insertVideo","wordcount","charcount"]],classes:{focussed:"focussed",toolbar:"btn-toolbar",toolbarGroup:"btn-group",toolbarButton:"btn btn-default",toolbarButtonActive:"active",disabled:"disabled",textEditor:"form-control",htmlEditor:"form-control"},setup:{textEditorSetup:function(){},htmlEditorSetup:function(){}},defaultFileDropHandler:function(n,t){var i=new FileReader;return n.type.substring(0,5)==="image"?(i.onload=function(){i.result!==""&&t("insertImage",i.result,!0)},i.readAsDataURL(n),!0):!1}}).value("taSelectableElements",["a","img"]).value("taCustomRenderers",[{selector:"img",customAttribute:"ta-insert-video",renderLogic:function(n){var t=angular.element("<iframe><\/iframe>"),i=n.prop("attributes");angular.forEach(i,function(n){t.attr(n.name,n.value)});t.attr("src",t.attr("ta-insert-video"));n.replaceWith(t)}}]).value("taTranslations",{html:{tooltip:"Toggle html / Rich Text"},heading:{tooltip:"Heading "},p:{tooltip:"Paragraph"},pre:{tooltip:"Preformatted text"},ul:{tooltip:"Unordered List"},ol:{tooltip:"Ordered List"},quote:{tooltip:"Quote/unquote selection or paragraph"},undo:{tooltip:"Undo"},redo:{tooltip:"Redo"},bold:{tooltip:"Bold"},italic:{tooltip:"Italic"},underline:{tooltip:"Underline"},strikeThrough:{tooltip:"Strikethrough"},justifyLeft:{tooltip:"Align text left"},justifyRight:{tooltip:"Align text right"},justifyCenter:{tooltip:"Center"},indent:{tooltip:"Increase indent"},outdent:{tooltip:"Decrease indent"},clear:{tooltip:"Clear formatting"},insertImage:{dialogPrompt:"Please enter an image URL to insert",tooltip:"Insert image",hotkey:"the - possibly language dependent hotkey ... for some future implementation"},insertVideo:{tooltip:"Insert video",dialogPrompt:"Please enter a youtube URL to embed"},insertLink:{tooltip:"Insert / edit link",dialogPrompt:"Please enter a URL to insert"},editLink:{reLinkButton:{tooltip:"Relink"},unLinkButton:{tooltip:"Unlink"},targetToggle:{buttontext:"Open in New Window"}},wordcount:{tooltip:"Display words Count"},charcount:{tooltip:"Display characters Count"}}).run(["taRegisterTool","$window","taTranslations","taSelection",function(n,t,i,r){var f,e,u;n("html",{iconclass:"fa fa-code",tooltiptext:i.html.tooltip,action:function(){this.$editor().switchView()},activeState:function(){return this.$editor().showHtml}});f=function(n){return function(){return this.$editor().queryFormatBlockState(n)}};e=function(){return this.$editor().wrapSelection("formatBlock","<"+this.name.toUpperCase()+">")};angular.forEach(["h1","h2","h3","h4","h5","h6"],function(t){n(t.toLowerCase(),{buttontext:t.toUpperCase(),tooltiptext:i.heading.tooltip+t.charAt(1),action:e,activeState:f(t.toLowerCase())})});n("p",{buttontext:"P",tooltiptext:i.p.tooltip,action:function(){return this.$editor().wrapSelection("formatBlock","<P>")},activeState:function(){return this.$editor().queryFormatBlockState("p")}});n("pre",{buttontext:"pre",tooltiptext:i.pre.tooltip,action:function(){return this.$editor().wrapSelection("formatBlock","<PRE>")},activeState:function(){return this.$editor().queryFormatBlockState("pre")}});n("ul",{iconclass:"fa fa-list-ul",tooltiptext:i.ul.tooltip,action:function(){return this.$editor().wrapSelection("insertUnorderedList",null)},activeState:function(){return this.$editor().queryCommandState("insertUnorderedList")}});n("ol",{iconclass:"fa fa-list-ol",tooltiptext:i.ol.tooltip,action:function(){return this.$editor().wrapSelection("insertOrderedList",null)},activeState:function(){return this.$editor().queryCommandState("insertOrderedList")}});n("quote",{iconclass:"fa fa-quote-right",tooltiptext:i.quote.tooltip,action:function(){return this.$editor().wrapSelection("formatBlock","<BLOCKQUOTE>")},activeState:function(){return this.$editor().queryFormatBlockState("blockquote")}});n("undo",{iconclass:"fa fa-undo",tooltiptext:i.undo.tooltip,action:function(){return this.$editor().wrapSelection("undo",null)}});n("redo",{iconclass:"fa fa-repeat",tooltiptext:i.redo.tooltip,action:function(){return this.$editor().wrapSelection("redo",null)}});n("bold",{iconclass:"fa fa-bold",tooltiptext:i.bold.tooltip,action:function(){return this.$editor().wrapSelection("bold",null)},activeState:function(){return this.$editor().queryCommandState("bold")},commandKeyCode:98});n("justifyLeft",{iconclass:"fa fa-align-left",tooltiptext:i.justifyLeft.tooltip,action:function(){return this.$editor().wrapSelection("justifyLeft",null)},activeState:function(n){var t=!1;return n&&(t=n.css("text-align")==="left"||n.attr("align")==="left"||n.css("text-align")!=="right"&&n.css("text-align")!=="center"&&n.css("text-align")!=="justify"&&!this.$editor().queryCommandState("justifyRight")&&!this.$editor().queryCommandState("justifyCenter")&&!this.$editor().queryCommandState("justifyFull")),t||this.$editor().queryCommandState("justifyLeft")}});n("justifyRight",{iconclass:"fa fa-align-right",tooltiptext:i.justifyRight.tooltip,action:function(){return this.$editor().wrapSelection("justifyRight",null)},activeState:function(n){var t=!1;return n&&(t=n.css("text-align")==="right"),t||this.$editor().queryCommandState("justifyRight")}});n("justifyCenter",{iconclass:"fa fa-align-center",tooltiptext:i.justifyCenter.tooltip,action:function(){return this.$editor().wrapSelection("justifyCenter",null)},activeState:function(n){var t=!1;return n&&(t=n.css("text-align")==="center"),t||this.$editor().queryCommandState("justifyCenter")}});n("indent",{iconclass:"fa fa-indent",tooltiptext:i.indent.tooltip,action:function(){return this.$editor().wrapSelection("indent",null)},activeState:function(){return this.$editor().queryFormatBlockState("blockquote")}});n("outdent",{iconclass:"fa fa-outdent",tooltiptext:i.outdent.tooltip,action:function(){return this.$editor().wrapSelection("outdent",null)},activeState:function(){return!1}});n("italics",{iconclass:"fa fa-italic",tooltiptext:i.italic.tooltip,action:function(){return this.$editor().wrapSelection("italic",null)},activeState:function(){return this.$editor().queryCommandState("italic")},commandKeyCode:105});n("underline",{iconclass:"fa fa-underline",tooltiptext:i.underline.tooltip,action:function(){return this.$editor().wrapSelection("underline",null)},activeState:function(){return this.$editor().queryCommandState("underline")},commandKeyCode:117});n("strikeThrough",{iconclass:"fa fa-strikethrough",action:function(){return this.$editor().wrapSelection("strikeThrough",null)},activeState:function(){return document.queryCommandState("strikeThrough")}});n("clear",{iconclass:"fa fa-ban",tooltiptext:i.clear.tooltip,action:function(n,t){var i,u,c,f,o,l,a,p,v;if(this.$editor().wrapSelection("removeFormat",null),u=angular.element(r.getSelectionElement()),c=function(n){n=angular.element(n);var t=n;angular.forEach(n.children(),function(n){var i=angular.element("<p><\/p>");i.html(angular.element(n).html());t.after(i);t=i});n.remove()},angular.forEach(u.find("ul"),c),angular.forEach(u.find("ol"),c),u[0].tagName.toLowerCase()==="li"){var h=u[0].parentNode.childNodes,s=[],e=[],y=!1;for(i=0;i<h.length;i++)h[i]===u[0]?y=!0:y?e.push(h[i]):s.push(h[i]);if(f=angular.element(u[0].parentNode),o=angular.element("<p><\/p>"),o.html(angular.element(u[0]).html()),s.length===0||e.length===0)e.length===0?f.after(o):f[0].parentNode.insertBefore(o[0],f[0]),s.length===0&&e.length===0?f.remove():angular.element(u[0]).remove();else{for(l=angular.element("<"+f[0].tagName+"><\/"+f[0].tagName+">"),a=angular.element("<"+f[0].tagName+"><\/"+f[0].tagName+">"),i=0;i<s.length;i++)l.append(angular.element(s[i]));for(i=0;i<e.length;i++)a.append(angular.element(e[i]));f.after(a);f.after(o);f.after(l);f.remove()}r.setSelectionToElementEnd(o[0])}p=this.$editor();v=function(n){n=angular.element(n);n[0]!==p.displayElements.text[0]&&n.removeAttr("class");angular.forEach(n.children(),v)};angular.forEach(u,v);u[0].tagName.toLowerCase()!=="li"&&u[0].tagName.toLowerCase()!=="ol"&&u[0].tagName.toLowerCase()!=="ul"&&this.$editor().wrapSelection("formatBlock","default");t()}});u=function(n,t,i){var u=function(){i.updateTaBindtaTextElement();i.hidePopover()},f,r,e,o,s,h,c,l,a,v;n.preventDefault();i.displayElements.popover.css("width","375px");f=i.displayElements.popoverContainer;f.empty();r=angular.element('<div class="btn-group" style="padding-right: 6px;">');e=angular.element('<button type="button" class="btn btn-default btn-sm btn-small" unselectable="on" tabindex="-1">100% <\/button>');e.on("click",function(n){n.preventDefault();t.css({width:"100%",height:""});u()});o=angular.element('<button type="button" class="btn btn-default btn-sm btn-small" unselectable="on" tabindex="-1">50% <\/button>');o.on("click",function(n){n.preventDefault();t.css({width:"50%",height:""});u()});s=angular.element('<button type="button" class="btn btn-default btn-sm btn-small" unselectable="on" tabindex="-1">25% <\/button>');s.on("click",function(n){n.preventDefault();t.css({width:"25%",height:""});u()});h=angular.element('<button type="button" class="btn btn-default btn-sm btn-small" unselectable="on" tabindex="-1">Reset<\/button>');h.on("click",function(n){n.preventDefault();t.css({width:"",height:""});u()});r.append(e);r.append(o);r.append(s);r.append(h);f.append(r);r=angular.element('<div class="btn-group" style="padding-right: 6px;">');c=angular.element('<button type="button" class="btn btn-default btn-sm btn-small" unselectable="on" tabindex="-1"><i class="fa fa-align-left"><\/i><\/button>');c.on("click",function(n){n.preventDefault();t.css("float","left");t.css("cssFloat","left");t.css("styleFloat","left");u()});l=angular.element('<button type="button" class="btn btn-default btn-sm btn-small" unselectable="on" tabindex="-1"><i class="fa fa-align-right"><\/i><\/button>');l.on("click",function(n){n.preventDefault();t.css("float","right");t.css("cssFloat","right");t.css("styleFloat","right");u()});a=angular.element('<button type="button" class="btn btn-default btn-sm btn-small" unselectable="on" tabindex="-1"><i class="fa fa-align-justify"><\/i><\/button>');a.on("click",function(n){n.preventDefault();t.css("float","");t.css("cssFloat","");t.css("styleFloat","");u()});r.append(c);r.append(a);r.append(l);f.append(r);r=angular.element('<div class="btn-group">');v=angular.element('<button type="button" class="btn btn-default btn-sm btn-small" unselectable="on" tabindex="-1"><i class="fa fa-trash-o"><\/i><\/button>');v.on("click",function(n){n.preventDefault();t.remove();u()});r.append(v);f.append(r);i.showPopover(t);i.showResizeOverlay(t)};n("insertImage",{iconclass:"fa fa-picture-o",tooltiptext:i.insertImage.tooltip,action:function(){var n;return n=t.prompt(i.insertImage.dialogPrompt,"http://"),n&&n!==""&&n!=="http://"?this.$editor().wrapSelection("insertImage",n,!0):void 0},onElementSelect:{element:"img",action:u}});n("insertVideo",{iconclass:"fa fa-youtube-play",tooltiptext:i.insertVideo.tooltip,action:function(){var n,r,u,f;return n=t.prompt(i.insertVideo.dialogPrompt,"https://"),n&&n!==""&&n!=="https://"&&(r=n.match(/(\?|&)v=[^&]*/),r&&r.length>0)?(u="https://www.youtube.com/embed/"+r[0].substring(3),f='<img class="ta-insert-video" src="https://img.youtube.com/vi/'+r[0].substring(3)+'/hqdefault.jpg" ta-insert-video="'+u+'" contenteditable="false" src="" allowfullscreen="true" frameborder="0" />',this.$editor().wrapSelection("insertHTML",f,!0)):void 0},onElementSelect:{element:"img",onlyWithAttrs:["ta-insert-video"],action:u}});n("insertLink",{tooltiptext:i.insertLink.tooltip,iconclass:"fa fa-link",action:function(){var n;return n=t.prompt(i.insertLink.dialogPrompt,"http://"),n&&n!==""&&n!=="http://"?this.$editor().wrapSelection("createLink",n,!0):void 0},activeState:function(n){return n?n[0].tagName==="A":!1},onElementSelect:{element:"a",action:function(n,r,u){var f,s,e,h,c,o;n.preventDefault();u.displayElements.popover.css("width","436px");f=u.displayElements.popoverContainer;f.empty();f.css("line-height","28px");s=angular.element('<a href="'+r.attr("href")+'" target="_blank">'+r.attr("href")+"<\/a>");s.css({display:"inline-block","max-width":"200px",overflow:"hidden","text-overflow":"ellipsis","white-space":"nowrap","vertical-align":"middle"});f.append(s);e=angular.element('<div class="btn-group pull-right">');h=angular.element('<button type="button" class="btn btn-default btn-sm btn-small" tabindex="-1" unselectable="on" title="'+i.editLink.reLinkButton.tooltip+'"><i class="fa fa-edit icon-edit"><\/i><\/button>');h.on("click",function(n){n.preventDefault();var f=t.prompt(i.insertLink.dialogPrompt,r.attr("href"));f&&f!==""&&f!=="http://"&&(r.attr("href",f),u.updateTaBindtaTextElement());u.hidePopover()});e.append(h);c=angular.element('<button type="button" class="btn btn-default btn-sm btn-small" tabindex="-1" unselectable="on" title="'+i.editLink.unLinkButton.tooltip+'"><i class="fa fa-unlink icon-unlink"><\/i><\/button>');c.on("click",function(n){n.preventDefault();r.replaceWith(r.contents());u.updateTaBindtaTextElement();u.hidePopover()});e.append(c);o=angular.element('<button type="button" class="btn btn-default btn-sm btn-small" tabindex="-1" unselectable="on">'+i.editLink.targetToggle.buttontext+"<\/button>");r.attr("target")==="_blank"&&o.addClass("active");o.on("click",function(n){n.preventDefault();r.attr("target",r.attr("target")==="_blank"?"":"_blank");o.toggleClass("active");u.updateTaBindtaTextElement()});e.append(o);f.append(e);u.showPopover(r)}}});n("wordcount",{display:'<div id="toolbarWC" style="display:block; min-width:100px;">Words: <span ng-bind="wordcount"><\/span><\/div>',disabled:!0,wordcount:0,activeState:function(){var i=this.$editor().displayElements.text,r=i[0].innerHTML,u=r.replace(/(<[^>]*?>)/ig," "),n=u.match(/\S+/g),t=n&&n.length||0;return this.wordcount=t,this.$editor().wordcount=t,!1}});n("charcount",{display:'<div id="toolbarCC" style="display:block; min-width:120px;">Characters: <span ng-bind="charcount"><\/span><\/div>',disabled:!0,charcount:0,activeState:function(){var n=this.$editor().displayElements.text,i=n[0].innerText||n[0].textContent,t=i.replace(/(\r\n|\n|\r)/gm,"").replace(/^\s+/g," ").replace(/\s+$/g," ").length;return this.charcount=t,this.$editor().charcount=t,!1}})}]);!function(n,t){t["true"]=n;angular.module("textAngularSetup",[]).value("taOptions",{toolbar:[["h1","h2","h3","h4","h5","h6","p","pre","quote"],["bold","italics","underline","strikeThrough","ul","ol","redo","undo","clear"],["justifyLeft","justifyCenter","justifyRight","indent","outdent"],["html","insertImage","insertLink","insertVideo","wordcount","charcount"]],classes:{focussed:"focussed",toolbar:"btn-toolbar",toolbarGroup:"btn-group",toolbarButton:"btn btn-default",toolbarButtonActive:"active",disabled:"disabled",textEditor:"form-control",htmlEditor:"form-control"},setup:{textEditorSetup:function(){},htmlEditorSetup:function(){}},defaultFileDropHandler:function(n,t){var i=new FileReader;return"image"===n.type.substring(0,5)?(i.onload=function(){""!==i.result&&t("insertImage",i.result,!0)},i.readAsDataURL(n),!0):!1}}).value("taSelectableElements",["a","img"]).value("taCustomRenderers",[{selector:"img",customAttribute:"ta-insert-video",renderLogic:function(n){var t=angular.element("<iframe><\/iframe>"),i=n.prop("attributes");angular.forEach(i,function(n){t.attr(n.name,n.value)});t.attr("src",t.attr("ta-insert-video"));n.replaceWith(t)}}]).value("taTranslations",{html:{tooltip:"Toggle html / Rich Text"},heading:{tooltip:"Heading "},p:{tooltip:"Paragraph"},pre:{tooltip:"Preformatted text"},ul:{tooltip:"Unordered List"},ol:{tooltip:"Ordered List"},quote:{tooltip:"Quote/unquote selection or paragraph"},undo:{tooltip:"Undo"},redo:{tooltip:"Redo"},bold:{tooltip:"Bold"},italic:{tooltip:"Italic"},underline:{tooltip:"Underline"},strikeThrough:{tooltip:"Strikethrough"},justifyLeft:{tooltip:"Align text left"},justifyRight:{tooltip:"Align text right"},justifyCenter:{tooltip:"Center"},indent:{tooltip:"Increase indent"},outdent:{tooltip:"Decrease indent"},clear:{tooltip:"Clear formatting"},insertImage:{dialogPrompt:"Please enter an image URL to insert",tooltip:"Insert image",hotkey:"the - possibly language dependent hotkey ... for some future implementation"},insertVideo:{tooltip:"Insert video",dialogPrompt:"Please enter a youtube URL to embed"},insertLink:{tooltip:"Insert / edit link",dialogPrompt:"Please enter a URL to insert"},editLink:{reLinkButton:{tooltip:"Relink"},unLinkButton:{tooltip:"Unlink"},targetToggle:{buttontext:"Open in New Window"}},wordcount:{tooltip:"Display words Count"},charcount:{tooltip:"Display characters Count"}}).run(["taRegisterTool","$window","taTranslations","taSelection",function(n,t,i,r){var f,e,u;n("html",{iconclass:"fa fa-code",tooltiptext:i.html.tooltip,action:function(){this.$editor().switchView()},activeState:function(){return this.$editor().showHtml}});f=function(n){return function(){return this.$editor().queryFormatBlockState(n)}};e=function(){return this.$editor().wrapSelection("formatBlock","<"+this.name.toUpperCase()+">")};angular.forEach(["h1","h2","h3","h4","h5","h6"],function(t){n(t.toLowerCase(),{buttontext:t.toUpperCase(),tooltiptext:i.heading.tooltip+t.charAt(1),action:e,activeState:f(t.toLowerCase())})});n("p",{buttontext:"P",tooltiptext:i.p.tooltip,action:function(){return this.$editor().wrapSelection("formatBlock","<P>")},activeState:function(){return this.$editor().queryFormatBlockState("p")}});n("pre",{buttontext:"pre",tooltiptext:i.pre.tooltip,action:function(){return this.$editor().wrapSelection("formatBlock","<PRE>")},activeState:function(){return this.$editor().queryFormatBlockState("pre")}});n("ul",{iconclass:"fa fa-list-ul",tooltiptext:i.ul.tooltip,action:function(){return this.$editor().wrapSelection("insertUnorderedList",null)},activeState:function(){return this.$editor().queryCommandState("insertUnorderedList")}});n("ol",{iconclass:"fa fa-list-ol",tooltiptext:i.ol.tooltip,action:function(){return this.$editor().wrapSelection("insertOrderedList",null)},activeState:function(){return this.$editor().queryCommandState("insertOrderedList")}});n("quote",{iconclass:"fa fa-quote-right",tooltiptext:i.quote.tooltip,action:function(){return this.$editor().wrapSelection("formatBlock","<BLOCKQUOTE>")},activeState:function(){return this.$editor().queryFormatBlockState("blockquote")}});n("undo",{iconclass:"fa fa-undo",tooltiptext:i.undo.tooltip,action:function(){return this.$editor().wrapSelection("undo",null)}});n("redo",{iconclass:"fa fa-repeat",tooltiptext:i.redo.tooltip,action:function(){return this.$editor().wrapSelection("redo",null)}});n("bold",{iconclass:"fa fa-bold",tooltiptext:i.bold.tooltip,action:function(){return this.$editor().wrapSelection("bold",null)},activeState:function(){return this.$editor().queryCommandState("bold")},commandKeyCode:98});n("justifyLeft",{iconclass:"fa fa-align-left",tooltiptext:i.justifyLeft.tooltip,action:function(){return this.$editor().wrapSelection("justifyLeft",null)},activeState:function(n){var t=!1;return n&&(t="left"===n.css("text-align")||"left"===n.attr("align")||"right"!==n.css("text-align")&&"center"!==n.css("text-align")&&"justify"!==n.css("text-align")&&!this.$editor().queryCommandState("justifyRight")&&!this.$editor().queryCommandState("justifyCenter")&&!this.$editor().queryCommandState("justifyFull")),t=t||this.$editor().queryCommandState("justifyLeft")}});n("justifyRight",{iconclass:"fa fa-align-right",tooltiptext:i.justifyRight.tooltip,action:function(){return this.$editor().wrapSelection("justifyRight",null)},activeState:function(n){var t=!1;return n&&(t="right"===n.css("text-align")),t=t||this.$editor().queryCommandState("justifyRight")}});n("justifyCenter",{iconclass:"fa fa-align-center",tooltiptext:i.justifyCenter.tooltip,action:function(){return this.$editor().wrapSelection("justifyCenter",null)},activeState:function(n){var t=!1;return n&&(t="center"===n.css("text-align")),t=t||this.$editor().queryCommandState("justifyCenter")}});n("indent",{iconclass:"fa fa-indent",tooltiptext:i.indent.tooltip,action:function(){return this.$editor().wrapSelection("indent",null)},activeState:function(){return this.$editor().queryFormatBlockState("blockquote")}});n("outdent",{iconclass:"fa fa-outdent",tooltiptext:i.outdent.tooltip,action:function(){return this.$editor().wrapSelection("outdent",null)},activeState:function(){return!1}});n("italics",{iconclass:"fa fa-italic",tooltiptext:i.italic.tooltip,action:function(){return this.$editor().wrapSelection("italic",null)},activeState:function(){return this.$editor().queryCommandState("italic")},commandKeyCode:105});n("underline",{iconclass:"fa fa-underline",tooltiptext:i.underline.tooltip,action:function(){return this.$editor().wrapSelection("underline",null)},activeState:function(){return this.$editor().queryCommandState("underline")},commandKeyCode:117});n("strikeThrough",{iconclass:"fa fa-strikethrough",action:function(){return this.$editor().wrapSelection("strikeThrough",null)},activeState:function(){return document.queryCommandState("strikeThrough")}});n("clear",{iconclass:"fa fa-ban",tooltiptext:i.clear.tooltip,action:function(n,t){var i,u,c,f,o,l,a,p,v;if(this.$editor().wrapSelection("removeFormat",null),u=angular.element(r.getSelectionElement()),c=function(n){n=angular.element(n);var t=n;angular.forEach(n.children(),function(n){var i=angular.element("<p><\/p>");i.html(angular.element(n).html());t.after(i);t=i});n.remove()},angular.forEach(u.find("ul"),c),angular.forEach(u.find("ol"),c),"li"===u[0].tagName.toLowerCase()){var h=u[0].parentNode.childNodes,s=[],e=[],y=!1;for(i=0;i<h.length;i++)h[i]===u[0]?y=!0:y?e.push(h[i]):s.push(h[i]);if(f=angular.element(u[0].parentNode),o=angular.element("<p><\/p>"),o.html(angular.element(u[0]).html()),0===s.length||0===e.length)0===e.length?f.after(o):f[0].parentNode.insertBefore(o[0],f[0]),0===s.length&&0===e.length?f.remove():angular.element(u[0]).remove();else{for(l=angular.element("<"+f[0].tagName+"><\/"+f[0].tagName+">"),a=angular.element("<"+f[0].tagName+"><\/"+f[0].tagName+">"),i=0;i<s.length;i++)l.append(angular.element(s[i]));for(i=0;i<e.length;i++)a.append(angular.element(e[i]));f.after(a);f.after(o);f.after(l);f.remove()}r.setSelectionToElementEnd(o[0])}p=this.$editor();v=function(n){n=angular.element(n);n[0]!==p.displayElements.text[0]&&n.removeAttr("class");angular.forEach(n.children(),v)};angular.forEach(u,v);"li"!==u[0].tagName.toLowerCase()&&"ol"!==u[0].tagName.toLowerCase()&&"ul"!==u[0].tagName.toLowerCase()&&this.$editor().wrapSelection("formatBlock","default");t()}});u=function(n,t,i){var u=function(){i.updateTaBindtaTextElement();i.hidePopover()},f,r,e,o,s,h,c,l,a,v;n.preventDefault();i.displayElements.popover.css("width","375px");f=i.displayElements.popoverContainer;f.empty();r=angular.element('<div class="btn-group" style="padding-right: 6px;">');e=angular.element('<button type="button" class="btn btn-default btn-sm btn-small" unselectable="on" tabindex="-1">100% <\/button>');e.on("click",function(n){n.preventDefault();t.css({width:"100%",height:""});u()});o=angular.element('<button type="button" class="btn btn-default btn-sm btn-small" unselectable="on" tabindex="-1">50% <\/button>');o.on("click",function(n){n.preventDefault();t.css({width:"50%",height:""});u()});s=angular.element('<button type="button" class="btn btn-default btn-sm btn-small" unselectable="on" tabindex="-1">25% <\/button>');s.on("click",function(n){n.preventDefault();t.css({width:"25%",height:""});u()});h=angular.element('<button type="button" class="btn btn-default btn-sm btn-small" unselectable="on" tabindex="-1">Reset<\/button>');h.on("click",function(n){n.preventDefault();t.css({width:"",height:""});u()});r.append(e);r.append(o);r.append(s);r.append(h);f.append(r);r=angular.element('<div class="btn-group" style="padding-right: 6px;">');c=angular.element('<button type="button" class="btn btn-default btn-sm btn-small" unselectable="on" tabindex="-1"><i class="fa fa-align-left"><\/i><\/button>');c.on("click",function(n){n.preventDefault();t.css("float","left");t.css("cssFloat","left");t.css("styleFloat","left");u()});l=angular.element('<button type="button" class="btn btn-default btn-sm btn-small" unselectable="on" tabindex="-1"><i class="fa fa-align-right"><\/i><\/button>');l.on("click",function(n){n.preventDefault();t.css("float","right");t.css("cssFloat","right");t.css("styleFloat","right");u()});a=angular.element('<button type="button" class="btn btn-default btn-sm btn-small" unselectable="on" tabindex="-1"><i class="fa fa-align-justify"><\/i><\/button>');a.on("click",function(n){n.preventDefault();t.css("float","");t.css("cssFloat","");t.css("styleFloat","");u()});r.append(c);r.append(a);r.append(l);f.append(r);r=angular.element('<div class="btn-group">');v=angular.element('<button type="button" class="btn btn-default btn-sm btn-small" unselectable="on" tabindex="-1"><i class="fa fa-trash-o"><\/i><\/button>');v.on("click",function(n){n.preventDefault();t.remove();u()});r.append(v);f.append(r);i.showPopover(t);i.showResizeOverlay(t)};n("insertImage",{iconclass:"fa fa-picture-o",tooltiptext:i.insertImage.tooltip,action:function(){var n;return n=t.prompt(i.insertImage.dialogPrompt,"http://"),n&&""!==n&&"http://"!==n?this.$editor().wrapSelection("insertImage",n,!0):void 0},onElementSelect:{element:"img",action:u}});n("insertVideo",{iconclass:"fa fa-youtube-play",tooltiptext:i.insertVideo.tooltip,action:function(){var n,r,u,f;if((n=t.prompt(i.insertVideo.dialogPrompt,"https://"),n&&""!==n&&"https://"!==n)&&(r=n.match(/(\?|&)v=[^&]*/),r&&r.length>0))return u="https://www.youtube.com/embed/"+r[0].substring(3),f='<img class="ta-insert-video" src="https://img.youtube.com/vi/'+r[0].substring(3)+'/hqdefault.jpg" ta-insert-video="'+u+'" contenteditable="false" src="" allowfullscreen="true" frameborder="0" />',this.$editor().wrapSelection("insertHTML",f,!0)},onElementSelect:{element:"img",onlyWithAttrs:["ta-insert-video"],action:u}});n("insertLink",{tooltiptext:i.insertLink.tooltip,iconclass:"fa fa-link",action:function(){var n;return n=t.prompt(i.insertLink.dialogPrompt,"http://"),n&&""!==n&&"http://"!==n?this.$editor().wrapSelection("createLink",n,!0):void 0},activeState:function(n){return n?"A"===n[0].tagName:!1},onElementSelect:{element:"a",action:function(n,r,u){var f,s,e,h,c,o;n.preventDefault();u.displayElements.popover.css("width","436px");f=u.displayElements.popoverContainer;f.empty();f.css("line-height","28px");s=angular.element('<a href="'+r.attr("href")+'" target="_blank">'+r.attr("href")+"<\/a>");s.css({display:"inline-block","max-width":"200px",overflow:"hidden","text-overflow":"ellipsis","white-space":"nowrap","vertical-align":"middle"});f.append(s);e=angular.element('<div class="btn-group pull-right">');h=angular.element('<button type="button" class="btn btn-default btn-sm btn-small" tabindex="-1" unselectable="on" title="'+i.editLink.reLinkButton.tooltip+'"><i class="fa fa-edit icon-edit"><\/i><\/button>');h.on("click",function(n){n.preventDefault();var f=t.prompt(i.insertLink.dialogPrompt,r.attr("href"));f&&""!==f&&"http://"!==f&&(r.attr("href",f),u.updateTaBindtaTextElement());u.hidePopover()});e.append(h);c=angular.element('<button type="button" class="btn btn-default btn-sm btn-small" tabindex="-1" unselectable="on" title="'+i.editLink.unLinkButton.tooltip+'"><i class="fa fa-unlink icon-unlink"><\/i><\/button>');c.on("click",function(n){n.preventDefault();r.replaceWith(r.contents());u.updateTaBindtaTextElement();u.hidePopover()});e.append(c);o=angular.element('<button type="button" class="btn btn-default btn-sm btn-small" tabindex="-1" unselectable="on">'+i.editLink.targetToggle.buttontext+"<\/button>");"_blank"===r.attr("target")&&o.addClass("active");o.on("click",function(n){n.preventDefault();r.attr("target","_blank"===r.attr("target")?"":"_blank");o.toggleClass("active");u.updateTaBindtaTextElement()});e.append(o);f.append(e);u.showPopover(r)}}});n("wordcount",{display:'<div id="toolbarWC" style="display:block; min-width:100px;">Words: <span ng-bind="wordcount"><\/span><\/div>',disabled:!0,wordcount:0,activeState:function(){var i=this.$editor().displayElements.text,r=i[0].innerHTML,u=r.replace(/(<[^>]*?>)/gi," "),n=u.match(/\S+/g),t=n&&n.length||0;return this.wordcount=t,this.$editor().wordcount=t,!1}});n("charcount",{display:'<div id="toolbarCC" style="display:block; min-width:120px;">Characters: <span ng-bind="charcount"><\/span><\/div>',disabled:!0,charcount:0,activeState:function(){var n=this.$editor().displayElements.text,i=n[0].innerText||n[0].textContent,t=i.replace(/(\r\n|\n|\r)/gm,"").replace(/^\s+/g," ").replace(/\s+$/g," ").length;return this.charcount=t,this.$editor().charcount=t,!1}})}]),function(){"use strict";function p(n){try{return 0!==angular.element(n).length}catch(t){return!1}}function w(n,t){if(!n||""===n||e.hasOwnProperty(n))throw"textAngular Error: A unique name is required for a Tool Definition";if(t.display&&(""===t.display||!p(t.display))||!t.display&&!t.buttontext&&!t.iconclass)throw'textAngular Error: Tool Definition for "'+n+'" does not have a valid display/iconclass/buttontext value';e[n]=t}var n={ie:function(){for(var i,n=3,t=document.createElement("div"),r=t.getElementsByTagName("i");t.innerHTML="<!--[if gt IE "+ ++n+"]><i><\/i><![endif]-->",r[0];);return n>4?n:i}(),webkit:/AppleWebKit\/([\d.]+)/i.test(navigator.userAgent)},o=!1,t,c,l,a,v,y,u,r;n.webkit&&(document.addEventListener("mousedown",function(n){var u=n||window.event,i=u.target,r,t;if(o&&null!==i){for(r=!1,t=i;null!==t&&"html"!==t.tagName.toLowerCase()&&!r;)r="true"===t.contentEditable,t=t.parentNode;r||(document.getElementById("textAngular-editableFix-010203040506070809").setSelectionRange(0,0),i.focus(),i.select&&i.select())}o=!1},!1),angular.element(document).ready(function(){angular.element(document.body).append(angular.element('<input id="textAngular-editableFix-010203040506070809" class="ta-hidden-input" unselectable="on" tabIndex="-1">'))}));var i=/^(address|article|aside|audio|blockquote|canvas|dd|div|dl|fieldset|figcaption|figure|footer|form|h1|h2|h3|h4|h5|h6|header|hgroup|hr|noscript|ol|output|p|pre|section|table|tfoot|ul|video)$/i,b=/^(ul|li|ol)$/i,s=/^(address|article|aside|audio|blockquote|canvas|dd|div|dl|fieldset|figcaption|figure|footer|form|h1|h2|h3|h4|h5|h6|header|hgroup|hr|noscript|ol|output|p|pre|section|table|tfoot|ul|video|li)$/i;if(String.prototype.trim||(String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")}),n.ie>8||void 0===n.ie){for(u=document.styleSheets,r=0;r<u.length;r++)if((0===u[r].media.length||u[r].media.mediaText.match(/(all|screen)/gi))&&u[r].href&&u[r].href.match(/textangular\.(min\.|)css/gi)){t=u[r];break}t||(t=function(){var t=document.createElement("style");return n.webkit&&t.appendChild(document.createTextNode("")),document.getElementsByTagName("head")[0].appendChild(t),t.sheet}());c=function(n,i){return a(t,n,i)};a=function(n,i,r){var u,f;return n.cssRules?u=Math.max(n.cssRules.length-1,0):n.rules&&(u=Math.max(n.rules.length-1,0)),n.insertRule?n.insertRule(i+"{"+r+"}",u):n.addRule(i,r,u),t.rules?f=t.rules[u]:t.cssRules&&(f=t.cssRules[u]),f};y=function(n,t){for(var r,i=0;i<t.length;i++)if(t[i].cssText===n.cssText){r=i;break}return r};l=function(n){v(t,n)};v=function(n,t){var i=y(t,n.cssRules||n.rules);n.removeRule?n.removeRule(i):n.deleteRule(i)}}angular.module("textAngular.factories",[]).factory("taBrowserTag",[function(){return function(t){return t?""===t?void 0===n.ie?"div":n.ie<=8?"P":"p":n.ie<=8?t.toUpperCase():t:n.ie<=8?"P":"p"}}]).factory("taApplyCustomRenderers",["taCustomRenderers","taDOM",function(n,t){return function(i){var r=angular.element("<div><\/div>");return r[0].innerHTML=i,angular.forEach(n,function(n){var i=[];n.selector&&""!==n.selector?i=r.find(n.selector):n.customAttribute&&""!==n.customAttribute&&(i=t.getByAttribute(r,n.customAttribute));angular.forEach(i,function(t){t=angular.element(t);n.selector&&""!==n.selector&&n.customAttribute&&""!==n.customAttribute?void 0!==t.attr(n.customAttribute)&&n.renderLogic(t):n.renderLogic(t)})}),r[0].innerHTML}}]).factory("taFixChrome",function(){return function(n){if(!n||!angular.isString(n)||n.length<=0)return n;for(var t,i,r,e=/<([^>\/]+?)style=("([^"]+)"|'([^']+)')([^>]*)>/gi,f="",u=0;t=e.exec(n);)i=t[3]||t[4],i&&i.match(/line-height: 1.428571429;|color: inherit; line-height: 1.1;/i)&&(i=i.replace(/( |)font-family: inherit;|( |)line-height: 1.428571429;|( |)line-height:1.1;|( |)color: inherit;/gi,""),r="<"+t[1].trim(),i.length>0&&(r+=" style="+t[2].substring(0,1)+i+t[2].substring(0,1)),r+=t[5].trim()+">",f+=n.substring(u,t.index)+r,u=t.index+t[0].length);return f+=n.substring(u),u>0?f.replace(/<span\s*>(.*?)<\/span>(<br(\/|)>|)/gi,"$1"):n}}).factory("taSanitize",["$sanitize",function(n){function e(n,t){for(var i,r=0,u=0,f=/<[^>]*>/gi;i=f.exec(n);)if(u=i.index,"/"===i[0].substr(1,1)){if(0===r)break;r--}else r++;return t+n.substring(0,u)+angular.element(t)[0].outerHTML.substring(t.length)+n.substring(u)}function o(n){var y,p;if(!n||!angular.isString(n)||n.length<=0)return n;for(var u,i,v,r,l,a,w=/<([^>\/]+?)style=("([^"]+)"|'([^']+)')([^>]*)>/gi,s="",h="",c=0;i=w.exec(n);)if(r=i[3]||i[4],y=new RegExp(f,"i"),angular.isString(r)&&y.test(r)){for(l="",p=new RegExp(f,"ig");v=p.exec(r);)for(u=0;u<t.length;u++)v[2*u+2]&&(l+="<"+t[u].tag+">");a=o(n.substring(c,i.index));h+=s.length>0?e(a,s):a;r=r.replace(new RegExp(f,"ig"),"");h+="<"+i[1].trim();r.length>0&&(h+=' style="'+r+'"');h+=i[5]+">";c=i.index+i[0].length;s=l}return h+(s.length>0?e(n.substring(c),s):n.substring(c))}function h(n){var i;if(!n||!angular.isString(n)||n.length<=0)return n;for(var t,f=/<([^>\/]+?)align=("([^"]+)"|'([^']+)')([^>]*)>/gi,r="",u=0;t=f.exec(n);)r+=n.substring(u,t.index),u=t.index+t[0].length,i="<"+t[1]+t[5],/style=("([^"]+)"|'([^']+)')/gi.test(i)?i=i.replace(/style=("([^"]+)"|'([^']+)')/i,'style="$2$3 text-align:'+(t[3]||t[4])+';"'):i+=' style="text-align:'+(t[3]||t[4])+';"',i+=">",r+=i;return r+n.substring(u)}for(var r,u,f,t=[{property:"font-weight",values:["bold"],tag:"b"},{property:"font-style",values:["italic"],tag:"i"}],s=[],i=0;i<t.length;i++){for(r="("+t[i].property+":\\s*(",u=0;u<t[i].values.length;u++)u>0&&(r+="|"),r+=t[i].values[u];r+=");)";s.push(r)}return f="("+s.join("|")+")",function(t,i,r){var u;if(!r)try{t=o(t)}catch(v){}t=h(t);try{u=n(t);r&&(u=t)}catch(v){u=i||""}var f,l=u.match(/(<pre[^>]*>.*?<\/pre[^>]*>)/gi),e=u.replace(/(&#(9|10);)*/gi,""),a=/<pre[^>]*>.*?<\/pre[^>]*>/gi,s=0,c=0;for(u="";null!==(f=a.exec(e))&&s<l.length;)u+=e.substring(c,f.index)+l[s],c=f.index+f[0].length,s++;return u+e.substring(c)}}]).factory("taToolExecuteAction",["$q","$log",function(n,t){return function(i){var f;void 0!==i&&(this.$editor=function(){return i});var r=n.defer(),e=r.promise,u=this.$editor();e["finally"](function(){u.endAction.call(u)});try{f=this.action(r,u.startAction())}catch(o){t.error(o)}(f||void 0===f)&&r.resolve()}}]);angular.module("textAngular.DOM",["textAngular.factories"]).factory("taExecCommand",["taSelection","taBrowserTag","$document",function(n,t,r){var u=function(t,i){for(var u,f=t.find("li"),r=f.length-1;r>=0;r--)u=angular.element("<"+i+">"+f[r].innerHTML+"<\/"+i+">"),t.after(u);t.remove();n.setSelectionToElementEnd(u[0])},e=function(t){/(<br(|\/)>)$/i.test(t.innerHTML.trim())?n.setSelectionBeforeElement(angular.element(t).find("br")[0]):n.setSelectionToElementEnd(t)},f=function(n,t){var i=angular.element("<"+t+">"+n[0].innerHTML+"<\/"+t+">");n.after(i);n.remove();e(i.find("li")[0])},o=function(n,i,r){for(var o,f="",u=0;u<n.length;u++)f+="<"+t("li")+">"+n[u].innerHTML+"<\/"+t("li")+">";o=angular.element("<"+r+">"+f+"<\/"+r+">");i.after(o);i.remove();e(o.find("li")[0])};return function(e,s){return e=t(e),function(h,c,l){var a,y,d,v,st,g,nt,tt=angular.element("<"+e+">"),p,k,w,ot,ft,ut,et,it,rt,ht;try{nt=n.getSelectionElement()}catch(ct){}if(p=angular.element(nt),void 0!==nt)if(k=nt.tagName.toLowerCase(),"insertorderedlist"===h.toLowerCase()||"insertunorderedlist"===h.toLowerCase()){if(w=t("insertorderedlist"===h.toLowerCase()?"ol":"ul"),k===w)return u(p,e);if("li"===k&&p.parent()[0].tagName.toLowerCase()===w&&1===p.parent().children().length)return u(p.parent(),e);if("li"===k&&p.parent()[0].tagName.toLowerCase()!==w&&1===p.parent().children().length)return f(p.parent(),w);if(k.match(i)&&!p.hasClass("ta-bind"))return"ol"===k||"ul"===k?f(p,w):(ot=!1,angular.forEach(p.children(),function(n){n.tagName.match(i)&&(ot=!0)}),ot?o(p.children(),p,w):o([angular.element("<div>"+nt.innerHTML+"<\/div>")[0]],p,w));if(k.match(i)){if(v=n.getOnlySelectedElements(),0===v.length)y=angular.element("<"+w+"><li>"+nt.innerHTML+"<\/li><\/"+w+">"),p.html(""),p.append(y);else{if(1===v.length&&("ol"===v[0].tagName.toLowerCase()||"ul"===v[0].tagName.toLowerCase()))return v[0].tagName.toLowerCase()===w?u(angular.element(v[0]),e):f(angular.element(v[0]),w);for(d="",ft=[],a=0;a<v.length;a++)if(3!==v[a].nodeType){if(ut=angular.element(v[a]),"li"===v[a].tagName.toLowerCase())continue;d+="ol"===v[a].tagName.toLowerCase()||"ul"===v[a].tagName.toLowerCase()?ut[0].innerHTML:"span"!==v[a].tagName.toLowerCase()||"ol"!==v[a].childNodes[0].tagName.toLowerCase()&&"ul"!==v[a].childNodes[0].tagName.toLowerCase()?"<"+t("li")+">"+ut[0].innerHTML+"<\/"+t("li")+">":ut[0].childNodes[0].innerHTML;ft.unshift(ut)}y=angular.element("<"+w+">"+d+"<\/"+w+">");ft.pop().replaceWith(y);angular.forEach(ft,function(n){n.remove()})}return void n.setSelectionToElementEnd(y[0])}}else{if("formatblock"===h.toLowerCase()){for(g=l.toLowerCase().replace(/[<>]/gi,""),"default"===g.trim()&&(g=e,l="<"+e+">"),y="li"===k?p.parent():p;!y[0].tagName||!y[0].tagName.match(i)&&!y.parent().attr("contenteditable");)y=y.parent(),k=(y[0].tagName||"").toLowerCase();if(k===g){for(v=y.children(),et=!1,a=0;a<v.length;a++)et=et||v[a].tagName.match(i);et?(y.after(v),st=y.next(),y.remove(),y=st):(tt.append(y[0].childNodes),y.after(tt),y.remove(),y=tt)}else if(y.parent()[0].tagName.toLowerCase()!==g||y.parent().hasClass("ta-bind"))if(k.match(b))y.wrap(l);else{for(v=n.getOnlySelectedElements(),0===v.length&&(v=[y[0]]),a=0;a<v.length;a++)if(3===v[a].nodeType||!v[a].tagName.match(i))for(;3===v[a].nodeType||!v[a].tagName||!v[a].tagName.match(i);)v[a]=v[a].parentNode;if(angular.element(v[0]).hasClass("ta-bind"))y=angular.element(l),y[0].innerHTML=v[0].innerHTML,v[0].innerHTML=y[0].outerHTML;else if("blockquote"===g){for(d="",a=0;a<v.length;a++)d+=v[a].outerHTML;for(y=angular.element(l),y[0].innerHTML=d,v[0].parentNode.insertBefore(y[0],v[0]),a=v.length-1;a>=0;a--)v[a].parentNode&&v[a].parentNode.removeChild(v[a])}else for(a=0;a<v.length;a++)y=angular.element(l),y[0].innerHTML=v[a].innerHTML,v[a].parentNode.insertBefore(y[0],v[a]),v[a].parentNode.removeChild(v[a])}else{for(it=y.parent(),rt=it.contents(),a=0;a<rt.length;a++)it.parent().hasClass("ta-bind")&&3===rt[a].nodeType&&(tt=angular.element("<"+e+">"),tt[0].innerHTML=rt[a].outerHTML,rt[a]=tt[0]),it.parent()[0].insertBefore(rt[a],it[0]);it.remove()}return void n.setSelectionToElementEnd(y[0])}if("createlink"===h.toLowerCase()){if(ht=n.getSelection(),ht.collapsed)return void n.insertHtml('<a href="'+l+'">'+l+"<\/a>",s)}else if("inserthtml"===h.toLowerCase())return void n.insertHtml(l,s)}try{r[0].execCommand(h,c,l)}catch(ct){}}}}]).service("taSelection",["$window","$document","taDOM",function(n,t,r){var f=t[0],u=n.rangy,o=function(n,t){return n.tagName&&n.tagName.match(/^br$/i)&&0===t&&!n.previousSibling?{element:n.parentNode,offset:0}:{element:n,offset:t}},e={getSelection:function(){var t=u.getSelection().getRangeAt(0),n=t.commonAncestorContainer,i={start:o(t.startContainer,t.startOffset),end:o(t.endContainer,t.endOffset),collapsed:t.collapsed};return n=3===n.nodeType?n.parentNode:n,i.container=n.parentNode===i.start.element||n.parentNode===i.end.element?n.parentNode:n,i},getOnlySelectedElements:function(){var t=u.getSelection().getRangeAt(0),n=t.commonAncestorContainer;return n=3===n.nodeType?n.parentNode:n,t.getNodes([1],function(t){return t.parentNode===n})},getSelectionElement:function(){return e.getSelection().container},setSelection:function(n,t,i){var r=u.createRange();r.setStart(n,t);r.setEnd(n,i);u.getSelection().setSingleRange(r)},setSelectionBeforeElement:function(n){var t=u.createRange();t.selectNode(n);t.collapse(!0);u.getSelection().setSingleRange(t)},setSelectionAfterElement:function(n){var t=u.createRange();t.selectNode(n);t.collapse(!1);u.getSelection().setSingleRange(t)},setSelectionToElementStart:function(n){var t=u.createRange();t.selectNodeContents(n);t.collapse(!0);u.getSelection().setSingleRange(t)},setSelectionToElementEnd:function(n){var t=u.createRange();t.selectNodeContents(n);t.collapse(!1);n.childNodes&&n.childNodes[n.childNodes.length-1]&&"br"===n.childNodes[n.childNodes.length-1].nodeName&&(t.startOffset=t.endOffset=t.startOffset-1);u.getSelection().setSingleRange(t)},insertHtml:function(n,t){var o,c,l,k,p,a,g,w=angular.element("<div>"+n+"<\/div>"),h=u.getSelection().getRangeAt(0),v=f.createDocumentFragment(),y=w[0].childNodes,b=!0,d,nt;if(y.length>0){for(k=[],l=0;l<y.length;l++)"p"===y[l].nodeName.toLowerCase()&&""===y[l].innerHTML.trim()||3===y[l].nodeType&&""===y[l].nodeValue.trim()||(b=b&&!i.test(y[l].nodeName),k.push(y[l]));for(d=0;d<k.length;d++)a=v.appendChild(k[d]);!b&&h.collapsed&&/^(|<br(|\/)>)$/i.test(h.startContainer.innerHTML)&&h.selectNode(h.startContainer)}else b=!0,a=v=f.createTextNode(n);if(b)h.deleteContents();else if(h.collapsed&&h.startContainer!==t)if(h.startContainer.innerHTML&&h.startContainer.innerHTML.match(/^<[^>]*>$/i))o=h.startContainer,1===h.startOffset?(h.setStartAfter(o),h.setEndAfter(o)):(h.setStartBefore(o),h.setEndBefore(o));else{if(3===h.startContainer.nodeType&&h.startContainer.parentNode!==t)for(o=h.startContainer.parentNode,c=o.cloneNode(),r.splitNodes(o.childNodes,o,c,h.startContainer,h.startOffset);!s.test(o.nodeName);)angular.element(o).after(c),o=o.parentNode,nt=c,c=o.cloneNode(),r.splitNodes(o.childNodes,o,c,nt);else o=h.startContainer,c=o.cloneNode(),r.splitNodes(o.childNodes,o,c,void 0,void 0,h.startOffset);if(angular.element(o).after(c),h.setStartAfter(o),h.setEndAfter(o),/^(|<br(|\/)>)$/i.test(o.innerHTML.trim())&&(h.setStartBefore(o),h.setEndBefore(o),angular.element(o).remove()),/^(|<br(|\/)>)$/i.test(c.innerHTML.trim())&&angular.element(c).remove(),"li"===o.nodeName.toLowerCase()){for(g=f.createDocumentFragment(),p=0;p<v.childNodes.length;p++)w=angular.element("<li>"),r.transferChildNodes(v.childNodes[p],w[0]),r.transferNodeAttributes(v.childNodes[p],w[0]),g.appendChild(w[0]);v=g;a&&(a=v.childNodes[v.childNodes.length-1],a=a.childNodes[a.childNodes.length-1])}}else h.deleteContents();h.insertNode(v);a&&e.setSelectionToElementEnd(a)}};return e}]).service("taDOM",function(){var n={getByAttribute:function(t,i){var r=[],u=t.children();return u.length&&angular.forEach(u,function(t){r=r.concat(n.getByAttribute(angular.element(t),i))}),void 0!==t.attr(i)&&r.push(t),r},transferChildNodes:function(n,t){for(t.innerHTML="";n.childNodes.length>0;)t.appendChild(n.childNodes[0]);return t},splitNodes:function(t,i,r,u,f,e){if(!u&&isNaN(e))throw new Error("taDOM.splitNodes requires a splitNode or splitIndex");for(var o=document.createDocumentFragment(),s=document.createDocumentFragment(),h=0;t.length>0&&(isNaN(e)||e!==h)&&t[0]!==u;)o.appendChild(t[0]),h++;for(!isNaN(f)&&f>=0&&t[0]&&(o.appendChild(document.createTextNode(t[0].nodeValue.substring(0,f))),t[0].nodeValue=t[0].nodeValue.substring(f));t.length>0;)s.appendChild(t[0]);n.transferChildNodes(o,i);n.transferChildNodes(s,r)},transferNodeAttributes:function(n,t){for(var i=0;i<n.attributes.length;i++)t.setAttribute(n.attributes[i].name,n.attributes[i].value);return t}};return n});angular.module("textAngular.validators",[]).directive("taMaxText",function(){return{restrict:"A",require:"ngModel",link:function(n,t,i,r){function f(n){var t=angular.element("<div/>"),i;return t.html(n),i=t.text().length,u>=i?(r.$setValidity("taMaxText",!0),n):void r.$setValidity("taMaxText",!1)}var u=parseInt(n.$eval(i.taMaxText));if(isNaN(u))throw"Max text must be an integer";i.$observe("taMaxText",function(n){if(u=parseInt(n),isNaN(u))throw"Max text must be an integer";r.$dirty&&r.$setViewValue(r.$viewValue)});r.$parsers.unshift(f)}}}).directive("taMinText",function(){return{restrict:"A",require:"ngModel",link:function(n,t,i,r){function f(n){var i=angular.element("<div/>"),t;return i.html(n),t=i.text().length,!t||t>=u?(r.$setValidity("taMinText",!0),n):void r.$setValidity("taMinText",!1)}var u=parseInt(n.$eval(i.taMinText));if(isNaN(u))throw"Min text must be an integer";i.$observe("taMinText",function(n){if(u=parseInt(n),isNaN(u))throw"Min text must be an integer";r.$dirty&&r.$setViewValue(r.$viewValue)});r.$parsers.unshift(f)}}});angular.module("textAngular.taBind",["textAngular.factories","textAngular.DOM"]).service("_taBlankTest",[function(){var n=/<(a|abbr|acronym|bdi|bdo|big|cite|code|del|dfn|img|ins|kbd|label|map|mark|q|ruby|rp|rt|s|samp|time|tt|var)[^>]*(>|$)/i;return function(t){return function(i){if(!i)return!0;var r,u=/(^[^<]|>)[^<]/i.exec(i);return u?r=u.index:(i=i.toString().replace(/="[^"]*"/i,"").replace(/="[^"]*"/i,"").replace(/="[^"]*"/i,"").replace(/="[^"]*"/i,""),r=i.indexOf(">")),i=i.trim().substring(r,r+100),/^[^<>]+$/i.test(i)?!1:0===i.length||i===t||/^>(\s|&nbsp;)*<\/[^>]+>$/gi.test(i)?!0:/>\s*[^\s<]/i.test(i)||n.test(i)?!1:!0}}}]).directive("taBind",["taSanitize","$timeout","$window","$document","taFixChrome","taBrowserTag","taSelection","taSelectableElements","taApplyCustomRenderers","taOptions","_taBlankTest","$parse","taDOM",function(t,i,r,u,f,e,a,v,y,p,w,b,k){return{require:"ngModel",link:function(e,d,g,nt){var ti,pt,rt,wt,it=void 0!==d.attr("contenteditable")&&d.attr("contenteditable"),ii=it||"textarea"===d[0].tagName.toLowerCase()||"input"===d[0].tagName.toLowerCase(),tt=!1,lt=!1,at=!1,ri=g.taUnsafeSanitizer||p.disableSanitizer,ei=/^(9|19|20|27|33|34|35|36|37|38|39|40|45|112|113|114|115|116|117|118|119|120|121|122|123|144|145)$/i,oi=/^(8|13|32|46|59|61|107|109|186|187|188|189|190|191|192|219|220|221|222)$/i,vt,bt,ot,st,kt,ui,yt,dt,gt,ni;void 0===g.taDefaultWrap&&(g.taDefaultWrap="p");""===g.taDefaultWrap?(rt="",wt=void 0===n.ie?"<div><br><\/div>":n.ie>=11?"<p><br><\/p>":n.ie<=8?"<P>&nbsp;<\/P>":"<p>&nbsp;<\/p>"):(rt=void 0===n.ie||n.ie>=11?"<"+g.taDefaultWrap+"><br><\/"+g.taDefaultWrap+">":n.ie<=8?"<"+g.taDefaultWrap.toUpperCase()+"><\/"+g.taDefaultWrap.toUpperCase()+">":"<"+g.taDefaultWrap+"><\/"+g.taDefaultWrap+">",wt=void 0===n.ie||n.ie>=11?"<"+g.taDefaultWrap+"><br><\/"+g.taDefaultWrap+">":n.ie<=8?"<"+g.taDefaultWrap.toUpperCase()+">&nbsp;<\/"+g.taDefaultWrap.toUpperCase()+">":"<"+g.taDefaultWrap+">&nbsp;<\/"+g.taDefaultWrap+">");vt=w(wt);bt=function(n){if(vt(n))return n;var t=angular.element("<div>"+n+"<\/div>");return 0===t.children().length&&(n="<"+g.taDefaultWrap+">"+n+"<\/"+g.taDefaultWrap+">"),n};g.taPaste&&(pt=b(g.taPaste));d.addClass("ta-bind");e["$undoManager"+(g.id||"")]=nt.$undoManager={_stack:[],_index:0,_max:1e3,push:function(n){return"undefined"==typeof n||null===n||"undefined"!=typeof this.current()&&null!==this.current()&&n===this.current()?n:(this._index<this._stack.length-1&&(this._stack=this._stack.slice(0,this._index+1)),this._stack.push(n),ot&&i.cancel(ot),this._stack.length>this._max&&this._stack.shift(),this._index=this._stack.length-1,n)},undo:function(){return this.setToIndex(this._index-1)},redo:function(){return this.setToIndex(this._index+1)},setToIndex:function(n){if(!(0>n)&&!(n>this._stack.length-1))return(this._index=n,this.current())},current:function(){return this._stack[this._index]}};var si=e["$undoTaBind"+(g.id||"")]=function(){if(!tt&&it){var n=nt.$undoManager.undo();"undefined"!=typeof n&&null!==n&&(et(n),ft(n,!1),a.setSelectionToElementEnd(d[0].childNodes.length?d[0].childNodes[d[0].childNodes.length-1]:d[0]))}},hi=e["$redoTaBind"+(g.id||"")]=function(){if(!tt&&it){var n=nt.$undoManager.redo();"undefined"!=typeof n&&null!==n&&(et(n),ft(n,!1),a.setSelectionToElementEnd(d[0].childNodes.length?d[0].childNodes[d[0].childNodes.length-1]:d[0]))}},ut=function(){if(it)return d[0].innerHTML;if(ii)return d.val();throw"textAngular Error: attempting to update non-editable taBind";},ft=function(n,t){at=!0;("undefined"==typeof t||null===t)&&(t=!0&&it);("undefined"==typeof n||null===n)&&(n=ut());vt(n)?(""!==nt.$viewValue&&nt.$setViewValue(""),t&&""!==nt.$undoManager.current()&&nt.$undoManager.push("")):(fi(),nt.$viewValue!==n&&(nt.$setViewValue(n),t&&nt.$undoManager.push(n)))};if(e["updateTaBind"+(g.id||"")]=function(){tt||ft()},ii)if(e.events={},it){if(st=!1,kt=function(n){var f,g,o,u,c,rt,tt,w,v,b,it;if(n&&n.trim().length){if(n.match(/class=["']*Mso(Normal|List)/i)){f=n.match(/<!--StartFragment-->([\s\S]*?)<!--EndFragment-->/i);f=f?f[1]:n;f=f.replace(/<o:p>[\s\S]*?<\/o:p>/gi,"").replace(/class=(["']|)MsoNormal(["']|)/gi,"");var y=angular.element("<div>"+f+"<\/div>"),h=angular.element("<div><\/div>"),r={element:null,lastIndent:[],lastLi:null,isUl:!1};for(r.lastIndent.peek=function(){var n=this.length;if(n>0)return this[n-1]},g=function(n){r.isUl=n;r.element=angular.element(n?"<ul>":"<ol>");r.lastIndent=[];r.lastIndent.peek=function(){var n=this.length;if(n>0)return this[n-1]};r.lastLevelMatch=null},o=0;o<=y[0].childNodes.length;o++)if(y[0].childNodes[o]&&"#text"!==y[0].childNodes[o].nodeName&&"p"===y[0].childNodes[o].tagName.toLowerCase())if(u=angular.element(y[0].childNodes[o]),c=(u.attr("class")||"").match(/MsoList(Bullet|Number|Paragraph)(CxSp(First|Middle|Last)|)/i),c){if(u[0].childNodes.length<2||u[0].childNodes[1].childNodes.length<1)continue;var p="bullet"===c[1].toLowerCase()||"number"!==c[1].toLowerCase()&&!(/^[^0-9a-z<]*[0-9a-z]+[^0-9a-z<>]</i.test(u[0].childNodes[1].innerHTML)||/^[^0-9a-z<]*[0-9a-z]+[^0-9a-z<>]</i.test(u[0].childNodes[1].childNodes[0].innerHTML)),ft=(u.attr("style")||"").match(/margin-left:([\-\.0-9]*)/i),s=parseFloat(ft?ft[1]:0),l=(u.attr("style")||"").match(/mso-list:l([0-9]+) level([0-9]+) lfo[0-9+]($|;)/i);if(l&&l[2]&&(s=parseInt(l[2])),(!l||r.lastLevelMatch&&l[1]===r.lastLevelMatch[1])&&c[3]&&"first"!==c[3].toLowerCase()&&null!==r.lastIndent.peek()&&(r.isUl===p||r.lastIndent.peek()!==s)){if(null!=r.lastIndent.peek()&&r.lastIndent.peek()<s)r.element=angular.element(p?"<ul>":"<ol>"),r.lastLi.append(r.element);else if(null!=r.lastIndent.peek()&&r.lastIndent.peek()>s){for(;null!=r.lastIndent.peek()&&r.lastIndent.peek()>s;)if("li"!==r.element.parent()[0].tagName.toLowerCase()){if(!/[uo]l/i.test(r.element.parent()[0].tagName.toLowerCase()))break;r.element=r.element.parent();r.lastIndent.pop()}else r.element=r.element.parent();r.isUl="ul"===r.element[0].tagName.toLowerCase();p!==r.isUl&&(g(p),h.append(r.element))}}else g(p),h.append(r.element);r.lastLevelMatch=l;s!==r.lastIndent.peek()&&r.lastIndent.push(s);r.lastLi=angular.element("<li>");r.element.append(r.lastLi);r.lastLi.html(u.html().replace(/<!(--|)\[if !supportLists\](--|)>[\s\S]*?<!(--|)\[endif\](--|)>/gi,""));u.remove()}else g(!1),h.append(u);rt=function(n){n=angular.element(n);for(var t=n[0].childNodes.length-1;t>=0;t--)n.after(n[0].childNodes[t]);n.remove()};angular.forEach(h.find("span"),function(n){n.removeAttribute("lang");n.attributes.length<=0&&rt(n)});angular.forEach(h.find("font"),rt);n=h.html()}else{if(n=n.replace(/<(|\/)meta[^>]*?>/gi,""),n.match(/<[^>]*?(ta-bind)[^>]*?>/)){if(n.match(/<[^>]*?(text-angular)[^>]*?>/)){for(tt=angular.element("<div>"+n+"<\/div>"),tt.find("textarea").remove(),w=k.getByAttribute(tt,"ta-bind"),v=0;v<w.length;v++){for(b=w[v][0].parentNode.parentNode,it=0;it<w[v][0].childNodes.length;it++)b.parentNode.insertBefore(w[v][0].childNodes[it],b);b.parentNode.removeChild(b)}n=tt.html().replace('<br class="Apple-interchange-newline">',"")}}else n.match(/^<span/)&&(n=n.replace(/<(|\/)span[^>]*?>/gi,""));n=n.replace(/<br class="Apple-interchange-newline"[^>]*?>/gi,"").replace(/<span class="Apple-converted-space">( |&nbsp;)<\/span>/gi,"&nbsp;")}n=t(n,"",ri);pt&&(n=pt(e,{$html:n})||n);a.insertHtml(n,d[0]);i(function(){nt.$setViewValue(ut());st=!1;d.removeClass("processing-paste")},0)}else st=!1,d.removeClass("processing-paste")},d.on("paste",e.events.paste=function(n,t){var h,f,o,s,c,e;if(t&&angular.extend(n,t),tt||st)return n.stopPropagation(),n.preventDefault(),!1;if(st=!0,d.addClass("processing-paste"),f=(n.originalEvent||n).clipboardData,f&&f.getData&&f.types.length>0){for(o="",s=0;s<f.types.length;s++)o+=" "+f.types[s];return/text\/html/i.test(o)?h=f.getData("text/html"):/text\/plain/i.test(o)&&(h=f.getData("text/plain")),kt(h),n.stopPropagation(),n.preventDefault(),!1}c=r.rangy.saveSelection();e=angular.element('<div class="ta-hidden-input" contenteditable="true"><\/div>');u.find("body").append(e);e[0].focus();i(function(){r.rangy.restoreSelection(c);kt(e[0].innerHTML);d[0].focus();e.remove()},0)}),d.on("cut",e.events.cut=function(n){tt?n.preventDefault():i(function(){nt.$setViewValue(ut())},0)}),d.on("keydown",e.events.keydown=function(n,t){var r,i,u,f;if(t&&angular.extend(n,t),!tt)if(!n.altKey&&n.metaKey||n.ctrlKey)90!==n.keyCode||n.shiftKey?(90===n.keyCode&&n.shiftKey||89===n.keyCode&&!n.shiftKey)&&(hi(),n.preventDefault()):(si(),n.preventDefault());else if(13===n.keyCode&&!n.shiftKey){if(i=a.getSelectionElement(),!i.tagName.match(s))return;u=angular.element(rt);/^<br(|\/)>$/i.test(i.innerHTML.trim())&&"blockquote"===i.parentNode.tagName.toLowerCase()&&!i.nextSibling?(r=angular.element(i),f=r.parent(),f.after(u),r.remove(),0===f.children().length&&f.remove(),a.setSelectionToElementStart(u[0]),n.preventDefault()):/^<[^>]+><br(|\/)><\/[^>]+>$/i.test(i.innerHTML.trim())&&"blockquote"===i.tagName.toLowerCase()&&(r=angular.element(i),r.after(u),r.remove(),a.setSelectionToElementStart(u[0]),n.preventDefault())}}),d.on("keyup",e.events.keyup=function(n,t){var h,u,e,f,c,o;if(t&&angular.extend(n,t),9===n.keyCode)return h=a.getSelection(),void(h.start.element===d[0]&&d.children().length&&a.setSelectionToElementStart(d.children()[0]));if(ot&&i.cancel(ot),!tt&&!ei.test(n.keyCode)){if(""!==rt&&13===n.keyCode&&!n.shiftKey){for(u=a.getSelectionElement();!u.tagName.match(s)&&u!==d[0];)u=u.parentNode;u.tagName.toLowerCase()!==g.taDefaultWrap&&"li"!==u.tagName.toLowerCase()&&(""===u.innerHTML.trim()||"<br>"===u.innerHTML.trim())&&(e=angular.element(rt),angular.element(u).replaceWith(e),a.setSelectionToElementStart(e[0]))}f=ut();""!==rt&&""===f.trim()?(et(rt),a.setSelectionToElementStart(d.children()[0])):"<"!==f.substring(0,1)&&""!==g.taDefaultWrap&&(c=r.rangy.saveSelection(),f=ut(),f="<"+g.taDefaultWrap+">"+f+"<\/"+g.taDefaultWrap+">",et(f),r.rangy.restoreSelection(c));o=ti!==n.keyCode&&oi.test(n.keyCode);ft(f,o);o||(ot=i(function(){nt.$undoManager.push(f)},250));ti=n.keyCode}}),d.on("blur",e.events.blur=function(){lt=!1;tt||ft();at=!0;nt.$render()}),g.placeholder&&(n.ie>8||void 0===n.ie)){if(!g.id)throw"textAngular Error: An unique ID is required for placeholders to work";ui=c("#"+g.id+".placeholder-text:before",'content: "'+g.placeholder+'"');e.$on("$destroy",function(){l(ui)})}d.on("focus",e.events.focus=function(){lt=!0;d.removeClass("placeholder-text")});d.on("mouseup",e.events.mouseup=function(){var n=a.getSelection();n.start.element===d[0]&&d.children().length&&a.setSelectionToElementStart(d.children()[0])});d.on("mousedown",e.events.mousedown=function(n,t){t&&angular.extend(n,t);n.stopPropagation()})}else d.on("change blur",e.events.change=e.events.blur=function(){tt||nt.$setViewValue(ut())}),d.on("keydown",e.events.keydown=function(n,t){var f,u;if(t&&angular.extend(n,t),9===n.keyCode){var r=this.selectionStart,e=this.selectionEnd,i=d.val();n.shiftKey?(f=i.lastIndexOf("\n",r),u=i.lastIndexOf("\t",r),-1!==u&&u>=f&&(d.val(i.substring(0,u)+i.substring(u+1)),this.selectionStart=this.selectionEnd=r-1)):(d.val(i.substring(0,r)+"\t"+i.substring(e)),this.selectionStart=this.selectionEnd=r+1);n.preventDefault()}}),yt=function(n,t){for(var i="",r=0;t>r;r++)i+=n;return i},dt=function(n,t){var u="",r=n.childNodes,i;for(t++,u+=yt("\t",t-1)+n.outerHTML.substring(0,n.outerHTML.indexOf("<li")),i=0;i<r.length;i++)r[i].outerHTML&&(u+="ul"===r[i].nodeName.toLowerCase()||"ol"===r[i].nodeName.toLowerCase()?"\n"+dt(r[i],t):"\n"+yt("\t",t)+r[i].outerHTML);return u+("\n"+yt("\t",t-1)+n.outerHTML.substring(n.outerHTML.lastIndexOf("<")))},nt.$formatters.unshift(bt),nt.$formatters.unshift(function(n){var i=angular.element("<div>"+n+"<\/div>")[0].childNodes,t;if(i.length>0)for(n="",t=0;t<i.length;t++)i[t].outerHTML&&(n.length>0&&(n+="\n"),n+="ul"===i[t].nodeName.toLowerCase()||"ol"===i[t].nodeName.toLowerCase()?""+dt(i[t],0):""+i[t].outerHTML);return n});gt=function(n){return nt.$oldViewValue=t(f(n),nt.$oldViewValue,ri)};ni=function(n){return g.required&&nt.$setValidity("required",!vt(n)),n};nt.$parsers.push(gt);nt.$parsers.unshift(ni);nt.$formatters.push(gt);nt.$formatters.unshift(bt);nt.$formatters.unshift(ni);nt.$formatters.unshift(function(n){return nt.$undoManager.push(n||"")});var ht=function(n){return e.$emit("ta-element-select",this),n.preventDefault(),!1},ct=function(n,t){if(t&&angular.extend(n,t),!h&&!tt){h=!0;var r;r=n.originalEvent?n.originalEvent.dataTransfer:n.dataTransfer;e.$emit("ta-drop-event",this,n,r);i(function(){h=!1;ft()},100)}},fi=e["reApplyOnSelectorHandlers"+(g.id||"")]=function(){tt||angular.forEach(v,function(n){d.find(n).off("click",ht).on("click",ht)})},et=function(n){d[0].innerHTML=n};nt.$render=function(){var n=nt.$viewValue||"";at||(it&&lt&&(d.removeClass("placeholder-text"),d[0].blur(),i(function(){d[0].focus();a.setSelectionToElementEnd(d.children()[d.children().length-1])},1)),it?(et(g.placeholder?""===n?rt:n:""===n?rt:n),tt?d.off("drop",ct):(fi(),d.on("drop",ct))):"textarea"!==d[0].tagName.toLowerCase()&&"input"!==d[0].tagName.toLowerCase()?et(y(n)):d.val(n));it&&g.placeholder&&(""===n?lt?d.removeClass("placeholder-text"):d.addClass("placeholder-text"):d.removeClass("placeholder-text"));at=!1};g.taReadonly&&(tt=e.$eval(g.taReadonly),tt?(d.addClass("ta-readonly"),("textarea"===d[0].tagName.toLowerCase()||"input"===d[0].tagName.toLowerCase())&&d.attr("disabled","disabled"),void 0!==d.attr("contenteditable")&&d.attr("contenteditable")&&d.removeAttr("contenteditable")):(d.removeClass("ta-readonly"),"textarea"===d[0].tagName.toLowerCase()||"input"===d[0].tagName.toLowerCase()?d.removeAttr("disabled"):it&&d.attr("contenteditable","true")),e.$watch(g.taReadonly,function(n,t){t!==n&&(n?(d.addClass("ta-readonly"),("textarea"===d[0].tagName.toLowerCase()||"input"===d[0].tagName.toLowerCase())&&d.attr("disabled","disabled"),void 0!==d.attr("contenteditable")&&d.attr("contenteditable")&&d.removeAttr("contenteditable"),angular.forEach(v,function(n){d.find(n).on("click",ht)}),d.off("drop",ct)):(d.removeClass("ta-readonly"),"textarea"===d[0].tagName.toLowerCase()||"input"===d[0].tagName.toLowerCase()?d.removeAttr("disabled"):it&&d.attr("contenteditable","true"),angular.forEach(v,function(n){d.find(n).off("click",ht)}),d.on("drop",ct)),tt=n)}));it&&!tt&&(angular.forEach(v,function(n){d.find(n).on("click",ht)}),d.on("drop",ct),d.on("blur",function(){n.webkit&&(o=!0)}))}}}]);var h=!1,f=angular.module("textAngular",["ngSanitize","textAngularSetup","textAngular.factories","textAngular.DOM","textAngular.validators","textAngular.taBind"]),e={};f.constant("taRegisterTool",w);f.value("taTools",e);f.config([function(){angular.forEach(e,function(n,t){delete e[t]})}]);f.run([function(){if(!window.rangy)throw"rangy-core.js and rangy-selectionsaverestore.js are required for textAngular to work correctly, rangy-core is not yet loaded.";if(window.rangy.init(),!window.rangy.saveSelection)throw"rangy-selectionsaverestore.js is required for textAngular to work correctly.";}]);f.directive("textAngular",["$compile","$timeout","taOptions","taSelection","taExecCommand","textAngularManager","$window","$document","$animate","$log","$q","$parse",function(n,t,i,r,u,f,e,o,s,h,c,l){return{require:"?ngModel",scope:{},restrict:"EA",link:function(a,v,y,p){var tt,it,rt,ut,ft,et,g,k,lt,ot,st,w=y.serial?y.serial:Math.floor(1e16*Math.random()),nt,d,ht,ct,b;a._name=y.name?y.name:"textAngularEditor"+w;nt=function(n,i,r){t(function(){var t=function(){n.off(i,t);r.apply(this,arguments)};n.on(i,t)},100)};lt=u(y.taDefaultWrap);angular.extend(a,angular.copy(i),{wrapSelection:function(n,t,i){"undo"===n.toLowerCase()?a["$undoTaBindtaTextElement"+w]():"redo"===n.toLowerCase()?a["$redoTaBindtaTextElement"+w]():(lt(n,!1,t),i&&a["reApplyOnSelectorHandlerstaTextElement"+w](),a.displayElements.text[0].focus())},showHtml:a.$eval(y.taShowHtml)||!1});y.taFocussedClass&&(a.classes.focussed=y.taFocussedClass);y.taTextEditorClass&&(a.classes.textEditor=y.taTextEditorClass);y.taHtmlEditorClass&&(a.classes.htmlEditor=y.taHtmlEditorClass);y.taTextEditorSetup&&(a.setup.textEditorSetup=a.$parent.$eval(y.taTextEditorSetup));y.taHtmlEditorSetup&&(a.setup.htmlEditorSetup=a.$parent.$eval(y.taHtmlEditorSetup));a.fileDropHandler=y.taFileDrop?a.$parent.$eval(y.taFileDrop):a.defaultFileDropHandler;g=v[0].innerHTML;v[0].innerHTML="";a.displayElements={forminput:angular.element("<input type='hidden' tabindex='-1' style='display: none;'>"),html:angular.element("<textarea><\/textarea>"),text:angular.element("<div><\/div>"),scrollWindow:angular.element("<div class='ta-scroll-window'><\/div>"),popover:angular.element('<div class="popover fade bottom" style="max-width: none; width: 305px;"><\/div>'),popoverArrow:angular.element('<div class="arrow"><\/div>'),popoverContainer:angular.element('<div class="popover-content"><\/div>'),resize:{overlay:angular.element('<div class="ta-resizer-handle-overlay"><\/div>'),background:angular.element('<div class="ta-resizer-handle-background"><\/div>'),anchors:[angular.element('<div class="ta-resizer-handle-corner ta-resizer-handle-corner-tl"><\/div>'),angular.element('<div class="ta-resizer-handle-corner ta-resizer-handle-corner-tr"><\/div>'),angular.element('<div class="ta-resizer-handle-corner ta-resizer-handle-corner-bl"><\/div>'),angular.element('<div class="ta-resizer-handle-corner ta-resizer-handle-corner-br"><\/div>')],info:angular.element('<div class="ta-resizer-handle-info"><\/div>')}};a.displayElements.popover.append(a.displayElements.popoverArrow);a.displayElements.popover.append(a.displayElements.popoverContainer);a.displayElements.scrollWindow.append(a.displayElements.popover);a.displayElements.popover.on("mousedown",function(n,t){return t&&angular.extend(n,t),n.preventDefault(),!1});a.showPopover=function(n){a.displayElements.popover.css("display","block");a.reflowPopover(n);s.addClass(a.displayElements.popover,"in");nt(o.find("body"),"click keyup",function(){a.hidePopover()})};a.reflowPopover=function(n){a.displayElements.text[0].offsetHeight-51>n[0].offsetTop?(a.displayElements.popover.css("top",n[0].offsetTop+n[0].offsetHeight+a.displayElements.scrollWindow[0].scrollTop+"px"),a.displayElements.popover.removeClass("top").addClass("bottom")):(a.displayElements.popover.css("top",n[0].offsetTop-54+a.displayElements.scrollWindow[0].scrollTop+"px"),a.displayElements.popover.removeClass("bottom").addClass("top"));var i=a.displayElements.text[0].offsetWidth-a.displayElements.popover[0].offsetWidth,t=n[0].offsetLeft+n[0].offsetWidth/2-a.displayElements.popover[0].offsetWidth/2;a.displayElements.popover.css("left",Math.max(0,Math.min(i,t))+"px");a.displayElements.popoverArrow.css("margin-left",Math.min(t,Math.max(0,t-i))-11+"px")};a.hidePopover=function(){var n=function(){a.displayElements.popover.css("display","");a.displayElements.popoverContainer.attr("style","");a.displayElements.popoverContainer.attr("class","popover-content")};c.when(s.removeClass(a.displayElements.popover,"in",n)).then(n)};a.displayElements.resize.overlay.append(a.displayElements.resize.background);angular.forEach(a.displayElements.resize.anchors,function(n){a.displayElements.resize.overlay.append(n)});a.displayElements.resize.overlay.append(a.displayElements.resize.info);a.displayElements.scrollWindow.append(a.displayElements.resize.overlay);a.reflowResizeOverlay=function(n){n=angular.element(n)[0];a.displayElements.resize.overlay.css({display:"block",left:n.offsetLeft-5+"px",top:n.offsetTop-5+"px",width:n.offsetWidth+10+"px",height:n.offsetHeight+10+"px"});a.displayElements.resize.info.text(n.offsetWidth+" x "+n.offsetHeight)};a.showResizeOverlay=function(n){var t=o.find("body");ot=function(i){var r={width:parseInt(n.attr("width")),height:parseInt(n.attr("height")),x:i.clientX,y:i.clientY},u,f;(void 0===r.width||isNaN(r.width))&&(r.width=n[0].offsetWidth);(void 0===r.height||isNaN(r.height))&&(r.height=n[0].offsetHeight);a.hidePopover();u=r.height/r.width;f=function(t){var i={x:Math.max(0,r.width+(t.clientX-r.x)),y:Math.max(0,r.height+(t.clientY-r.y))},f;t.shiftKey&&(f=i.y/i.x,i.x=u>f?i.x:i.y/u,i.y=u>f?i.x*u:i.y);el=angular.element(n);el.attr("height",Math.max(0,i.y));el.attr("width",Math.max(0,i.x));a.reflowResizeOverlay(n)};t.on("mousemove",f);nt(t,"mouseup",function(i){i.preventDefault();i.stopPropagation();t.off("mousemove",f);a.showPopover(n)});i.stopPropagation();i.preventDefault()};a.displayElements.resize.anchors[3].on("mousedown",ot);a.reflowResizeOverlay(n);nt(t,"click",function(){a.hideResizeOverlay()})};a.hideResizeOverlay=function(){a.displayElements.resize.anchors[3].off("mousedown",ot);a.displayElements.resize.overlay.css("display","")};a.setup.htmlEditorSetup(a.displayElements.html);a.setup.textEditorSetup(a.displayElements.text);a.displayElements.html.attr({id:"taHtmlElement"+w,"ng-show":"showHtml","ta-bind":"ta-bind","ng-model":"html"});a.displayElements.text.attr({id:"taTextElement"+w,contentEditable:"true","ta-bind":"ta-bind","ng-model":"html"});a.displayElements.scrollWindow.attr({"ng-hide":"showHtml"});y.taDefaultWrap&&a.displayElements.text.attr("ta-default-wrap",y.taDefaultWrap);y.taUnsafeSanitizer&&(a.displayElements.text.attr("ta-unsafe-sanitizer",y.taUnsafeSanitizer),a.displayElements.html.attr("ta-unsafe-sanitizer",y.taUnsafeSanitizer));a.displayElements.scrollWindow.append(a.displayElements.text);v.append(a.displayElements.scrollWindow);v.append(a.displayElements.html);a.displayElements.forminput.attr("name",a._name);v.append(a.displayElements.forminput);y.tabindex&&(v.removeAttr("tabindex"),a.displayElements.text.attr("tabindex",y.tabindex),a.displayElements.html.attr("tabindex",y.tabindex));y.placeholder&&(a.displayElements.text.attr("placeholder",y.placeholder),a.displayElements.html.attr("placeholder",y.placeholder));y.taDisabled&&(a.displayElements.text.attr("ta-readonly","disabled"),a.displayElements.html.attr("ta-readonly","disabled"),a.disabled=a.$parent.$eval(y.taDisabled),a.$parent.$watch(y.taDisabled,function(n){a.disabled=n;a.disabled?v.addClass(a.classes.disabled):v.removeClass(a.classes.disabled)}));y.taPaste&&(a._pasteHandler=function(n){return l(y.taPaste)(a.$parent,{$html:n})},a.displayElements.text.attr("ta-paste","_pasteHandler($html)"));n(a.displayElements.scrollWindow)(a);n(a.displayElements.html)(a);a.updateTaBindtaTextElement=a["updateTaBindtaTextElement"+w];a.updateTaBindtaHtmlElement=a["updateTaBindtaHtmlElement"+w];v.addClass("ta-root");a.displayElements.scrollWindow.addClass("ta-text ta-editor "+a.classes.textEditor);a.displayElements.html.addClass("ta-html ta-editor "+a.classes.htmlEditor);a._actionRunning=!1;d=!1;(a.startAction=function(){return a._actionRunning=!0,d=e.rangy.saveSelection(),function(){d&&e.rangy.restoreSelection(d)}},a.endAction=function(){a._actionRunning=!1;d&&e.rangy.removeMarkers(d);d=!1;a.updateSelectedStyles();a.showHtml||a["updateTaBindtaTextElement"+w]()},ft=function(){a.focussed=!0;v.addClass(a.classes.focussed);k.focus();v.triggerHandler("focus")},a.displayElements.html.on("focus",ft),a.displayElements.text.on("focus",ft),et=function(n){return a._actionRunning||o[0].activeElement===a.displayElements.html[0]||o[0].activeElement===a.displayElements.text[0]||(v.removeClass(a.classes.focussed),k.unfocus(),t(function(){a._bUpdateSelectedStyles=!1;v.triggerHandler("blur");a.focussed=!1},0)),n.preventDefault(),!1},a.displayElements.html.on("blur",et),a.displayElements.text.on("blur",et),a.displayElements.text.on("paste",function(n){v.triggerHandler("paste",n)}),a.queryFormatBlockState=function(n){return!a.showHtml&&n.toLowerCase()===o[0].queryCommandValue("formatBlock").toLowerCase()},a.queryCommandState=function(n){return a.showHtml?"":o[0].queryCommandState(n)},a.switchView=function(){a.showHtml=!a.showHtml;s.enabled(!1,a.displayElements.html);s.enabled(!1,a.displayElements.text);a.showHtml?t(function(){return s.enabled(!0,a.displayElements.html),s.enabled(!0,a.displayElements.text),a.displayElements.html[0].focus()},100):t(function(){return s.enabled(!0,a.displayElements.html),s.enabled(!0,a.displayElements.text),a.displayElements.text[0].focus()},100)},y.ngModel)?(ht=!0,p.$render=function(){if(ht){ht=!1;var n=a.$parent.$eval(y.ngModel);(void 0===n||null===n)&&g&&""!==g&&p.$setViewValue(g)}a.displayElements.forminput.val(p.$viewValue);a._elementSelectTriggered||(a.html=p.$viewValue||"")},ct=function(n){return y.required&&p.$setValidity("required",!(!n||""===n.trim())),n},p.$parsers.push(ct),p.$formatters.push(ct)):(a.displayElements.forminput.val(g),a.html=g);(a.$watch("html",function(n,t){n!==t&&(y.ngModel&&p.$viewValue!==n&&p.$setViewValue(n),a.displayElements.forminput.val(n))}),y.taTargetToolbars)?k=f.registerEditor(a._name,a,y.taTargetToolbars.split(",")):(b=angular.element('<div text-angular-toolbar name="textAngularToolbar'+w+'">'),y.taToolbar&&b.attr("ta-toolbar",y.taToolbar),y.taToolbarClass&&b.attr("ta-toolbar-class",y.taToolbarClass),y.taToolbarGroupClass&&b.attr("ta-toolbar-group-class",y.taToolbarGroupClass),y.taToolbarButtonClass&&b.attr("ta-toolbar-button-class",y.taToolbarButtonClass),y.taToolbarActiveButtonClass&&b.attr("ta-toolbar-active-button-class",y.taToolbarActiveButtonClass),y.taFocussedClass&&b.attr("ta-focussed-class",y.taFocussedClass),v.prepend(b),n(b)(a.$parent),k=f.registerEditor(a._name,a,["textAngularToolbar"+w]));a.$on("$destroy",function(){f.unregisterEditor(a._name)});a.$on("ta-element-select",function(n,t){k.triggerElementSelect(n,t)&&a["reApplyOnSelectorHandlerstaTextElement"+w]()});a.$on("ta-drop-event",function(n,i,r,u){a.displayElements.text[0].focus();u&&u.files&&u.files.length>0?(angular.forEach(u.files,function(n){try{c.when(a.fileDropHandler(n,a.wrapSelection)||a.fileDropHandler!==a.defaultFileDropHandler&&c.when(a.defaultFileDropHandler(n,a.wrapSelection))).then(function(){a["updateTaBindtaTextElement"+w]()})}catch(t){h.error(t)}}),r.preventDefault(),r.stopPropagation()):t(function(){a["updateTaBindtaTextElement"+w]()},0)});a._bUpdateSelectedStyles=!1;angular.element(window).on("blur",function(){a._bUpdateSelectedStyles=!1;a.focussed=!1});a.updateSelectedStyles=function(){var n;st&&t.cancel(st);void 0!==(n=r.getSelectionElement())&&n.parentNode!==a.displayElements.text[0]?k.updateSelectedStyles(angular.element(n)):k.updateSelectedStyles();a._bUpdateSelectedStyles&&(st=t(a.updateSelectedStyles,200))};tt=function(){return a.focussed?void(a._bUpdateSelectedStyles||(a._bUpdateSelectedStyles=!0,a.$apply(function(){a.updateSelectedStyles()}))):void(a._bUpdateSelectedStyles=!1)};a.displayElements.html.on("keydown",tt);a.displayElements.text.on("keydown",tt);it=function(){a._bUpdateSelectedStyles=!1};a.displayElements.html.on("keyup",it);a.displayElements.text.on("keyup",it);rt=function(n,t){t&&angular.extend(n,t);a.$apply(function(){if(k.sendKeyCommand(n))return(a._bUpdateSelectedStyles||a.updateSelectedStyles(),n.preventDefault(),!1)})};a.displayElements.html.on("keypress",rt);a.displayElements.text.on("keypress",rt);ut=function(){a._bUpdateSelectedStyles=!1;a.$apply(function(){a.updateSelectedStyles()})};a.displayElements.html.on("mouseup",ut);a.displayElements.text.on("mouseup",ut)}}}]);f.service("textAngularManager",["taToolExecuteAction","taTools","taRegisterTool",function(n,t,i){var r={},u={};return{registerEditor:function(i,f,e){if(!i||""===i)throw"textAngular Error: An editor requires a name";if(!f)throw"textAngular Error: An editor requires a scope";if(u[i])throw'textAngular Error: An Editor with name "'+i+'" already exists';var o=[];return angular.forEach(e,function(n){r[n]&&o.push(r[n])}),u[i]={scope:f,toolbars:e,_registerToolbar:function(n){this.toolbars.indexOf(n.name)>=0&&o.push(n)},editorFunctions:{disable:function(){angular.forEach(o,function(n){n.disabled=!0})},enable:function(){angular.forEach(o,function(n){n.disabled=!1})},focus:function(){angular.forEach(o,function(n){n._parent=f;n.disabled=!1;n.focussed=!0;f.focussed=!0})},unfocus:function(){angular.forEach(o,function(n){n.disabled=!0;n.focussed=!1});f.focussed=!1},updateSelectedStyles:function(n){angular.forEach(o,function(t){angular.forEach(t.tools,function(i){i.activeState&&(t._parent=f,i.active=i.activeState(n))})})},sendKeyCommand:function(i){var r=!1;return(i.ctrlKey||i.metaKey)&&angular.forEach(t,function(t,u){if(t.commandKeyCode&&t.commandKeyCode===i.which)for(var e=0;e<o.length;e++)if(void 0!==o[e].tools[u]){n.call(o[e].tools[u],f);r=!0;break}}),r},triggerElementSelect:function(n,i){var h=function(n,t){for(var i=!0,r=0;r<t.length;r++)i=i&&n.attr(t[r]);return i},r=[],c={},l=!1,e,u;if(i=angular.element(i),e=!1,angular.forEach(t,function(n,t){n.onElementSelect&&n.onElementSelect.element&&n.onElementSelect.element.toLowerCase()===i[0].tagName.toLowerCase()&&(!n.onElementSelect.filter||n.onElementSelect.filter(i))&&(e=e||angular.isArray(n.onElementSelect.onlyWithAttrs)&&h(i,n.onElementSelect.onlyWithAttrs),(!n.onElementSelect.onlyWithAttrs||h(i,n.onElementSelect.onlyWithAttrs))&&(c[t]=n))}),e?(angular.forEach(c,function(n,t){n.onElementSelect.onlyWithAttrs&&h(i,n.onElementSelect.onlyWithAttrs)&&r.push({name:t,tool:n})}),r.sort(function(n,t){return t.tool.onElementSelect.onlyWithAttrs.length-n.tool.onElementSelect.onlyWithAttrs.length})):angular.forEach(c,function(n,t){r.push({name:t,tool:n})}),r.length>0)for(u=0;u<r.length;u++){for(var v=r[u].tool,a=r[u].name,s=0;s<o.length;s++)if(void 0!==o[s].tools[a]){v.onElementSelect.action.call(o[s].tools[a],n,i,f);l=!0;break}if(l)break}return l}}},u[i].editorFunctions},retrieveEditor:function(n){return u[n]},unregisterEditor:function(n){delete u[n]},registerToolbar:function(n){if(!n)throw"textAngular Error: A toolbar requires a scope";if(!n.name||""===n.name)throw"textAngular Error: A toolbar requires a name";if(r[n.name])throw'textAngular Error: A toolbar with name "'+n.name+'" already exists';r[n.name]=n;angular.forEach(u,function(t){t._registerToolbar(n)})},retrieveToolbar:function(n){return r[n]},retrieveToolbarsViaEditor:function(n){var t=[],i=this;return angular.forEach(this.retrieveEditor(n).toolbars,function(n){t.push(i.retrieveToolbar(n))}),t},unregisterToolbar:function(n){delete r[n]},updateToolsDisplay:function(n){var t=this;angular.forEach(n,function(n,i){t.updateToolDisplay(i,n)})},resetToolsDisplay:function(){var n=this;angular.forEach(t,function(t,i){n.resetToolDisplay(i)})},updateToolDisplay:function(n,t){var i=this;angular.forEach(r,function(r,u){i.updateToolbarToolDisplay(u,n,t)})},resetToolDisplay:function(n){var t=this;angular.forEach(r,function(i,r){t.resetToolbarToolDisplay(r,n)})},updateToolbarToolDisplay:function(n,t,i){if(!r[n])throw'textAngular Error: No Toolbar with name "'+n+'" exists';r[n].updateToolDisplay(t,i)},resetToolbarToolDisplay:function(n,i){if(!r[n])throw'textAngular Error: No Toolbar with name "'+n+'" exists';r[n].updateToolDisplay(i,t[i],!0)},removeTool:function(n){delete t[n];angular.forEach(r,function(t){var r,i,u;for(delete t.tools[n],r=0;r<t.toolbar.length;r++){for(u=0;u<t.toolbar[r].length;u++){if(t.toolbar[r][u]===n){i={group:r,index:u};break}if(void 0!==i)break}void 0!==i&&(t.toolbar[i.group].slice(i.index,1),t._$element.children().eq(i.group).children().eq(i.index).remove())}})},addTool:function(n,t,u,f){i(n,t);angular.forEach(r,function(i){i.addTool(n,t,u,f)})},addToolToToolbar:function(n,t,u,f,e){i(n,t);r[u].addTool(n,t,f,e)},refreshEditor:function(n){if(!u[n])throw'textAngular Error: No Editor with name "'+n+'" exists';u[n].scope.updateTaBindtaTextElement();u[n].scope.$$phase||u[n].scope.$digest()}}}]);f.directive("textAngularToolbar",["$compile","textAngularManager","taOptions","taTools","taToolExecuteAction","$window",function(n,t,i,r,u,f){return{scope:{name:"@"},restrict:"EA",link:function(e,o,s){var h,c;if(!e.name||""===e.name)throw"textAngular Error: A toolbar requires a name";angular.extend(e,angular.copy(i));s.taToolbar&&(e.toolbar=e.$parent.$eval(s.taToolbar));s.taToolbarClass&&(e.classes.toolbar=s.taToolbarClass);s.taToolbarGroupClass&&(e.classes.toolbarGroup=s.taToolbarGroupClass);s.taToolbarButtonClass&&(e.classes.toolbarButton=s.taToolbarButtonClass);s.taToolbarActiveButtonClass&&(e.classes.toolbarButtonActive=s.taToolbarActiveButtonClass);s.taFocussedClass&&(e.classes.focussed=s.taFocussedClass);e.disabled=!0;e.focussed=!1;e._$element=o;o[0].innerHTML="";o.addClass("ta-toolbar "+e.classes.toolbar);e.$watch("focussed",function(){e.focussed?o.addClass(e.classes.focussed):o.removeClass(e.classes.focussed)});h=function(t,i){var r,f,u;return(r=angular.element(t&&t.display?t.display:"<button type='button'>"),r.addClass(t&&t["class"]?t["class"]:e.classes.toolbarButton),r.attr("name",i.name),r.attr("unselectable","on"),r.attr("ng-disabled","isDisabled()"),r.attr("tabindex","-1"),r.attr("ng-click","executeAction()"),r.attr("ng-class","displayActiveToolClass(active)"),t&&t.tooltiptext&&r.attr("title",t.tooltiptext),r.on("mousedown",function(n,t){return t&&angular.extend(n,t),n.preventDefault(),!1}),t&&!t.display&&!i._display&&(r[0].innerHTML="",t.buttontext&&(r[0].innerHTML=t.buttontext),t.iconclass))&&(f=angular.element("<i>"),u=r[0].innerHTML,f.addClass(t.iconclass),r[0].innerHTML="",r.append(f),u&&""!==u&&r.append("&nbsp;"+u)),i._lastToolDefinition=angular.copy(t),n(r)(i)};e.tools={};e._parent={disabled:!0,showHtml:!1,queryFormatBlockState:function(){return!1},queryCommandState:function(){return!1}};c={$window:f,$editor:function(){return e._parent},isDisabled:function(){return"function"!=typeof this.$eval("disabled")&&this.$eval("disabled")||this.$eval("disabled()")||"html"!==this.name&&this.$editor().showHtml||this.$parent.disabled||this.$editor().disabled},displayActiveToolClass:function(n){return n?e.classes.toolbarButtonActive:""},executeAction:u};angular.forEach(e.toolbar,function(n){var t=angular.element("<div>");t.addClass(e.classes.toolbarGroup);angular.forEach(n,function(n){e.tools[n]=angular.extend(e.$new(!0),r[n],c,{name:n});e.tools[n].$element=h(r[n],e.tools[n]);t.append(e.tools[n].$element)});o.append(t)});e.updateToolDisplay=function(n,t,i){var r=e.tools[n],u;if(r){if(r._lastToolDefinition&&!i&&(t=angular.extend({},r._lastToolDefinition,t)),null===t.buttontext&&null===t.iconclass&&null===t.display)throw'textAngular Error: Tool Definition for updating "'+n+'" does not have a valid display/iconclass/buttontext value';null===t.buttontext&&delete t.buttontext;null===t.iconclass&&delete t.iconclass;null===t.display&&delete t.display;u=h(t,r);r.$element.replaceWith(u);r.$element=u}};e.addTool=function(n,t,i,u){e.tools[n]=angular.extend(e.$new(!0),r[n],c,{name:n});e.tools[n].$element=h(r[n],e.tools[n]);var f;void 0===i&&(i=e.toolbar.length-1);f=angular.element(o.children()[i]);void 0===u?(f.append(e.tools[n].$element),e.toolbar[i][e.toolbar[i].length-1]=n):(f.children().eq(u).after(e.tools[n].$element),e.toolbar[i][u]=n)};t.registerToolbar(e);e.$on("$destroy",function(){t.unregisterToolbar(e.name)})}}}])}()}({},function(){return this}()),function(n){function t(r){if(i[r])return i[r].exports;var u=i[r]={exports:{},id:r,loaded:!1};return n[r].call(u.exports,u,u.exports,t),u.loaded=!0,u.exports}var i={};return t.m=n,t.c=i,t.p="",t(0)}([function(n,t,i){i(1);n.exports=i(2)},function(){var n=angular.module("slideMenu",[]);n.factory("asmService",["$rootScope",function(n){return{asmStates:{slideLeft:{active:!1,exclusive:!1},slideRight:{active:!1,exclusive:!1},slideTop:{active:!1,exclusive:!1},slideBottom:{active:!1,exclusive:!1},pushLeft:{active:!1,exclusive:!1},pushRight:{active:!1,exclusive:!0},pushTop:{active:!1,exclusive:!0},pushBottom:{active:!1,exclusive:!0}},asmPush:null,toggle:function(t){var i;if(this.asmStates.hasOwnProperty(t)){var f=this.asmStates[t],r=!0;for(var u in this.asmStates)if(i=this.asmStates[u],u!==t&&i.active&&(i.exclusive||f.exclusive)){r=!1;break}r?(this.asmStates[t].active=!this.asmStates[t].active,console.log(t.substring(4).toLowerCase()),this.asmPush=t.substring(0,4)==="push"&&this.asmStates[t].active?t.substring(4).toLowerCase():null,console.log(this.asmPush),console.log(t+" active: "+this.asmStates[t].active),n.$emit("asmEvent",null)):console.log("Cannot toggle!")}else console.log("Unknown menu!")}}}]);n.directive("asmSlideLeft",["$rootScope","asmService",function(n,t){return{restrict:"AEC",link:function(i,r){r.addClass("asm asm-horizontal asm-left");n.$on("asmEvent",function(){t.asmStates.slideLeft.active?r.addClass("asm-left-open"):r.removeClass("asm-left-open")})}}}]);n.directive("asmPushLeft",["$rootScope","asmService",function(n,t){return{restrict:"AEC",link:function(i,r){r.addClass("asm asm-horizontal asm-left");n.$on("asmEvent",function(){t.asmStates.pushLeft.active?r.addClass("asm-left-open"):r.removeClass("asm-left-open")})}}}]);n.directive("asmSlideRight",["$rootScope","asmService",function(n,t){return{restrict:"AEC",link:function(i,r){r.addClass("asm asm-horizontal asm-right");n.$on("asmEvent",function(){t.asmStates.slideRight.active?r.addClass("asm-right-open"):r.removeClass("asm-right-open")})}}}]);n.directive("asmPushRight",["$rootScope","asmService",function(n,t){return{restrict:"AEC",link:function(i,r){r.addClass("asm asm-horizontal asm-right");n.$on("asmEvent",function(){t.asmStates.pushRight.active?r.addClass("asm-right-open"):r.removeClass("asm-right-open")})}}}]);n.directive("asmSlideTop",["$rootScope","asmService",function(n,t){return{restrict:"AEC",link:function(i,r){r.addClass("asm asm-vertical asm-top");n.$on("asmEvent",function(){t.asmStates.slideTop.active?r.addClass("asm-top-open"):r.removeClass("asm-top-open")})}}}]);n.directive("asmPushTop",["$rootScope","asmService",function(n,t){return{restrict:"AEC",link:function(i,r){r.addClass("asm asm-vertical asm-top");n.$on("asmEvent",function(){t.asmStates.pushTop.active?r.addClass("asm-top-open"):r.removeClass("asm-top-open")})}}}]);n.directive("asmSlideBottom",["$rootScope","asmService",function(n,t){return{restrict:"AEC",link:function(i,r){r.addClass("asm asm-vertical asm-bottom");n.$on("asmEvent",function(){t.asmStates.slideBottom.active?r.addClass("asm-bottom-open"):r.removeClass("asm-bottom-open")})}}}]);n.directive("asmPushBottom",["$rootScope","asmService",function(n,t){return{restrict:"AEC",link:function(i,r){r.addClass("asm asm-vertical asm-bottom");n.$on("asmEvent",function(){t.asmStates.pushBottom.active?r.addClass("asm-bottom-open"):r.removeClass("asm-bottom-open")})}}}]);n.directive("asmWrapper",["$rootScope","asmService",function(n,t){return{restrict:"AEC",link:function(i,r){r.addClass("asm-wrapper asm-body-closed");n.$on("asmEvent",function(){console.log("Body Caught Event: "+t.asmPush);switch(t.asmPush){case"left":r.removeClass("asm-body-closed");r.addClass("asm-body-push-left");break;case"right":r.removeClass("asm-body-closed");r.addClass("asm-body-push-right");break;case"top":r.removeClass("asm-body-closed");r.addClass("asm-body-push-top");break;case"bottom":r.removeClass("asm-body-closed");r.addClass("asm-body-push-bottom");break;default:r.removeClass("asm-body-push-left asm-body-push-right asm-body-push-top asm-body-push-bottom");r.addClass("asm-body-closed")}})}}}]);n.directive("asmControl",["asmService",function(n){return{restrict:"AEC",compile:function(t){return t[0].innerHTML='<a href="#">'+t[0].innerHTML+"<\/a>",{pre:function(){},post:function(t,i,r){i.find("a").on("click",function(t){console.log(r);t.preventDefault();n.toggle(r.asmControl)})}}}}}])},function(n,t,i){var r=i(4)(i(3));!1&&(n.hot.accept(),n.hot.dispose(r))},function(n){n.exports=".asm-wrapper {\n  position: relative;\n  top: 0;\n  left: 0;\n  z-index: 10;\n}\n#asm-mask {\n  position: fixed;\n  top: 0;\n  left: 0;\n  z-index: 9998;\n  width: 100%;\n  height: 100%;\n  background: rgba(0,0,0,0.8);\n}\n.asm {\n  position: fixed;\n  z-index: 9999;\n  overflow: hidden;\n  -webkit-transition: all 0.3s ease-in-out;\n  -moz-transition: all 0.3s ease-in-out;\n  -ms-transition: all 0.3s ease-in-out;\n  -o-transition: all 0.3s ease-in-out;\n  transition: all 0.3s ease-in-out;\n}\n.asm-horizontal {\n  top: 0;\n  width: 300px;\n  height: 100%;\n}\n.asm-vertical {\n  left: 0;\n  width: 100%;\n  height: 100px;\n}\n.asm-body-closed {\n  left: 0;\n  top: 0;\n  -webkit-transition: all 0.3s ease-in-out;\n  -moz-transition: all 0.3s ease-in-out;\n  -ms-transition: all 0.3s ease-in-out;\n  -o-transition: all 0.3s ease-in-out;\n  transition: all 0.3s ease-in-out;\n}\n.asm-left {\n  left: -300px;\n}\n.asm-left-open {\n  left: 0;\n}\n.asm-body-push-left {\n  left: 300px;\n  -webkit-transition: all 0.3s ease-in-out;\n  -moz-transition: all 0.3s ease-in-out;\n  -ms-transition: all 0.3s ease-in-out;\n  -o-transition: all 0.3s ease-in-out;\n  transition: all 0.3s ease-in-out;\n}\n.asm-right {\n  right: -300px;\n}\n.asm-right-open {\n  right: 0;\n}\n.asm-body-push-right {\n  left: -300px;\n  -webkit-transition: all 0.3s ease-in-out;\n  -moz-transition: all 0.3s ease-in-out;\n  -ms-transition: all 0.3s ease-in-out;\n  -o-transition: all 0.3s ease-in-out;\n  transition: all 0.3s ease-in-out;\n}\n.asm-top {\n  top: -100px;\n}\n.asm-top-open {\n  top: 0;\n}\n.asm-body-push-top {\n  top: 100px;\n  -webkit-transition: all 0.3s ease-in-out;\n  -moz-transition: all 0.3s ease-in-out;\n  -ms-transition: all 0.3s ease-in-out;\n  -o-transition: all 0.3s ease-in-out;\n  transition: all 0.3s ease-in-out;\n}\n.asm-bottom {\n  bottom: -100px;\n}\n.asm-bottom-open {\n  bottom: 0;\n}\n.asm-body-push-bottom {\n  top: -100px;\n  -webkit-transition: all 0.3s ease-in-out;\n  -moz-transition: all 0.3s ease-in-out;\n  -ms-transition: all 0.3s ease-in-out;\n  -o-transition: all 0.3s ease-in-out;\n  transition: all 0.3s ease-in-out;\n}\n"},function(n){n.exports=function(n){var t,i;if(!0&&typeof document!="object")throw new Error("The style-loader cannot be used in a non-browser environment");return t=document.createElement("style"),t.type="text/css",t.styleSheet?t.styleSheet.cssText=n:t.appendChild(document.createTextNode(n)),i=document.getElementsByTagName("head")[0],i.appendChild(t),function(){i.removeChild(t)}}}]),function(n,t){"use strict";function r(n,r,u){i.directive(n,["$parse","$swipe",function(i,f){return function(e,o,s){function a(n){if(!h)return!1;var t=Math.abs(n.y-h.y);return n=(n.x-h.x)*r,c&&75>t&&0<n&&30<n&&.3>t/n}var v=i(s[n]),h,c,l=["touch"];t.isDefined(s.ngSwipeDisableMouse)||l.push("mouse");f.bind(o,{start:function(n){h=n;c=!0},cancel:function(){c=!1},end:function(n,t){a(n)&&e.$apply(function(){o.triggerHandler(u);v(e,{$event:t})})}},l)}}])}var i=t.module("ngTouch",[]);i.factory("$swipe",[function(){function i(n){n=n.originalEvent||n;var t=n.touches&&n.touches.length?n.touches:[n];return n=n.changedTouches&&n.changedTouches[0]||t[0],{x:n.clientX,y:n.clientY}}function n(n,i){var u=[];return t.forEach(n,function(n){(n=r[n][i])&&u.push(n)}),u.join(" ")}var r={mouse:{start:"mousedown",move:"mousemove",end:"mouseup"},touch:{start:"touchstart",move:"touchmove",end:"touchend",cancel:"touchcancel"}};return{bind:function(t,r,u){var e,o,s,h,f=!1,c;u=u||["mouse","touch"];t.on(n(u,"start"),function(n){s=i(n);f=!0;o=e=0;h=s;r.start&&r.start(s,n)});if(c=n(u,"cancel"),c)t.on(c,function(n){f=!1;r.cancel&&r.cancel(n)});t.on(n(u,"move"),function(n){if(f&&s){var t=i(n);e+=Math.abs(t.x-h.x);o+=Math.abs(t.y-h.y);h=t;10>e&&10>o||(o>e?(f=!1,r.cancel&&r.cancel(n)):(n.preventDefault(),r.move&&r.move(t,n)))}});t.on(n(u,"end"),function(n){f&&(f=!1,r.end&&r.end(i(n),n))})}}}]);i.config(["$provide",function(n){n.decorator("ngClickDirective",["$delegate",function(n){return n.shift(),n}])}]);i.directive("ngClick",["$parse","$timeout","$rootElement",function(n,i,r){function e(n,t,i){for(var u,f,r=0;r<n.length;r+=2)if(u=n[r+1],f=i,25>Math.abs(n[r]-t)&&25>Math.abs(u-f))return n.splice(r,r+2),!0;return!1}function s(n){var s;if(!(2500<Date.now()-o)){var i=n.touches&&n.touches.length?n.touches:[n],r=i[0].clientX,i=i[0].clientY;1>r&&1>i||f&&f[0]===r&&f[1]===i||(f&&(f=null),s=n.target,"label"===t.lowercase(s.nodeName||s[0]&&s[0].nodeName)&&(f=[r,i]),e(u,r,i)||(n.stopPropagation(),n.preventDefault(),n.target&&n.target.blur&&n.target.blur()))}}function h(n){n=n.touches&&n.touches.length?n.touches:[n];var t=n[0].clientX,r=n[0].clientY;u.push(t,r);i(function(){for(var n=0;n<u.length;n+=2)if(u[n]==t&&u[n+1]==r){u.splice(n,n+2);break}},2500,!1)}var o,u,f;return function(i,f,c){var w=n(c.ngClick),a=!1,l,v,y,p;f.on("touchstart",function(n){a=!0;l=n.target?n.target:n.srcElement;3==l.nodeType&&(l=l.parentNode);f.addClass("ng-click-active");v=Date.now();n=n.originalEvent||n;n=(n.touches&&n.touches.length?n.touches:[n])[0];y=n.clientX;p=n.clientY});f.on("touchcancel",function(){a=!1;f.removeClass("ng-click-active")});f.on("touchend",function(n){var b=Date.now()-v,i=n.originalEvent||n,w=(i.changedTouches&&i.changedTouches.length?i.changedTouches:i.touches&&i.touches.length?i.touches:[i])[0],i=w.clientX,w=w.clientY,k=Math.sqrt(Math.pow(i-y,2)+Math.pow(w-p,2));a&&750>b&&12>k&&(u||(r[0].addEventListener("click",s,!0),r[0].addEventListener("touchstart",h,!0),u=[]),o=Date.now(),e(u,i,w),l&&l.blur(),t.isDefined(c.disabled)&&!1!==c.disabled||f.triggerHandler("click",[n]));a=!1;f.removeClass("ng-click-active")});f.onclick=function(){};f.on("click",function(n,t){i.$apply(function(){w(i,{$event:t||n})})});f.on("mousedown",function(){f.addClass("ng-click-active")});f.on("mousemove mouseup",function(){f.removeClass("ng-click-active")})}}]);r("ngSwipeLeft",-1,"swipeleft");r("ngSwipeRight",1,"swiperight")}(window,window.angular);window.AngularSlider=function(n,t,i){function b(n){d.cssText=n}function o(n,t){return typeof n===t}function k(){u.inputtypes=function(n){for(var u,f,o,e=0,s=n.length;s>e;e++)r.setAttribute("type",f=n[e]),u="text"!==r.type,u&&(r.value=y,r.style.cssText="position:absolute;visibility:hidden;",/^range$/.test(f)&&r.style.WebkitAppearance!==i?(h.appendChild(r),o=t.defaultView,u=o.getComputedStyle&&"textfield"!==o.getComputedStyle(r,null).WebkitAppearance&&0!==r.offsetHeight,h.removeChild(r)):/^(search|tel)$/.test(f)||(u=/^(url|email)$/.test(f)?r.checkValidity&&r.checkValidity()===!1:r.value!=y)),p[n[e]]=!!u;return p}("search tel url email datetime date month week time datetime-local number range color".split(" "))}var f,s,u={},h=t.documentElement,v=t.createElement("modernizr"),d=v.style,r=t.createElement("input"),y=":)",c=({}.toString,{}),p={},w=[],l=w.slice,a={}.hasOwnProperty,e;s=o(a,"undefined")||o(a.call,"undefined")?function(n,t){return t in n&&o(n.constructor.prototype[t],"undefined")}:function(n,t){return a.call(n,t)};Function.prototype.bind||(Function.prototype.bind=function(n){var t=this,i,r;if("function"!=typeof t)throw new TypeError;return i=l.call(arguments,1),r=function(){var f,e,u;return this instanceof r?(f=function(){},f.prototype=t.prototype,e=new f,u=t.apply(e,i.concat(l.call(arguments))),Object(u)===u?u:e):t.apply(n,i.concat(l.call(arguments)))},r});for(e in c)s(c,e)&&(f=e.toLowerCase(),u[f]=c[e](),w.push((u[f]?"":"no-")+f));return u.input||k(),u.addTest=function(n,t){if("object"==typeof n)for(var r in n)s(n,r)&&u.addTest(r,n[r]);else{if(n=n.toLowerCase(),u[n]!==i)return u;t="function"==typeof t?t():t;"undefined"!=typeof enableClasses&&enableClasses&&(h.className+=" "+(t?"":"no-")+n);u[n]=t}return u},b(""),v=r=null,u._version="2.7.1",u}(this,this.document),function(n,t,i){function h(n){return"[object Function]"==y.call(n)}function c(n){return"string"==typeof n}function l(){}function w(n){return!n||"loaded"==n||"complete"==n||"uninitialized"==n}function f(){var n=a.shift();v=1;n?n.t?s(function(){("c"==n.t?r.injectCss:r.injectJs)(n.s,0,n.a,n.x,n.e,1)},0):(n(),f()):v=0}function ut(n,i,o,h,c,l,y){function k(t){if(!d&&w(p.readyState)&&(tt.r=d=1,!v&&f(),p.onload=p.onreadystatechange=null,t)){"img"!=n&&s(function(){nt.removeChild(p)},50);for(var r in u[i])u[i].hasOwnProperty(r)&&u[i][r].onload()}}var y=y||r.errorTimeout,p=t.createElement(n),d=0,b=0,tt={t:o,s:i,e:c,a:l,x:y};1===u[i]&&(b=1,u[i]=[]);"object"==n?p.data=i:(p.src=i,p.type=n);p.width=p.height="0";p.onerror=p.onload=p.onreadystatechange=function(){k.call(this,b)};a.splice(h,0,tt);"img"!=n&&(b||2===u[i]?(nt.insertBefore(p,g?null:e),s(k,y)):u[i].push(p))}function ft(n,t,i,r,u){return v=0,t=t||"j",c(n)?ut("c"==t?et:tt,n,t,this.i++,i,r,u):(a.splice(this.i++,0,n),1==a.length&&f()),this}function b(){var n=r;return n.loader={load:ft,i:0},n}var k,r,o=t.documentElement,s=n.setTimeout,e=t.getElementsByTagName("script")[0],y={}.toString,a=[],v=0,d="MozAppearance"in o.style,g=d&&!!t.createRange().compareNode,nt=g?o:e.parentNode,o=n.opera&&"[object Opera]"==y.call(n.opera),o=!!t.attachEvent&&!o,tt=d?"object":o?"script":"img",et=o?"script":tt,it=Array.isArray||function(n){return"[object Array]"==y.call(n)},p=[],u={},rt={timeout:function(n,t){return t.length&&(n.timeout=t[0]),n}};r=function(n){function a(n){for(var u,r,n=n.split("!"),f=p.length,i=n.pop(),e=n.length,i={url:i,origUrl:i,prefixes:n},t=0;e>t;t++)r=n[t].split("="),(u=rt[r.shift()])&&(i=u(i,r));for(t=0;f>t;t++)i=p[t](i);return i}function f(n,t,r,f,e){var o=a(n),s=o.autoCallback;o.url.split(".").pop().split("?").shift();o.bypass||(t&&(t=h(t)?t:t[n]||t[f]||t[n.split("/").pop().split("?")[0]]),o.instead?o.instead(n,t,r,f,e):(u[o.url]?o.noexec=!0:u[o.url]=1,r.load(o.url,o.forceCSS||!o.forceJS&&"css"==o.url.split(".").pop().split("?").shift()?"c":i,o.noexec,o.attrs,o.timeout),(h(t)||h(s))&&r.load(function(){b();t&&t(o.origUrl,e,f);s&&s(o.origUrl,e,f);u[o.url]=2})))}function s(n,t){function a(n,o){if(n){if(c(n))o||(i=function(){var n=[].slice.call(arguments);s.apply(this,n);u()}),f(n,i,t,0,e);else if(Object(n)===n)for(r in v=function(){var t,i=0;for(t in n)n.hasOwnProperty(t)&&i++;return i}(),n)n.hasOwnProperty(r)&&(!o&&!--v&&(h(i)?i=function(){var n=[].slice.call(arguments);s.apply(this,n);u()}:i[r]=function(n){return function(){var t=[].slice.call(arguments);n&&n.apply(this,t);u()}}(s[r])),f(n[r],i,t,r,e))}else o||u()}var v,r,e=!!n.test,o=n.load||n.both,i=n.callback||l,s=i,u=n.complete||l;a(e?n.yep:n.nope,!!o);o&&a(o)}var e,t,o=this.yepnope.loader;if(c(n))f(n,0,o,0);else if(it(n))for(e=0;e<n.length;e++)t=n[e],c(t)?f(t,0,o,0):it(t)?r(t):Object(t)===t&&s(t,o);else Object(n)===n&&s(n,o)};r.addPrefix=function(n,t){rt[n]=t};r.addFilter=function(n){p.push(n)};r.errorTimeout=1e4;null==t.readyState&&t.addEventListener&&(t.readyState="loading",t.addEventListener("DOMContentLoaded",k=function(){t.removeEventListener("DOMContentLoaded",k,0);t.readyState="complete"},0));n.yepnope=b();n.yepnope.executeStack=f;n.yepnope.injectJs=function(n,i,u,o,h,c){var v,y,a=t.createElement("script"),o=o||r.errorTimeout;a.src=n;for(y in u)a.setAttribute(y,u[y]);i=c?f:i||l;a.onreadystatechange=a.onload=function(){!v&&w(a.readyState)&&(v=1,i(),a.onload=a.onreadystatechange=null)};s(function(){v||(v=1,i(1))},o);h?a.onload():e.parentNode.insertBefore(a,e)};n.yepnope.injectCss=function(n,i,r,u,o,h){var c,u=t.createElement("link"),i=h?f:i||l;u.href=n;u.rel="stylesheet";u.type="text/css";for(c in r)u.setAttribute(c,r[c]);o||(e.parentNode.insertBefore(u,e),s(i,0))}}(this,document);AngularSlider.load=function(){yepnope.apply(window,[].slice.call(arguments,0))};angular.module("vr.directives.slider",["ngTouch"]).directive("slider",["$timeout","$document","$interpolate","$swipe",function(n,t,i,r){function o(n){return angular.element(n)}function p(n){return""+n+"px"}function w(n,t){return n.css({opacity:t})}function s(n){return w(n,0)}function v(n){return w(n,1)}function f(n,t){return n.css({left:t})}function l(n){var t=parseFloat(n.css("width"));return isNaN(t)?n[0].offsetWidth:t}function h(n){return l(n)/2}function e(n){try{return n.offset().left}catch(t){}return n[0].getBoundingClientRect().left}function y(n,t){return e(n)>e(t)?e(n)-e(t)-l(t):e(t)-e(n)-l(n)}function c(n,t){return n.attr("ng-bind-template",t)}function a(n,t,i,r,u){(angular.isUndefined(t)||!t)&&(t=0);(angular.isUndefined(i)||!i||0==i)&&(i=1/Math.pow(10,t));(angular.isUndefined(r)||!r)&&(r=0);(angular.isUndefined(n)||!n)&&(n=0);var e=(n-r)%i,f=e>i/2?n+i-e:n-e;return(angular.isUndefined(u)||!u)&&(u=f),f=Math.min(Math.max(f,r),u),parseFloat(f.toFixed(t))}function b(n,t){return Math.floor(n/t+.5)*t}function k(n,t){return n>0&&!isNaN(t)?Math.ceil(t/n)*n:t}function u(n){return g+" "+n+" "+nt}var d=3,g=i.startSymbol(),nt=i.endSymbol();return{restrict:"EA",require:"ngModel",scope:{floor:"@",ceiling:"@",step:"@",stepWidth:"@",precision:"@",buffer:"@",stickiness:"@",showSteps:"@",ngModel:"=",ngModelRange:"=",ngDisabled:"=",ngChange:"&",translateFn:"&",translateRangeFn:"&",translateCombinedFn:"&",scaleFn:"&",inverseScaleFn:"&"},template:"<span class='bar full'><\/span><span class='bar steps'><span class='bubble step' ng-repeat='step in stepBubbles()'><\/span><\/span><span class='bar selection'><\/span><span class='bar unselected low'><\/span><span class='bar unselected high'><\/span><span class='pointer low'><\/span><span class='pointer high'><\/span><span class='bubble low'><\/span><span class='bubble high'><\/span><span class='bubble middle'><\/span><span class='bubble selection'><\/span><span class='bubble limit floor'><\/span><span class='bubble limit ceiling'><\/span><input type='range' class='input low' /><input type='range' class='input high' /><input type='range' class='input selection' />",compile:function(i,w){function st(n){n||(n=i);var t=[];return angular.forEach(n.children(),function(n){t.push(o(n))}),t}function ht(n,t,i){return{fullBar:n[0],stepBubs:n[1],selBar:t?n[2]:null,unSelBarLow:t?n[3]:null,unSelBarHigh:t?n[4]:null,minPtr:t?n[5]:n[2],maxPtr:t?n[6]:null,lowBub:t?n[7]:n[3],highBub:t?n[8]:null,cmbBub:t?n[9]:null,selBub:t?n[10]:null,flrBub:t?n[11]:n[4],ceilBub:t?n[12]:n[5],minInput:i?t?n[13]:n[6]:null,maxInput:i&&t?n[14]:null,selInput:i&&t?n[15]:null}}var lt=w.showSteps,it=w.stepWidth?"stepWidth":"step",rt=null!=w.ngModelRange,g={},nt="ngModel",tt="ngModelRange",ft="selectBar",ut=["floor","ceiling","stickiness",nt],et;if((g=function(){for(var n,i=st(),r=[],t=0,u=i.length;u>t;t++)n=i[t],n=o(n),n.css({"white-space":"nowrap",position:"absolute",display:"block","z-index":1}),r.push(n);return r}(),g=ht(g,!0,!0),w.translateFn&&w.$set("translateFn",""+w.translateFn+"(value)"),w.translateRangeFn&&w.$set("translateRangeFnFn",""+w.translateRangeFn+"(low,high)"),w.translateCombinedFn&&w.$set("translateCombinedFnFn",""+w.translateCombinedFn+"(low,high)"),w.scaleFn&&w.$set("scaleFn",""+w.scaleFn+"(value)"),w.inverseScaleFn&&w.$set("inverseScaleFn",""+w.inverseScaleFn+"(value)"),g.fullBar.css({left:0,right:0}),AngularSlider.inputtypes.range)?(et={position:"absolute",margin:0,padding:0,opacity:0,height:"100%"},g.minInput.attr("step",u("inputSteps()")),g.minInput.attr("min",u("floor")),g.minInput.css(et),g.minInput.css("left",0),rt?(g.minInput.attr("max",u("ngModelRange - (buffer / 2)")),g.maxInput.attr("step",u("inputSteps()")),g.maxInput.attr("min",u("ngModel + (buffer / 2)")),g.maxInput.attr("max",u("ceiling")),g.maxInput.css(et),g.selInput.attr("step",u("inputSteps()")),g.selInput.attr("min",u("ngModel")),g.selInput.attr("max",u("ngModelRange")),g.selInput.css(et)):(g.minInput.attr("max",u("ceiling")),g.minInput.css({width:"100%"}),g.maxInput.remove(),g.selInput.remove())):(g.minInput.remove(),g.maxInput.remove(),g.selInput.remove()),c(g.stepBubs.children().eq(0),u("translation(step)")),c(g.ceilBub,u("translation(ceiling)")),c(g.flrBub,u("translation(floor)")),c(g.selBub,u("rangeTranslation("+nt+","+tt+")")),c(g.lowBub,u("translation("+nt+")")),c(g.highBub,u("translation("+tt+")")),c(g.cmbBub,u("combinedTranslation("+nt+","+tt+")")),rt)ut.push(tt),ut.unshift("buffer");else for(var ct=[g.selBar,g.unSelBarLow,g.unSelBarHigh,g.maxPtr,g.selBub,g.highBub,g.cmbBub],ot=0,at=ct.length;at>ot;ot++)i=ct[ot],i.remove();return ut.unshift("precision",it),lt||g.stepBubs.children().remove(),{post:function(i,u,c,w){function ui(){var n,t,r;(angular.forEach(ut,function(n){i[n]=parseFloat(i[n]);n==nt||n==tt?i[n]=a(i[n],i.precision,i[it],i.floor,i.ceiling):"buffer"==n?i.buffer=!i.buffer||isNaN(i.buffer)||i.buffer<0?0:k(i[it],i.buffer):"precision"==n?i.precision=!i.precision||isNaN(i.precision)?0:parseInt(i.precision):n==it?i[it]=!i[it]||isNaN(i[it])?1/Math.pow(10,i.precision):parseFloat(i[it].toFixed(i.precision)):"stickiness"==n&&(isNaN(i.stickiness)?i.stickiness=d:i.stickiness<1&&(i.stickiness=1));i.decodedValues[n]=i.decodeRef(n)}),rt)&&(i[tt]<i[nt]&&(n=i[tt],i[tt]=i[nt],i[nt]=n),t=a(i[tt]-i[nt],i.precision,i[it]),i.buffer>0&&t<i.buffer&&(r=i.encode((i.decodedValues[nt]+i.decodedValues[tt])/2),i[nt]=a(r-i.buffer/2,i.precision,i[it],i.floor,i.ceiling),i[tt]=i[nt]+i.buffer,i[tt]>i.ceiling&&(i[tt]=i.ceiling,i[nt]=i.ceiling-i.buffer)));bt=l(g.fullBar);at=h(g.minPtr);ot=e(g.fullBar);kt=ot+bt-l(g.minPtr);dt=kt-ot;vt=i.floor;yt=i.decodedValues.floor;pt=i.ceiling;ni=i.decodedValues.ceiling;ti=pt-vt;lt=ni-yt;ii=b(lt,i.decodedValues[it])}function wt(){function d(n){return(n-ot)/dt*100}function vi(n){return d(n)/100*lt+yt}function ni(n){return i.encode(vi(n))}function fi(n){var t=n-yt;return ti==lt?t=b(t,i.decodedValues[it])/ii:t/=lt,100*t}function c(n){return fi(i.decode(n))}function n(n){return p(n*dt/100)}function hi(n){return Math.min(Math.max(n,ot),kt)}function ht(t){return f(t,n(d(hi(e(t)))))}function wt(n,t,r){var u=n>0?1:-1;return t=t?t:100,r?(Math.sin(Math.min(Math.abs(n/t),1)*Math.PI-Math.PI/2)+1)*u*t/6:u*Math.pow(Math.min(Math.abs(n/t*2),1),i.stickiness)*t/2}function ei(){var u=fi(i.decodedValues[nt]),b=c(i[nt]+i[it])-u,k=u-c(i[nt]-i[it]),a=c(i[nt]+i.buffer)-u,o=d(at+ot),t=u+wt(et,et>0?b:k);if(f(g.minPtr,n(t)),f(g.lowBub,n(d(e(g.minPtr)-h(g.lowBub)+at))),rt){var s=fi(i.decodedValues[tt]),ut=c(i[tt]+i[it])-s,ft=s-c(i[tt]-i[it]),v=s-c(i[tt]-i.buffer),r=s+wt(ct,ct>0?ut:ft);if(t>s-v&&(t=u+wt(et,a,!0),f(g.minPtr,n(t)),f(g.lowBub,n(d(e(g.minPtr)-h(g.lowBub)+at)))),u+a>r&&(r=s+wt(ct,v,!0)),f(g.maxPtr,n(r)),f(g.highBub,n(d(e(g.maxPtr)-h(g.highBub)+at))),f(g.selBar,n(t+o)),g.selBar.css({width:n(r-t)}),f(g.selBub,n((t+r)/2-d(h(g.selBub)+ot)+o)),f(g.cmbBub,n((t+r)/2-d(h(g.cmbBub)+ot)+o)),g.unSelBarLow.css({left:0,width:n(t+o)}),f(g.unSelBarHigh,n(r+o)),g.unSelBarHigh.css({right:0}),AngularSlider.inputtypes.range){var l=2*o,y=t+a/2,st=100-y;y+=l;var ht=r-v/2,p=t+l,w=r-t-l;t+l>=r&&(p=t,w=r+l-t);g.minInput.css({width:n(ht)});g.maxInput.css({left:n(y),width:n(st)});g.selInput.css({left:n(p),width:n(w)})}}}function oi(){var n=g.lowBub;ht(g.lowBub);rt&&(ht(g.highBub),ht(g.selBub),y(g.lowBub,g.highBub)<10?(s(g.lowBub),s(g.highBub),v(g.cmbBub),ht(g.cmbBub),n=g.cmbBub):(v(g.lowBub),v(g.highBub),s(g.cmbBub),n=g.highBub));y(g.flrBub,g.lowBub)<5?s(g.flrBub):rt&&y(g.flrBub,n)<5?s(g.flrBub):v(g.flrBub);y(g.lowBub,g.ceilBub)<5?s(g.ceilBub):rt&&y(n,g.ceilBub)<5?s(g.ceilBub):v(g.ceilBub)}function gt(){et=0;ct=0;ut&&(ei(),oi(),ut.removeClass("active"));ut=null;k=null;si=!1}function st(n){ut&&i.$apply(function(){var s=n.clientX||n.x,r,f,l,v,o;if(si)r=ni(s)-li,f=ni(s)+ai,vt>r?(f+=vt-r,r=vt):f>pt&&(r-=f-pt,f=pt),l=c(r),v=c(f),et=l,ct=v,i[nt]=r=a(r,i.precision,i[it],i.floor,i.ceiling),i[tt]=f=a(f,i.precision,i[it],i.floor,i.ceiling),et-=c(r),ct-=c(f);else{var p=hi(s+ot-e(u)-h(ut)),y=d(p),t=i.encode(yt+lt*y/100);(et=y,rt)&&(i.buffer>0?k===nt?t>i[tt]-i.buffer&&(t=i[tt]-i.buffer):t<i[nt]+i.buffer&&(t=i[nt]+i.buffer):k===nt?t>i[tt]&&(i[nt]=i[tt],i.decodedValues[nt]=i.decodeRef(nt),k=tt,o=g.minPtr,g.minPtr=g.maxPtr,g.maxPtr=o,g.maxPtr.removeClass("active").removeClass("high").addClass("low"),g.minPtr.addClass("active").removeClass("low").addClass("high")):t<i[nt]&&(i[tt]=i[nt],i.decodedValues[tt]=i.decodeRef(tt),k=nt,o=g.minPtr,g.minPtr=g.maxPtr,g.maxPtr=o,g.minPtr.removeClass("active").removeClass("low").addClass("high"),g.maxPtr.addClass("active").removeClass("high").addClass("low")));i[k]=t=a(t,i.precision,i[it],i.floor,i.ceiling);i.decodedValues[k]=i.decodeRef(k);k===nt?(et-=c(t),ct=0):(ct=et-c(t),et=0)}i.ngChange&&i.ngChange();w.$setViewValue(i[nt]);ei();oi()})}function ci(n,t,r){var f,u;i.ngDisabled&&1==i.ngDisabled||(n.preventDefault(),f=n.clientX||n.x,(ut=t,k=r,ut.addClass("active"),k==ft)&&(si=!0,u=ni(f),li=u-i[nt],ai=i[tt]-u),st(n))}function yi(){function i(n,t,i){function u(n,r){ci(r,t,i)}function f(n,t){st(t);gt()}n=o(n);r.bind(n,{start:u,move:function(n,t){st(t)},end:f,cancel:function(n,t){gt(t)}})}function n(n,t,i){n=o(n);i=angular.isUndefined(i)?n:o(i);r.bind(n,{start:function(n,r){ci(r,i,t)}})}function u(n){n=o(n);r.bind(n,{move:function(n,t){st(t)},end:function(n,t){st(t);gt()},cancel:function(n,t){gt(t)}})}AngularSlider.inputtypes.range?(i(g.minInput,g.minPtr,nt),rt&&(i(g.maxInput,g.maxPtr,tt),i(g.selInput,g.selBar,ft))):(u(t),n(g.minPtr,nt),n(g.lowBub,nt),n(g.flrBub,nt,g.minPtr),rt?(n(g.maxPtr,tt),n(g.highBub,tt),n(g.ceilBub,tt,g.maxPtr),n(g.selBar,ft),n(g.selBub,ft,g.selBar),n(g.unSelBarLow,nt,g.minPtr),n(g.unSelBarHigh,tt,g.maxPtr)):(n(g.ceilBub,nt,g.minPtr),n(g.fullBar,nt,g.minPtr)))}var si,li,ai,ut,k;ui();f(g.flrBub,0);f(g.ceilBub,p(bt-l(g.ceilBub)));ei();oi();ri||(yi(),ri=!0)}var g=ht(st(u),rt,AngularSlider.inputtypes.range);i.decodedValues={floor:0,ceiling:0,step:0,stepWidth:0,precision:0,buffer:0,stickiness:0,ngModel:0,ngModelRange:0};i.translation=function(n){return n=parseFloat(n).toFixed(i.precision),angular.isUndefined(c.translateFn)?""+n:i.translateFn({value:n})};i.rangeTranslation=function(n,t){return angular.isUndefined(c.translateRangeFn)?"Range: "+i.translation((t-n).toFixed(i.precision)):i.translateRangeFn({low:n,high:t})};i.combinedTranslation=function(n,t){return angular.isUndefined(c.translateCombinedFn)?i.translation(n)+" - "+i.translation(t):i.translateCombinedFn({low:n,high:t})};i.encode=function(n){return angular.isUndefined(c.scaleFn)||""==c.scaleFn?n:i.scaleFn({value:n})};i.decode=function(n){return angular.isUndefined(c.inverseScaleFn)||""==c.inverseScaleFn?n:i.inverseScaleFn({value:n})};(1!=Math.round(i.encode(i.decode(1)))||100!=Math.round(i.encode(i.decode(100))))&&console.warn("The scale and inverseScale functions are not perfect inverses: 1 = "+i.encode(i.decode(1))+"  100 = "+i.encode(i.decode(100)));i.decodeRef=function(n){return i.decode(i[n])};i.inputSteps=function(){return Math.pow(10,-1*i.precision)};for(var bt=0,at=0,ot=0,kt=0,dt=0,vt=0,yt=0,pt=0,ni=0,ti=0,lt=0,ii=1,et=0,ct=0,ri=!1,gt=0;gt<ut.length;gt++)i.$watch(ut[gt],function(){wt()});o(window).bind("resize",function(){wt()});i.$on("refreshSlider",function(){n(function(){wt()})});n(function(){wt()})}}}}}]);angular.module("rgkevin.datetimeRangePicker",["vr.directives.slider"]).filter("rgTime",[function(){return function(n,t){var i=parseInt(n/60,10),r=10>n-60*i?"0"+(n-60*i):n-60*i,u=t?":00":i>=12&&24!==i?" pm":" am";return(!t&&i>12?24===i?"00":(10>i-12?"0":"")+(i-12):(10>i?"0":"")+i)+":"+r+u}}]).directive("rgRangePicker",["$compile","$timeout","$filter",function(n,t,i){return{restrict:"A",scope:{data:"=rgRangePicker",labels:"=",onTimeChange:"&",maxRangeDate:"=",vertical:"="},template:function(){return'<div class="rg-range-picker" ng-class="{\'rg-range-picker-vertical\':vertical}"><div class="rg-range-picker-box well" ng-class="{ \'only-calendars\': !data.hasTimeSliders, \'only-slider\': !data.hasDatePickers }"><div class="rg-range-picker-calendars" ng-show="data.hasDatePickers"><div class="rg-range-picker-calendar-box"><h5 class="rg-range-picker-calendar-label" ng-bind-template="{{datepickerTitles.from}}"><\/h5><datepicker ng-model="data.date.from" max-date="data.date.to" min-date="data.date.min" show-weeks="false" class="clean-calendar"><\/datepicker><\/div><div class="rg-range-picker-calendar-box right"><h5 class="rg-range-picker-calendar-label" ng-bind-template="{{datepickerTitles.to}}"><\/h5><datepicker ng-model="data.date.to" min-date="data.date.from" max-date="data.date.max" show-weeks="false" class="clean-calendar"><\/datepicker><\/div><\/div><div class="rg-range-picker-slider" id="rgRangePickerSliderContainer" ng-show="data.hasTimeSliders"><div class="rg-range-picker-slider-labels"><div class="row"><div class="rg-range-picker-divider xs-hidden"><span class="label">to<\/span><\/div><div class="col-xs-6 text-center"><span class="label label-range-picker">{{data.time.from | rgTime:data.time.hours24}}<\/span><\/div><div class="col-xs-6 text-center"><span class="label label-range-picker">{{data.time.to | rgTime:data.time.hours24}}<\/span><\/div><\/div><\/div><\/div><\/div><\/div>'},link:function(r,u,f){function o(){!l&&r.data.hasTimeSliders&&(p.append(c),n(c)(r),l=!0,u.width()<=y&&angular.element(".rg-range-picker",u[0]).addClass("rg-range-picker-responsive"))}function s(n,u){angular.isUndefined(e)||t.cancel(e);n!==u&&(e=t(function(){r.onTimeChange()({from:i("rgTime")(r.data.time.from,!0),to:i("rgTime")(r.data.time.to,!0),range:i("rgTime")(r.data.time.to-r.data.time.from,!0)})},500))}function h(){var t=r.data.date.to.getTime()-r.data.date.from.getTime(),n=b-t,i=r.data.date.from.getTime()-n<v?v:r.data.date.from.getTime()-n,u=r.data.date.to.getTime()+n>a?a:r.data.date.to.getTime()+n;r.data.date.min=new Date(i);r.data.date.max=new Date(u)}var e,y=400,p=angular.element("#rgRangePickerSliderContainer",u[0]),c=angular.element('<div slider class="clean-slider" ng-model="data.time.from" ng-model-range="data.time.to" floor="{{data.time.dFrom}}" ceiling="{{data.time.dTo}}" buffer="{{data.time.minRange || 1}}" step="{{data.time.step || 1}}" step-width="{{data.time.step || 1}}" precision="0" stretch="3"><\/div>'),l=!1,w={from:new Date,to:new Date,min:null,max:null};r.data.hasDatePickers=angular.isObject(r.data.date);r.data.hasTimeSliders=angular.isObject(r.data.time);r.datepickerTitles=angular.extend({date:{from:"START_DATE",to:"END_DATE"}}.date,r.labels&&r.labels.date);r.data.hasDatePickers&&(r.data.date=angular.extend(w,r.data.date));r.data.hasTimeSliders&&(r.data.time=angular.extend({from:480,to:1020,dFrom:0,dTo:1440,step:15,minRange:15,hours24:!0},r.data.time));f.collapse?r.$watch(function(){return u[0].className},function(){u.hasClass("in")&&o()}):o();!angular.isUndefined(r.onTimeChange())&&r.data.hasTimeSliders&&(r.$watch("data.time.from",s),r.$watch("data.time.to",s));var b=864e5*(r.maxRangeDate&&r.maxRangeDate-1||0),a=r.data.date&&r.data.date.max&&r.data.date.max.getTime(),v=r.data.date&&r.data.date.min&&r.data.date.min.getTime();r.maxRangeDate&&r.data.hasDatePickers&&(r.$watch("data.date.from",h),r.$watch("data.date.to",h))},controller:function(){}}}])